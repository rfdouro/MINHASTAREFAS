const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./AboutView-CgJdN3vI.js","./AboutView-CSIvawM9.css"])))=>i.map(i=>d[i]);
var OS=Object.defineProperty;var MS=(t,e,n)=>e in t?OS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ei=(t,e,n)=>MS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Uf(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const tt={},Us=[],ci=()=>{},LS=()=>!1,Ic=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$f=t=>t.startsWith("onUpdate:"),xt=Object.assign,jf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},VS=Object.prototype.hasOwnProperty,Ge=(t,e)=>VS.call(t,e),Ae=Array.isArray,$s=t=>ol(t)==="[object Map]",KE=t=>ol(t)==="[object Set]",FS=t=>ol(t)==="[object RegExp]",xe=t=>typeof t=="function",dt=t=>typeof t=="string",Rr=t=>typeof t=="symbol",ct=t=>t!==null&&typeof t=="object",GE=t=>(ct(t)||xe(t))&&xe(t.then)&&xe(t.catch),QE=Object.prototype.toString,ol=t=>QE.call(t),qS=t=>ol(t).slice(8,-1),YE=t=>ol(t)==="[object Object]",Hf=t=>dt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ca=Uf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},BS=/-(\w)/g,On=Cc(t=>t.replace(BS,(e,n)=>n?n.toUpperCase():"")),US=/\B([A-Z])/g,ds=Cc(t=>t.replace(US,"-$1").toLowerCase()),Sc=Cc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Nh=Cc(t=>t?`on${Sc(t)}`:""),cr=(t,e)=>!Object.is(t,e),ha=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},JE=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},$S=t=>{const e=parseFloat(t);return isNaN(e)?t:e},jS=t=>{const e=dt(t)?Number(t):NaN;return isNaN(e)?t:e};let Fg;const Ac=()=>Fg||(Fg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zf(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=dt(i)?KS(i):zf(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(dt(t)||ct(t))return t}const HS=/;(?![^(]*\))/g,zS=/:([^]+)/,WS=/\/\*[^]*?\*\//g;function KS(t){const e={};return t.replace(WS,"").split(HS).forEach(n=>{if(n){const i=n.split(zS);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Wf(t){let e="";if(dt(t))e=t;else if(Ae(t))for(let n=0;n<t.length;n++){const i=Wf(t[n]);i&&(e+=i+" ")}else if(ct(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const GS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",QS=Uf(GS);function XE(t){return!!t||t===""}const ZE=t=>!!(t&&t.__v_isRef===!0),Zo=t=>dt(t)?t:t==null?"":Ae(t)||ct(t)&&(t.toString===QE||!xe(t.toString))?ZE(t)?Zo(t.value):JSON.stringify(t,eb,2):String(t),eb=(t,e)=>ZE(e)?eb(t,e.value):$s(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],s)=>(n[Dh(i,s)+" =>"]=r,n),{})}:KE(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Dh(n))}:Rr(e)?Dh(e):ct(e)&&!Ae(e)&&!YE(e)?String(e):e,Dh=(t,e="")=>{var n;return Rr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cn;class YS{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=cn,!e&&cn&&(this.index=(cn.scopes||(cn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=cn;try{return cn=this,e()}finally{cn=n}}}on(){++this._on===1&&(this.prevScope=cn,cn=this)}off(){this._on>0&&--this._on===0&&(cn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function JS(){return cn}let it;const Oh=new WeakSet;class tb{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,cn&&cn.active&&cn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Oh.has(this)&&(Oh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ib(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qg(this),rb(this);const e=it,n=Hn;it=this,Hn=!0;try{return this.fn()}finally{sb(this),it=e,Hn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Qf(e);this.deps=this.depsTail=void 0,qg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Oh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cd(this)&&this.run()}get dirty(){return Cd(this)}}let nb=0,da,fa;function ib(t,e=!1){if(t.flags|=8,e){t.next=fa,fa=t;return}t.next=da,da=t}function Kf(){nb++}function Gf(){if(--nb>0)return;if(fa){let e=fa;for(fa=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;da;){let e=da;for(da=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function rb(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function sb(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),Qf(i),XS(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function Cd(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ob(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ob(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Oa)||(t.globalVersion=Oa,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Cd(t))))return;t.flags|=2;const e=t.dep,n=it,i=Hn;it=t,Hn=!0;try{rb(t);const r=t.fn(t._value);(e.version===0||cr(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{it=n,Hn=i,sb(t),t.flags&=-3}}function Qf(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Qf(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function XS(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Hn=!0;const ab=[];function Di(){ab.push(Hn),Hn=!1}function Oi(){const t=ab.pop();Hn=t===void 0?!0:t}function qg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=it;it=void 0;try{e()}finally{it=n}}}let Oa=0;class ZS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Yf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!it||!Hn||it===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==it)n=this.activeLink=new ZS(it,this),it.deps?(n.prevDep=it.depsTail,it.depsTail.nextDep=n,it.depsTail=n):it.deps=it.depsTail=n,lb(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=it.depsTail,n.nextDep=void 0,it.depsTail.nextDep=n,it.depsTail=n,it.deps===n&&(it.deps=i)}return n}trigger(e){this.version++,Oa++,this.notify(e)}notify(e){Kf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Gf()}}}function lb(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)lb(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Sd=new WeakMap,Jr=Symbol(""),Ad=Symbol(""),Ma=Symbol("");function Jt(t,e,n){if(Hn&&it){let i=Sd.get(t);i||Sd.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new Yf),r.map=i,r.key=n),r.track()}}function Ci(t,e,n,i,r,s){const o=Sd.get(t);if(!o){Oa++;return}const a=l=>{l&&l.trigger()};if(Kf(),e==="clear")o.forEach(a);else{const l=Ae(t),c=l&&Hf(n);if(l&&n==="length"){const h=Number(i);o.forEach((d,f)=>{(f==="length"||f===Ma||!Rr(f)&&f>=h)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Ma)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Jr)),$s(t)&&a(o.get(Ad)));break;case"delete":l||(a(o.get(Jr)),$s(t)&&a(o.get(Ad)));break;case"set":$s(t)&&a(o.get(Jr));break}}Gf()}function Is(t){const e=De(t);return e===t?e:(Jt(e,"iterate",Ma),Dn(t)?e:e.map(Vt))}function Rc(t){return Jt(t=De(t),"iterate",Ma),t}const eA={__proto__:null,[Symbol.iterator](){return Mh(this,Symbol.iterator,Vt)},concat(...t){return Is(this).concat(...t.map(e=>Ae(e)?Is(e):e))},entries(){return Mh(this,"entries",t=>(t[1]=Vt(t[1]),t))},every(t,e){return bi(this,"every",t,e,void 0,arguments)},filter(t,e){return bi(this,"filter",t,e,n=>n.map(Vt),arguments)},find(t,e){return bi(this,"find",t,e,Vt,arguments)},findIndex(t,e){return bi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return bi(this,"findLast",t,e,Vt,arguments)},findLastIndex(t,e){return bi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return bi(this,"forEach",t,e,void 0,arguments)},includes(...t){return Lh(this,"includes",t)},indexOf(...t){return Lh(this,"indexOf",t)},join(t){return Is(this).join(t)},lastIndexOf(...t){return Lh(this,"lastIndexOf",t)},map(t,e){return bi(this,"map",t,e,void 0,arguments)},pop(){return zo(this,"pop")},push(...t){return zo(this,"push",t)},reduce(t,...e){return Bg(this,"reduce",t,e)},reduceRight(t,...e){return Bg(this,"reduceRight",t,e)},shift(){return zo(this,"shift")},some(t,e){return bi(this,"some",t,e,void 0,arguments)},splice(...t){return zo(this,"splice",t)},toReversed(){return Is(this).toReversed()},toSorted(t){return Is(this).toSorted(t)},toSpliced(...t){return Is(this).toSpliced(...t)},unshift(...t){return zo(this,"unshift",t)},values(){return Mh(this,"values",Vt)}};function Mh(t,e,n){const i=Rc(t),r=i[e]();return i!==t&&!Dn(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const tA=Array.prototype;function bi(t,e,n,i,r,s){const o=Rc(t),a=o!==t&&!Dn(t),l=o[e];if(l!==tA[e]){const d=l.apply(t,s);return a?Vt(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,Vt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const h=l.call(o,c,i);return a&&r?r(h):h}function Bg(t,e,n,i){const r=Rc(t);let s=n;return r!==t&&(Dn(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,Vt(a),l,t)}),r[e](s,...i)}function Lh(t,e,n){const i=De(t);Jt(i,"iterate",Ma);const r=i[e](...n);return(r===-1||r===!1)&&Zf(n[0])?(n[0]=De(n[0]),i[e](...n)):r}function zo(t,e,n=[]){Di(),Kf();const i=De(t)[e].apply(t,n);return Gf(),Oi(),i}const nA=Uf("__proto__,__v_isRef,__isVue"),ub=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Rr));function iA(t){Rr(t)||(t=String(t));const e=De(this);return Jt(e,"has",t),e.hasOwnProperty(t)}class cb{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?fA:pb:s?fb:db).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Ae(e);if(!r){let l;if(o&&(l=eA[n]))return l;if(n==="hasOwnProperty")return iA}const a=Reflect.get(e,n,nn(e)?e:i);return(Rr(n)?ub.has(n):nA(n))||(r||Jt(e,"get",n),s)?a:nn(a)?o&&Hf(n)?a:a.value:ct(a)?r?gb(a):si(a):a}}class hb extends cb{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=Er(s);if(!Dn(i)&&!Er(i)&&(s=De(s),i=De(i)),!Ae(e)&&nn(s)&&!nn(i))return l?!1:(s.value=i,!0)}const o=Ae(e)&&Hf(n)?Number(n)<e.length:Ge(e,n),a=Reflect.set(e,n,i,nn(e)?e:r);return e===De(r)&&(o?cr(i,s)&&Ci(e,"set",n,i):Ci(e,"add",n,i)),a}deleteProperty(e,n){const i=Ge(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&Ci(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!Rr(n)||!ub.has(n))&&Jt(e,"has",n),i}ownKeys(e){return Jt(e,"iterate",Ae(e)?"length":Jr),Reflect.ownKeys(e)}}class rA extends cb{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const sA=new hb,oA=new rA,aA=new hb(!0);const Rd=t=>t,zl=t=>Reflect.getPrototypeOf(t);function lA(t,e,n){return function(...i){const r=this.__v_raw,s=De(r),o=$s(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...i),h=n?Rd:e?Pu:Vt;return!e&&Jt(s,"iterate",l?Ad:Jr),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function Wl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function uA(t,e){const n={get(r){const s=this.__v_raw,o=De(s),a=De(r);t||(cr(r,a)&&Jt(o,"get",r),Jt(o,"get",a));const{has:l}=zl(o),c=e?Rd:t?Pu:Vt;if(l.call(o,r))return c(s.get(r));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!t&&Jt(De(r),"iterate",Jr),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=De(s),a=De(r);return t||(cr(r,a)&&Jt(o,"has",r),Jt(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=De(a),c=e?Rd:t?Pu:Vt;return!t&&Jt(l,"iterate",Jr),a.forEach((h,d)=>r.call(s,c(h),c(d),o))}};return xt(n,t?{add:Wl("add"),set:Wl("set"),delete:Wl("delete"),clear:Wl("clear")}:{add(r){!e&&!Dn(r)&&!Er(r)&&(r=De(r));const s=De(this);return zl(s).has.call(s,r)||(s.add(r),Ci(s,"add",r,r)),this},set(r,s){!e&&!Dn(s)&&!Er(s)&&(s=De(s));const o=De(this),{has:a,get:l}=zl(o);let c=a.call(o,r);c||(r=De(r),c=a.call(o,r));const h=l.call(o,r);return o.set(r,s),c?cr(s,h)&&Ci(o,"set",r,s):Ci(o,"add",r,s),this},delete(r){const s=De(this),{has:o,get:a}=zl(s);let l=o.call(s,r);l||(r=De(r),l=o.call(s,r)),a&&a.call(s,r);const c=s.delete(r);return l&&Ci(s,"delete",r,void 0),c},clear(){const r=De(this),s=r.size!==0,o=r.clear();return s&&Ci(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=lA(r,t,e)}),n}function Jf(t,e){const n=uA(t,e);return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(Ge(n,r)&&r in i?n:i,r,s)}const cA={get:Jf(!1,!1)},hA={get:Jf(!1,!0)},dA={get:Jf(!0,!1)};const db=new WeakMap,fb=new WeakMap,pb=new WeakMap,fA=new WeakMap;function pA(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mA(t){return t.__v_skip||!Object.isExtensible(t)?0:pA(qS(t))}function si(t){return Er(t)?t:Xf(t,!1,sA,cA,db)}function mb(t){return Xf(t,!1,aA,hA,fb)}function gb(t){return Xf(t,!0,oA,dA,pb)}function Xf(t,e,n,i,r){if(!ct(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=mA(t);if(s===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,s===2?i:n);return r.set(t,a),a}function js(t){return Er(t)?js(t.__v_raw):!!(t&&t.__v_isReactive)}function Er(t){return!!(t&&t.__v_isReadonly)}function Dn(t){return!!(t&&t.__v_isShallow)}function Zf(t){return t?!!t.__v_raw:!1}function De(t){const e=t&&t.__v_raw;return e?De(e):t}function ep(t){return!Ge(t,"__v_skip")&&Object.isExtensible(t)&&JE(t,"__v_skip",!0),t}const Vt=t=>ct(t)?si(t):t,Pu=t=>ct(t)?gb(t):t;function nn(t){return t?t.__v_isRef===!0:!1}function _e(t){return _b(t,!1)}function gA(t){return _b(t,!0)}function _b(t,e){return nn(t)?t:new _A(t,e)}class _A{constructor(e,n){this.dep=new Yf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:De(e),this._value=n?e:Vt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Dn(e)||Er(e);e=i?e:De(e),cr(e,n)&&(this._rawValue=e,this._value=i?e:Vt(e),this.dep.trigger())}}function hr(t){return nn(t)?t.value:t}const vA={get:(t,e,n)=>e==="__v_raw"?t:hr(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return nn(r)&&!nn(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function vb(t){return js(t)?t:new Proxy(t,vA)}class yA{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Yf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Oa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&it!==this)return ib(this,!0),!0}get value(){const e=this.dep.track();return ob(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function EA(t,e,n=!1){let i,r;return xe(t)?i=t:(i=t.get,r=t.set),new yA(i,r,n)}const Kl={},xu=new WeakMap;let Ur;function bA(t,e=!1,n=Ur){if(n){let i=xu.get(n);i||xu.set(n,i=[]),i.push(t)}}function wA(t,e,n=tt){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,c=A=>r?A:Dn(A)||r===!1||r===0?Si(A,1):Si(A);let h,d,f,m,_=!1,k=!1;if(nn(t)?(d=()=>t.value,_=Dn(t)):js(t)?(d=()=>c(t),_=!0):Ae(t)?(k=!0,_=t.some(A=>js(A)||Dn(A)),d=()=>t.map(A=>{if(nn(A))return A.value;if(js(A))return c(A);if(xe(A))return l?l(A,2):A()})):xe(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Di();try{f()}finally{Oi()}}const A=Ur;Ur=h;try{return l?l(t,3,[m]):t(m)}finally{Ur=A}}:d=ci,e&&r){const A=d,O=r===!0?1/0:r;d=()=>Si(A(),O)}const P=JS(),L=()=>{h.stop(),P&&P.active&&jf(P.effects,h)};if(s&&e){const A=e;e=(...O)=>{A(...O),L()}}let T=k?new Array(t.length).fill(Kl):Kl;const C=A=>{if(!(!(h.flags&1)||!h.dirty&&!A))if(e){const O=h.run();if(r||_||(k?O.some((B,S)=>cr(B,T[S])):cr(O,T))){f&&f();const B=Ur;Ur=h;try{const S=[O,T===Kl?void 0:k&&T[0]===Kl?[]:T,m];l?l(e,3,S):e(...S),T=O}finally{Ur=B}}}else h.run()};return a&&a(C),h=new tb(d),h.scheduler=o?()=>o(C,!1):C,m=A=>bA(A,!1,h),f=h.onStop=()=>{const A=xu.get(h);if(A){if(l)l(A,4);else for(const O of A)O();xu.delete(h)}},e?i?C(!0):T=h.run():o?o(C.bind(null,!0),!0):h.run(),L.pause=h.pause.bind(h),L.resume=h.resume.bind(h),L.stop=L,L}function Si(t,e=1/0,n){if(e<=0||!ct(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,nn(t))Si(t.value,e,n);else if(Ae(t))for(let i=0;i<t.length;i++)Si(t[i],e,n);else if(KE(t)||$s(t))t.forEach(i=>{Si(i,e,n)});else if(YE(t)){for(const i in t)Si(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Si(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function al(t,e,n,i){try{return i?t(...i):t()}catch(r){kc(r,e,n)}}function Kn(t,e,n,i){if(xe(t)){const r=al(t,e,n,i);return r&&GE(r)&&r.catch(s=>{kc(s,e,n)}),r}if(Ae(t)){const r=[];for(let s=0;s<t.length;s++)r.push(Kn(t[s],e,n,i));return r}}function kc(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||tt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,l,c)===!1)return}a=a.parent}if(s){Di(),al(s,null,10,[t,l,c]),Oi();return}}TA(t,n,r,i,o)}function TA(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}const on=[];let ei=-1;const Hs=[];let Xi=null,Ps=0;const yb=Promise.resolve();let Nu=null;function Ft(t){const e=Nu||yb;return t?e.then(this?t.bind(this):t):e}function IA(t){let e=ei+1,n=on.length;for(;e<n;){const i=e+n>>>1,r=on[i],s=La(r);s<t||s===t&&r.flags&2?e=i+1:n=i}return e}function tp(t){if(!(t.flags&1)){const e=La(t),n=on[on.length-1];!n||!(t.flags&2)&&e>=La(n)?on.push(t):on.splice(IA(e),0,t),t.flags|=1,Eb()}}function Eb(){Nu||(Nu=yb.then(wb))}function CA(t){Ae(t)?Hs.push(...t):Xi&&t.id===-1?Xi.splice(Ps+1,0,t):t.flags&1||(Hs.push(t),t.flags|=1),Eb()}function Ug(t,e,n=ei+1){for(;n<on.length;n++){const i=on[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;on.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function bb(t){if(Hs.length){const e=[...new Set(Hs)].sort((n,i)=>La(n)-La(i));if(Hs.length=0,Xi){Xi.push(...e);return}for(Xi=e,Ps=0;Ps<Xi.length;Ps++){const n=Xi[Ps];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Xi=null,Ps=0}}const La=t=>t.id==null?t.flags&2?-1:1/0:t.id;function wb(t){try{for(ei=0;ei<on.length;ei++){const e=on[ei];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),al(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ei<on.length;ei++){const e=on[ei];e&&(e.flags&=-2)}ei=-1,on.length=0,bb(),Nu=null,(on.length||Hs.length)&&wb()}}let pn=null,Tb=null;function Du(t){const e=pn;return pn=t,Tb=t&&t.type.__scopeId||null,e}function be(t,e=pn,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&e_(-1);const s=Du(e);let o;try{o=t(...r)}finally{Du(s),i._d&&e_(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function An(t,e){if(pn===null)return t;const n=Lc(pn),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=tt]=e[r];s&&(xe(s)&&(s={mounted:s,updated:s}),s.deep&&Si(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Mr(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Di(),Kn(l,n,8,[t.el,a,t,e]),Oi())}}const Ib=Symbol("_vte"),Cb=t=>t.__isTeleport,pa=t=>t&&(t.disabled||t.disabled===""),$g=t=>t&&(t.defer||t.defer===""),jg=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Hg=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,kd=(t,e)=>{const n=t&&t.to;return dt(n)?e?e(n):null:n},Sb={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,s,o,a,l,c){const{mc:h,pc:d,pbc:f,o:{insert:m,querySelector:_,createText:k,createComment:P}}=c,L=pa(e.props);let{shapeFlag:T,children:C,dynamicChildren:A}=e;if(t==null){const O=e.el=k(""),B=e.anchor=k("");m(O,n,i),m(B,n,i);const S=(v,b)=>{T&16&&(r&&r.isCE&&(r.ce._teleportTarget=v),h(C,v,b,r,s,o,a,l))},E=()=>{const v=e.target=kd(e.props,_),b=Ab(v,e,k,m);v&&(o!=="svg"&&jg(v)?o="svg":o!=="mathml"&&Hg(v)&&(o="mathml"),L||(S(v,b),fu(e,!1)))};L&&(S(n,B),fu(e,!0)),$g(e.props)?wt(()=>{E(),e.el.__isMounted=!0},s):E()}else{if($g(e.props)&&!t.el.__isMounted){wt(()=>{Sb.process(t,e,n,i,r,s,o,a,l,c),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const O=e.anchor=t.anchor,B=e.target=t.target,S=e.targetAnchor=t.targetAnchor,E=pa(t.props),v=E?n:B,b=E?O:S;if(o==="svg"||jg(B)?o="svg":(o==="mathml"||Hg(B))&&(o="mathml"),A?(f(t.dynamicChildren,A,v,r,s,o,a),op(t,e,!0)):l||d(t,e,v,b,r,s,o,a,!1),L)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Gl(e,n,O,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=kd(e.props,_);R&&Gl(e,R,null,c,0)}else E&&Gl(e,B,S,c,1);fu(e,L)}},remove(t,e,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:h,target:d,props:f}=t;if(d&&(r(c),r(h)),s&&r(l),o&16){const m=s||!pa(f);for(let _=0;_<a.length;_++){const k=a[_];i(k,e,n,m,!!k.dynamicChildren)}}},move:Gl,hydrate:SA};function Gl(t,e,n,{o:{insert:i},m:r},s=2){s===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:h}=t,d=s===2;if(d&&i(o,e,n),(!d||pa(h))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,n,2);d&&i(a,e,n)}function SA(t,e,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:h}},d){const f=e.target=kd(e.props,l);if(f){const m=pa(e.props),_=f._lpa||f.firstChild;if(e.shapeFlag&16)if(m)e.anchor=d(o(t),e,a(t),n,i,r,s),e.targetStart=_,e.targetAnchor=_&&o(_);else{e.anchor=o(t);let k=_;for(;k;){if(k&&k.nodeType===8){if(k.data==="teleport start anchor")e.targetStart=k;else if(k.data==="teleport anchor"){e.targetAnchor=k,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}k=o(k)}e.targetAnchor||Ab(f,e,h,c),d(_&&o(_),e,f,n,i,r,s)}fu(e,m)}return e.anchor&&o(e.anchor)}const AA=Sb;function fu(t,e){const n=t.ctx;if(n&&n.ut){let i,r;for(e?(i=t.el,r=t.anchor):(i=t.targetStart,r=t.targetAnchor);i&&i!==r;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function Ab(t,e,n,i){const r=e.targetStart=n(""),s=e.targetAnchor=n("");return r[Ib]=s,t&&(i(r,t),i(s,t)),s}const Zi=Symbol("_leaveCb"),Ql=Symbol("_enterCb");function RA(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nt(()=>{t.isMounted=!0}),mt(()=>{t.isUnmounting=!0}),t}const Tn=[Function,Array],Rb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tn,onEnter:Tn,onAfterEnter:Tn,onEnterCancelled:Tn,onBeforeLeave:Tn,onLeave:Tn,onAfterLeave:Tn,onLeaveCancelled:Tn,onBeforeAppear:Tn,onAppear:Tn,onAfterAppear:Tn,onAppearCancelled:Tn},kb=t=>{const e=t.subTree;return e.component?kb(e.component):e},kA={name:"BaseTransition",props:Rb,setup(t,{slots:e}){const n=Le(),i=RA();return()=>{const r=e.default&&Nb(e.default(),!0);if(!r||!r.length)return;const s=Pb(r),o=De(t),{mode:a}=o;if(i.isLeaving)return Vh(s);const l=zg(s);if(!l)return Vh(s);let c=Pd(l,o,i,n,d=>c=d);l.type!==dn&&eo(l,c);let h=n.subTree&&zg(n.subTree);if(h&&h.type!==dn&&!rr(l,h)&&kb(n).type!==dn){let d=Pd(h,o,i,n);if(eo(h,d),a==="out-in"&&l.type!==dn)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},Vh(s);a==="in-out"&&l.type!==dn?d.delayLeave=(f,m,_)=>{const k=xb(i,h);k[String(h.key)]=h,f[Zi]=()=>{m(),f[Zi]=void 0,delete c.delayedLeave,h=void 0},c.delayedLeave=()=>{_(),delete c.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return s}}};function Pb(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==dn){e=n;break}}return e}const PA=kA;function xb(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Pd(t,e,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:f,onLeave:m,onAfterLeave:_,onLeaveCancelled:k,onBeforeAppear:P,onAppear:L,onAfterAppear:T,onAppearCancelled:C}=e,A=String(t.key),O=xb(n,t),B=(v,b)=>{v&&Kn(v,i,9,b)},S=(v,b)=>{const R=b[1];B(v,b),Ae(v)?v.every(y=>y.length<=1)&&R():v.length<=1&&R()},E={mode:o,persisted:a,beforeEnter(v){let b=l;if(!n.isMounted)if(s)b=P||l;else return;v[Zi]&&v[Zi](!0);const R=O[A];R&&rr(t,R)&&R.el[Zi]&&R.el[Zi](),B(b,[v])},enter(v){let b=c,R=h,y=d;if(!n.isMounted)if(s)b=L||c,R=T||h,y=C||d;else return;let I=!1;const M=v[Ql]=ee=>{I||(I=!0,ee?B(y,[v]):B(R,[v]),E.delayedLeave&&E.delayedLeave(),v[Ql]=void 0)};b?S(b,[v,M]):M()},leave(v,b){const R=String(t.key);if(v[Ql]&&v[Ql](!0),n.isUnmounting)return b();B(f,[v]);let y=!1;const I=v[Zi]=M=>{y||(y=!0,b(),M?B(k,[v]):B(_,[v]),v[Zi]=void 0,O[R]===t&&delete O[R])};O[R]=t,m?S(m,[v,I]):I()},clone(v){const b=Pd(v,e,n,i,r);return r&&r(b),b}};return E}function Vh(t){if(Pc(t))return t=Mi(t),t.children=null,t}function zg(t){if(!Pc(t))return Cb(t.type)&&t.children?Pb(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&xe(n.default))return n.default()}}function eo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,eo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Nb(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===qn?(o.patchFlag&128&&r++,i=i.concat(Nb(o.children,e,a))):(e||o.type!==dn)&&i.push(a!=null?Mi(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function np(t,e){return xe(t)?xt({name:t.name},e,{setup:t}):t}function Db(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ou(t,e,n,i,r=!1){if(Ae(t)){t.forEach((_,k)=>Ou(_,e&&(Ae(e)?e[k]:e),n,i,r));return}if(zs(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Ou(t,e,n,i.component.subTree);return}const s=i.shapeFlag&4?Lc(i.component):i.el,o=r?null:s,{i:a,r:l}=t,c=e&&e.r,h=a.refs===tt?a.refs={}:a.refs,d=a.setupState,f=De(d),m=d===tt?()=>!1:_=>Ge(f,_);if(c!=null&&c!==l&&(dt(c)?(h[c]=null,m(c)&&(d[c]=null)):nn(c)&&(c.value=null)),xe(l))al(l,a,12,[o,h]);else{const _=dt(l),k=nn(l);if(_||k){const P=()=>{if(t.f){const L=_?m(l)?d[l]:h[l]:l.value;r?Ae(L)&&jf(L,s):Ae(L)?L.includes(s)||L.push(s):_?(h[l]=[s],m(l)&&(d[l]=h[l])):(l.value=[s],t.k&&(h[t.k]=l.value))}else _?(h[l]=o,m(l)&&(d[l]=o)):k&&(l.value=o,t.k&&(h[t.k]=o))};o?(P.id=-1,wt(P,n)):P()}}}Ac().requestIdleCallback;Ac().cancelIdleCallback;const zs=t=>!!t.type.__asyncLoader,Pc=t=>t.type.__isKeepAlive,xA={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Le(),i=n.ctx;if(!i.renderer)return()=>{const T=e.default&&e.default();return T&&T.length===1?T[0]:T};const r=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:h,o:{createElement:d}}}=i,f=d("div");i.activate=(T,C,A,O,B)=>{const S=T.component;c(T,C,A,0,a),l(S.vnode,T,C,A,S,a,O,T.slotScopeIds,B),wt(()=>{S.isDeactivated=!1,S.a&&ha(S.a);const E=T.props&&T.props.onVnodeMounted;E&&Cn(E,S.parent,T)},a)},i.deactivate=T=>{const C=T.component;Lu(C.m),Lu(C.a),c(T,f,null,1,a),wt(()=>{C.da&&ha(C.da);const A=T.props&&T.props.onVnodeUnmounted;A&&Cn(A,C.parent,T),C.isDeactivated=!0},a)};function m(T){Fh(T),h(T,n,a,!0)}function _(T){r.forEach((C,A)=>{const O=Ld(C.type);O&&!T(O)&&k(A)})}function k(T){const C=r.get(T);C&&(!o||!rr(C,o))?m(C):o&&Fh(o),r.delete(T),s.delete(T)}ke(()=>[t.include,t.exclude],([T,C])=>{T&&_(A=>ea(T,A)),C&&_(A=>!ea(C,A))},{flush:"post",deep:!0});let P=null;const L=()=>{P!=null&&(Vu(n.subTree.type)?wt(()=>{r.set(P,Yl(n.subTree))},n.subTree.suspense):r.set(P,Yl(n.subTree)))};return Nt(L),Lb(L),mt(()=>{r.forEach(T=>{const{subTree:C,suspense:A}=n,O=Yl(C);if(T.type===O.type&&T.key===O.key){Fh(O);const B=O.component.da;B&&wt(B,A);return}m(T)})}),()=>{if(P=null,!e.default)return o=null;const T=e.default(),C=T[0];if(T.length>1)return o=null,T;if(!Fa(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return o=null,C;let A=Yl(C);if(A.type===dn)return o=null,A;const O=A.type,B=Ld(zs(A)?A.type.__asyncResolved||{}:O),{include:S,exclude:E,max:v}=t;if(S&&(!B||!ea(S,B))||E&&B&&ea(E,B))return A.shapeFlag&=-257,o=A,C;const b=A.key==null?O:A.key,R=r.get(b);return A.el&&(A=Mi(A),C.shapeFlag&128&&(C.ssContent=A)),P=b,R?(A.el=R.el,A.component=R.component,A.transition&&eo(A,A.transition),A.shapeFlag|=512,s.delete(b),s.add(b)):(s.add(b),v&&s.size>parseInt(v,10)&&k(s.values().next().value)),A.shapeFlag|=256,o=A,Vu(C.type)?C:A}}},NA=xA;function ea(t,e){return Ae(t)?t.some(n=>ea(n,e)):dt(t)?t.split(",").includes(e):FS(t)?(t.lastIndex=0,t.test(e)):!1}function xc(t,e){Ob(t,"a",e)}function _o(t,e){Ob(t,"da",e)}function Ob(t,e,n=qt){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Nc(e,i,n),n){let r=n.parent;for(;r&&r.parent;)Pc(r.parent.vnode)&&DA(i,e,n,r),r=r.parent}}function DA(t,e,n,i){const r=Nc(e,t,i,!0);Dc(()=>{jf(i[e],r)},n)}function Fh(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Yl(t){return t.shapeFlag&128?t.ssContent:t}function Nc(t,e,n=qt,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Di();const a=ll(n),l=Kn(e,n,t,o);return a(),Oi(),l});return i?r.unshift(s):r.push(s),s}}const ji=t=>(e,n=qt)=>{(!qa||t==="sp")&&Nc(t,(...i)=>e(...i),n)},OA=ji("bm"),Nt=ji("m"),Mb=ji("bu"),Lb=ji("u"),mt=ji("bum"),Dc=ji("um"),MA=ji("sp"),LA=ji("rtg"),VA=ji("rtc");function FA(t,e=qt){Nc("ec",t,e)}const qA="components";function ip(t,e){return UA(qA,t,!0,e)||t}const BA=Symbol.for("v-ndc");function UA(t,e,n=!0,i=!1){const r=pn||qt;if(r){const s=r.type;{const a=Ld(s,!1);if(a&&(a===e||a===On(e)||a===Sc(On(e))))return s}const o=Wg(r[t]||s[t],e)||Wg(r.appContext[t],e);return!o&&i?s:o}}function Wg(t,e){return t&&(t[e]||t[On(e)]||t[Sc(On(e))])}function $A(t,e,n,i){let r;const s=n,o=Ae(t);if(o||dt(t)){const a=o&&js(t);let l=!1,c=!1;a&&(l=!Dn(t),c=Er(t),t=Rc(t)),r=new Array(t.length);for(let h=0,d=t.length;h<d;h++)r[h]=e(l?c?Pu(Vt(t[h])):Vt(t[h]):t[h],h,void 0,s)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s)}else if(ct(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const h=a[l];r[l]=e(t[h],h,l,s)}}else r=[];return r}const xd=t=>t?ew(t)?Lc(t):xd(t.parent):null,ma=xt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xd(t.parent),$root:t=>xd(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Fb(t),$forceUpdate:t=>t.f||(t.f=()=>{tp(t.update)}),$nextTick:t=>t.n||(t.n=Ft.bind(t.proxy)),$watch:t=>uR.bind(t)}),qh=(t,e)=>t!==tt&&!t.__isScriptSetup&&Ge(t,e),jA={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(qh(i,e))return o[e]=1,i[e];if(r!==tt&&Ge(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Ge(c,e))return o[e]=3,s[e];if(n!==tt&&Ge(n,e))return o[e]=4,n[e];Nd&&(o[e]=0)}}const h=ma[e];let d,f;if(h)return e==="$attrs"&&Jt(t.attrs,"get",""),h(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==tt&&Ge(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Ge(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return qh(r,e)?(r[e]=n,!0):i!==tt&&Ge(i,e)?(i[e]=n,!0):Ge(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||t!==tt&&Ge(t,o)||qh(e,o)||(a=s[0])&&Ge(a,o)||Ge(i,o)||Ge(ma,o)||Ge(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ge(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Kg(t){return Ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Nd=!0;function HA(t){const e=Fb(t),n=t.proxy,i=t.ctx;Nd=!1,e.beforeCreate&&Gg(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:d,mounted:f,beforeUpdate:m,updated:_,activated:k,deactivated:P,beforeDestroy:L,beforeUnmount:T,destroyed:C,unmounted:A,render:O,renderTracked:B,renderTriggered:S,errorCaptured:E,serverPrefetch:v,expose:b,inheritAttrs:R,components:y,directives:I,filters:M}=e;if(c&&zA(c,i,null),o)for(const ie in o){const Y=o[ie];xe(Y)&&(i[ie]=Y.bind(n))}if(r){const ie=r.call(n,n);ct(ie)&&(t.data=si(ie))}if(Nd=!0,s)for(const ie in s){const Y=s[ie],Ee=xe(Y)?Y.bind(n,n):xe(Y.get)?Y.get.bind(n,n):ci,Ie=!xe(Y)&&xe(Y.set)?Y.set.bind(n):ci,Re=D({get:Ee,set:Ie});Object.defineProperty(i,ie,{enumerable:!0,configurable:!0,get:()=>Re.value,set:z=>Re.value=z})}if(a)for(const ie in a)Vb(a[ie],i,n,ie);if(l){const ie=xe(l)?l.call(n):l;Reflect.ownKeys(ie).forEach(Y=>{dr(Y,ie[Y])})}h&&Gg(h,t,"c");function se(ie,Y){Ae(Y)?Y.forEach(Ee=>ie(Ee.bind(n))):Y&&ie(Y.bind(n))}if(se(OA,d),se(Nt,f),se(Mb,m),se(Lb,_),se(xc,k),se(_o,P),se(FA,E),se(VA,B),se(LA,S),se(mt,T),se(Dc,A),se(MA,v),Ae(b))if(b.length){const ie=t.exposed||(t.exposed={});b.forEach(Y=>{Object.defineProperty(ie,Y,{get:()=>n[Y],set:Ee=>n[Y]=Ee})})}else t.exposed||(t.exposed={});O&&t.render===ci&&(t.render=O),R!=null&&(t.inheritAttrs=R),y&&(t.components=y),I&&(t.directives=I),v&&Db(t)}function zA(t,e,n=ci){Ae(t)&&(t=Dd(t));for(const i in t){const r=t[i];let s;ct(r)?"default"in r?s=ln(r.from||i,r.default,!0):s=ln(r.from||i):s=ln(r),nn(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function Gg(t,e,n){Kn(Ae(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function Vb(t,e,n,i){let r=i.includes(".")?Yb(n,i):()=>n[i];if(dt(t)){const s=e[t];xe(s)&&ke(r,s)}else if(xe(t))ke(r,t.bind(n));else if(ct(t))if(Ae(t))t.forEach(s=>Vb(s,e,n,i));else{const s=xe(t.handler)?t.handler.bind(n):e[t.handler];xe(s)&&ke(r,s,t)}}function Fb(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>Mu(l,c,o,!0)),Mu(l,e,o)),ct(e)&&s.set(e,l),l}function Mu(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&Mu(t,s,n,!0),r&&r.forEach(o=>Mu(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=WA[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const WA={data:Qg,props:Yg,emits:Yg,methods:ta,computed:ta,beforeCreate:sn,created:sn,beforeMount:sn,mounted:sn,beforeUpdate:sn,updated:sn,beforeDestroy:sn,beforeUnmount:sn,destroyed:sn,unmounted:sn,activated:sn,deactivated:sn,errorCaptured:sn,serverPrefetch:sn,components:ta,directives:ta,watch:GA,provide:Qg,inject:KA};function Qg(t,e){return e?t?function(){return xt(xe(t)?t.call(this,this):t,xe(e)?e.call(this,this):e)}:e:t}function KA(t,e){return ta(Dd(t),Dd(e))}function Dd(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function sn(t,e){return t?[...new Set([].concat(t,e))]:e}function ta(t,e){return t?xt(Object.create(null),t,e):e}function Yg(t,e){return t?Ae(t)&&Ae(e)?[...new Set([...t,...e])]:xt(Object.create(null),Kg(t),Kg(e??{})):e}function GA(t,e){if(!t)return e;if(!e)return t;const n=xt(Object.create(null),t);for(const i in e)n[i]=sn(t[i],e[i]);return n}function qb(){return{app:null,config:{isNativeTag:LS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let QA=0;function YA(t,e){return function(i,r=null){xe(i)||(i=xt({},i)),r!=null&&!ct(r)&&(r=null);const s=qb(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:QA++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:kR,get config(){return s.config},set config(h){},use(h,...d){return o.has(h)||(h&&xe(h.install)?(o.add(h),h.install(c,...d)):xe(h)&&(o.add(h),h(c,...d))),c},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),c},component(h,d){return d?(s.components[h]=d,c):s.components[h]},directive(h,d){return d?(s.directives[h]=d,c):s.directives[h]},mount(h,d,f){if(!l){const m=c._ceVNode||ne(i,r);return m.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),t(m,h,f),l=!0,c._container=h,h.__vue_app__=c,Lc(m.component)}},onUnmount(h){a.push(h)},unmount(){l&&(Kn(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(h,d){return s.provides[h]=d,c},runWithContext(h){const d=Ws;Ws=c;try{return h()}finally{Ws=d}}};return c}}let Ws=null;function dr(t,e){if(qt){let n=qt.provides;const i=qt.parent&&qt.parent.provides;i===n&&(n=qt.provides=Object.create(i)),n[t]=e}}function ln(t,e,n=!1){const i=qt||pn;if(i||Ws){const r=Ws?Ws._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&xe(e)?e.call(i&&i.proxy):e}}const Bb={},Ub=()=>Object.create(Bb),$b=t=>Object.getPrototypeOf(t)===Bb;function JA(t,e,n,i=!1){const r={},s=Ub();t.propsDefaults=Object.create(null),jb(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=i?r:mb(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function XA(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=De(r),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(Oc(t.emitsOptions,f))continue;const m=e[f];if(l)if(Ge(s,f))m!==s[f]&&(s[f]=m,c=!0);else{const _=On(f);r[_]=Od(l,a,_,m,t,!1)}else m!==s[f]&&(s[f]=m,c=!0)}}}else{jb(t,e,r,s)&&(c=!0);let h;for(const d in a)(!e||!Ge(e,d)&&((h=ds(d))===d||!Ge(e,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(r[d]=Od(l,a,d,void 0,t,!0)):delete r[d]);if(s!==a)for(const d in s)(!e||!Ge(e,d))&&(delete s[d],c=!0)}c&&Ci(t.attrs,"set","")}function jb(t,e,n,i){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ca(l))continue;const c=e[l];let h;r&&Ge(r,h=On(l))?!s||!s.includes(h)?n[h]=c:(a||(a={}))[h]=c:Oc(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=De(n),c=a||tt;for(let h=0;h<s.length;h++){const d=s[h];n[d]=Od(r,l,d,c[d],t,!Ge(c,d))}}return o}function Od(t,e,n,i,r,s){const o=t[n];if(o!=null){const a=Ge(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&xe(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const h=ll(r);i=c[n]=l.call(null,e),h()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===ds(n))&&(i=!0))}return i}const ZA=new WeakMap;function Hb(t,e,n=!1){const i=n?ZA:e.propsCache,r=i.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!xe(t)){const h=d=>{l=!0;const[f,m]=Hb(d,e,!0);xt(o,f),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!l)return ct(t)&&i.set(t,Us),Us;if(Ae(s))for(let h=0;h<s.length;h++){const d=On(s[h]);Jg(d)&&(o[d]=tt)}else if(s)for(const h in s){const d=On(h);if(Jg(d)){const f=s[h],m=o[d]=Ae(f)||xe(f)?{type:f}:xt({},f),_=m.type;let k=!1,P=!0;if(Ae(_))for(let L=0;L<_.length;++L){const T=_[L],C=xe(T)&&T.name;if(C==="Boolean"){k=!0;break}else C==="String"&&(P=!1)}else k=xe(_)&&_.name==="Boolean";m[0]=k,m[1]=P,(k||Ge(m,"default"))&&a.push(d)}}const c=[o,a];return ct(t)&&i.set(t,c),c}function Jg(t){return t[0]!=="$"&&!ca(t)}const rp=t=>t[0]==="_"||t==="$stable",sp=t=>Ae(t)?t.map(ii):[ii(t)],eR=(t,e,n)=>{if(e._n)return e;const i=be((...r)=>sp(e(...r)),n);return i._c=!1,i},zb=(t,e,n)=>{const i=t._ctx;for(const r in t){if(rp(r))continue;const s=t[r];if(xe(s))e[r]=eR(r,s,i);else if(s!=null){const o=sp(s);e[r]=()=>o}}},Wb=(t,e)=>{const n=sp(e);t.slots.default=()=>n},Kb=(t,e,n)=>{for(const i in e)(n||!rp(i))&&(t[i]=e[i])},tR=(t,e,n)=>{const i=t.slots=Ub();if(t.vnode.shapeFlag&32){const r=e._;r?(Kb(i,e,n),n&&JE(i,"_",r,!0)):zb(e,i)}else e&&Wb(t,e)},nR=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,o=tt;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:Kb(r,e,n):(s=!e.$stable,zb(e,r)),o=e}else e&&(Wb(t,e),o={default:1});if(s)for(const a in r)!rp(a)&&o[a]==null&&delete r[a]},wt=gR;function iR(t){return rR(t)}function rR(t,e){const n=Ac();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:d,nextSibling:f,setScopeId:m=ci,insertStaticContent:_}=t,k=(x,N,V,W=null,J=null,G=null,le=void 0,oe=null,re=!!N.dynamicChildren)=>{if(x===N)return;x&&!rr(x,N)&&(W=U(x),z(x,J,G,!0),x=null),N.patchFlag===-2&&(re=!1,N.dynamicChildren=null);const{type:Z,ref:H,shapeFlag:j}=N;switch(Z){case Mc:P(x,N,V,W);break;case dn:L(x,N,V,W);break;case Uh:x==null&&T(N,V,W,le);break;case qn:y(x,N,V,W,J,G,le,oe,re);break;default:j&1?O(x,N,V,W,J,G,le,oe,re):j&6?I(x,N,V,W,J,G,le,oe,re):(j&64||j&128)&&Z.process(x,N,V,W,J,G,le,oe,re,fe)}H!=null&&J&&Ou(H,x&&x.ref,G,N||x,!N)},P=(x,N,V,W)=>{if(x==null)i(N.el=a(N.children),V,W);else{const J=N.el=x.el;N.children!==x.children&&c(J,N.children)}},L=(x,N,V,W)=>{x==null?i(N.el=l(N.children||""),V,W):N.el=x.el},T=(x,N,V,W)=>{[x.el,x.anchor]=_(x.children,N,V,W,x.el,x.anchor)},C=({el:x,anchor:N},V,W)=>{let J;for(;x&&x!==N;)J=f(x),i(x,V,W),x=J;i(N,V,W)},A=({el:x,anchor:N})=>{let V;for(;x&&x!==N;)V=f(x),r(x),x=V;r(N)},O=(x,N,V,W,J,G,le,oe,re)=>{N.type==="svg"?le="svg":N.type==="math"&&(le="mathml"),x==null?B(N,V,W,J,G,le,oe,re):v(x,N,J,G,le,oe,re)},B=(x,N,V,W,J,G,le,oe)=>{let re,Z;const{props:H,shapeFlag:j,transition:te,dirs:pe}=x;if(re=x.el=o(x.type,G,H&&H.is,H),j&8?h(re,x.children):j&16&&E(x.children,re,null,W,J,Bh(x,G),le,oe),pe&&Mr(x,null,W,"created"),S(re,x,x.scopeId,le,W),H){for(const me in H)me!=="value"&&!ca(me)&&s(re,me,null,H[me],G,W);"value"in H&&s(re,"value",null,H.value,G),(Z=H.onVnodeBeforeMount)&&Cn(Z,W,x)}pe&&Mr(x,null,W,"beforeMount");const de=sR(J,te);de&&te.beforeEnter(re),i(re,N,V),((Z=H&&H.onVnodeMounted)||de||pe)&&wt(()=>{Z&&Cn(Z,W,x),de&&te.enter(re),pe&&Mr(x,null,W,"mounted")},J)},S=(x,N,V,W,J)=>{if(V&&m(x,V),W)for(let G=0;G<W.length;G++)m(x,W[G]);if(J){let G=J.subTree;if(N===G||Vu(G.type)&&(G.ssContent===N||G.ssFallback===N)){const le=J.vnode;S(x,le,le.scopeId,le.slotScopeIds,J.parent)}}},E=(x,N,V,W,J,G,le,oe,re=0)=>{for(let Z=re;Z<x.length;Z++){const H=x[Z]=oe?er(x[Z]):ii(x[Z]);k(null,H,N,V,W,J,G,le,oe)}},v=(x,N,V,W,J,G,le)=>{const oe=N.el=x.el;let{patchFlag:re,dynamicChildren:Z,dirs:H}=N;re|=x.patchFlag&16;const j=x.props||tt,te=N.props||tt;let pe;if(V&&Lr(V,!1),(pe=te.onVnodeBeforeUpdate)&&Cn(pe,V,N,x),H&&Mr(N,x,V,"beforeUpdate"),V&&Lr(V,!0),(j.innerHTML&&te.innerHTML==null||j.textContent&&te.textContent==null)&&h(oe,""),Z?b(x.dynamicChildren,Z,oe,V,W,Bh(N,J),G):le||Y(x,N,oe,null,V,W,Bh(N,J),G,!1),re>0){if(re&16)R(oe,j,te,V,J);else if(re&2&&j.class!==te.class&&s(oe,"class",null,te.class,J),re&4&&s(oe,"style",j.style,te.style,J),re&8){const de=N.dynamicProps;for(let me=0;me<de.length;me++){const ye=de[me],Be=j[ye],Ze=te[ye];(Ze!==Be||ye==="value")&&s(oe,ye,Be,Ze,J,V)}}re&1&&x.children!==N.children&&h(oe,N.children)}else!le&&Z==null&&R(oe,j,te,V,J);((pe=te.onVnodeUpdated)||H)&&wt(()=>{pe&&Cn(pe,V,N,x),H&&Mr(N,x,V,"updated")},W)},b=(x,N,V,W,J,G,le)=>{for(let oe=0;oe<N.length;oe++){const re=x[oe],Z=N[oe],H=re.el&&(re.type===qn||!rr(re,Z)||re.shapeFlag&70)?d(re.el):V;k(re,Z,H,null,W,J,G,le,!0)}},R=(x,N,V,W,J)=>{if(N!==V){if(N!==tt)for(const G in N)!ca(G)&&!(G in V)&&s(x,G,N[G],null,J,W);for(const G in V){if(ca(G))continue;const le=V[G],oe=N[G];le!==oe&&G!=="value"&&s(x,G,oe,le,J,W)}"value"in V&&s(x,"value",N.value,V.value,J)}},y=(x,N,V,W,J,G,le,oe,re)=>{const Z=N.el=x?x.el:a(""),H=N.anchor=x?x.anchor:a("");let{patchFlag:j,dynamicChildren:te,slotScopeIds:pe}=N;pe&&(oe=oe?oe.concat(pe):pe),x==null?(i(Z,V,W),i(H,V,W),E(N.children||[],V,H,J,G,le,oe,re)):j>0&&j&64&&te&&x.dynamicChildren?(b(x.dynamicChildren,te,V,J,G,le,oe),(N.key!=null||J&&N===J.subTree)&&op(x,N,!0)):Y(x,N,V,H,J,G,le,oe,re)},I=(x,N,V,W,J,G,le,oe,re)=>{N.slotScopeIds=oe,x==null?N.shapeFlag&512?J.ctx.activate(N,V,W,le,re):M(N,V,W,J,G,le,re):ee(x,N,re)},M=(x,N,V,W,J,G,le)=>{const oe=x.component=TR(x,W,J);if(Pc(x)&&(oe.ctx.renderer=fe),IR(oe,!1,le),oe.asyncDep){if(J&&J.registerDep(oe,se,le),!x.el){const re=oe.subTree=ne(dn);L(null,re,N,V)}}else se(oe,x,N,V,J,G,le)},ee=(x,N,V)=>{const W=N.component=x.component;if(pR(x,N,V))if(W.asyncDep&&!W.asyncResolved){ie(W,N,V);return}else W.next=N,W.update();else N.el=x.el,W.vnode=N},se=(x,N,V,W,J,G,le)=>{const oe=()=>{if(x.isMounted){let{next:j,bu:te,u:pe,parent:de,vnode:me}=x;{const St=Gb(x);if(St){j&&(j.el=me.el,ie(x,j,le)),St.asyncDep.then(()=>{x.isUnmounted||oe()});return}}let ye=j,Be;Lr(x,!1),j?(j.el=me.el,ie(x,j,le)):j=me,te&&ha(te),(Be=j.props&&j.props.onVnodeBeforeUpdate)&&Cn(Be,de,j,me),Lr(x,!0);const Ze=Xg(x),Ht=x.subTree;x.subTree=Ze,k(Ht,Ze,d(Ht.el),U(Ht),x,J,G),j.el=Ze.el,ye===null&&mR(x,Ze.el),pe&&wt(pe,J),(Be=j.props&&j.props.onVnodeUpdated)&&wt(()=>Cn(Be,de,j,me),J)}else{let j;const{el:te,props:pe}=N,{bm:de,m:me,parent:ye,root:Be,type:Ze}=x,Ht=zs(N);Lr(x,!1),de&&ha(de),!Ht&&(j=pe&&pe.onVnodeBeforeMount)&&Cn(j,ye,N),Lr(x,!0);{Be.ce&&Be.ce._injectChildStyle(Ze);const St=x.subTree=Xg(x);k(null,St,V,W,x,J,G),N.el=St.el}if(me&&wt(me,J),!Ht&&(j=pe&&pe.onVnodeMounted)){const St=N;wt(()=>Cn(j,ye,St),J)}(N.shapeFlag&256||ye&&zs(ye.vnode)&&ye.vnode.shapeFlag&256)&&x.a&&wt(x.a,J),x.isMounted=!0,N=V=W=null}};x.scope.on();const re=x.effect=new tb(oe);x.scope.off();const Z=x.update=re.run.bind(re),H=x.job=re.runIfDirty.bind(re);H.i=x,H.id=x.uid,re.scheduler=()=>tp(H),Lr(x,!0),Z()},ie=(x,N,V)=>{N.component=x;const W=x.vnode.props;x.vnode=N,x.next=null,XA(x,N.props,W,V),nR(x,N.children,V),Di(),Ug(x),Oi()},Y=(x,N,V,W,J,G,le,oe,re=!1)=>{const Z=x&&x.children,H=x?x.shapeFlag:0,j=N.children,{patchFlag:te,shapeFlag:pe}=N;if(te>0){if(te&128){Ie(Z,j,V,W,J,G,le,oe,re);return}else if(te&256){Ee(Z,j,V,W,J,G,le,oe,re);return}}pe&8?(H&16&&ce(Z,J,G),j!==Z&&h(V,j)):H&16?pe&16?Ie(Z,j,V,W,J,G,le,oe,re):ce(Z,J,G,!0):(H&8&&h(V,""),pe&16&&E(j,V,W,J,G,le,oe,re))},Ee=(x,N,V,W,J,G,le,oe,re)=>{x=x||Us,N=N||Us;const Z=x.length,H=N.length,j=Math.min(Z,H);let te;for(te=0;te<j;te++){const pe=N[te]=re?er(N[te]):ii(N[te]);k(x[te],pe,V,null,J,G,le,oe,re)}Z>H?ce(x,J,G,!0,!1,j):E(N,V,W,J,G,le,oe,re,j)},Ie=(x,N,V,W,J,G,le,oe,re)=>{let Z=0;const H=N.length;let j=x.length-1,te=H-1;for(;Z<=j&&Z<=te;){const pe=x[Z],de=N[Z]=re?er(N[Z]):ii(N[Z]);if(rr(pe,de))k(pe,de,V,null,J,G,le,oe,re);else break;Z++}for(;Z<=j&&Z<=te;){const pe=x[j],de=N[te]=re?er(N[te]):ii(N[te]);if(rr(pe,de))k(pe,de,V,null,J,G,le,oe,re);else break;j--,te--}if(Z>j){if(Z<=te){const pe=te+1,de=pe<H?N[pe].el:W;for(;Z<=te;)k(null,N[Z]=re?er(N[Z]):ii(N[Z]),V,de,J,G,le,oe,re),Z++}}else if(Z>te)for(;Z<=j;)z(x[Z],J,G,!0),Z++;else{const pe=Z,de=Z,me=new Map;for(Z=de;Z<=te;Z++){const nt=N[Z]=re?er(N[Z]):ii(N[Z]);nt.key!=null&&me.set(nt.key,Z)}let ye,Be=0;const Ze=te-de+1;let Ht=!1,St=0;const Zn=new Array(Ze);for(Z=0;Z<Ze;Z++)Zn[Z]=0;for(Z=pe;Z<=j;Z++){const nt=x[Z];if(Be>=Ze){z(nt,J,G,!0);continue}let wn;if(nt.key!=null)wn=me.get(nt.key);else for(ye=de;ye<=te;ye++)if(Zn[ye-de]===0&&rr(nt,N[ye])){wn=ye;break}wn===void 0?z(nt,J,G,!0):(Zn[wn-de]=Z+1,wn>=St?St=wn:Ht=!0,k(nt,N[wn],V,null,J,G,le,oe,re),Be++)}const _i=Ht?oR(Zn):Us;for(ye=_i.length-1,Z=Ze-1;Z>=0;Z--){const nt=de+Z,wn=N[nt],kl=nt+1<H?N[nt+1].el:W;Zn[Z]===0?k(null,wn,V,kl,J,G,le,oe,re):Ht&&(ye<0||Z!==_i[ye]?Re(wn,V,kl,2):ye--)}}},Re=(x,N,V,W,J=null)=>{const{el:G,type:le,transition:oe,children:re,shapeFlag:Z}=x;if(Z&6){Re(x.component.subTree,N,V,W);return}if(Z&128){x.suspense.move(N,V,W);return}if(Z&64){le.move(x,N,V,fe);return}if(le===qn){i(G,N,V);for(let j=0;j<re.length;j++)Re(re[j],N,V,W);i(x.anchor,N,V);return}if(le===Uh){C(x,N,V);return}if(W!==2&&Z&1&&oe)if(W===0)oe.beforeEnter(G),i(G,N,V),wt(()=>oe.enter(G),J);else{const{leave:j,delayLeave:te,afterLeave:pe}=oe,de=()=>{x.ctx.isUnmounted?r(G):i(G,N,V)},me=()=>{j(G,()=>{de(),pe&&pe()})};te?te(G,de,me):me()}else i(G,N,V)},z=(x,N,V,W=!1,J=!1)=>{const{type:G,props:le,ref:oe,children:re,dynamicChildren:Z,shapeFlag:H,patchFlag:j,dirs:te,cacheIndex:pe}=x;if(j===-2&&(J=!1),oe!=null&&(Di(),Ou(oe,null,V,x,!0),Oi()),pe!=null&&(N.renderCache[pe]=void 0),H&256){N.ctx.deactivate(x);return}const de=H&1&&te,me=!zs(x);let ye;if(me&&(ye=le&&le.onVnodeBeforeUnmount)&&Cn(ye,N,x),H&6)We(x.component,V,W);else{if(H&128){x.suspense.unmount(V,W);return}de&&Mr(x,null,N,"beforeUnmount"),H&64?x.type.remove(x,N,V,fe,W):Z&&!Z.hasOnce&&(G!==qn||j>0&&j&64)?ce(Z,N,V,!1,!0):(G===qn&&j&384||!J&&H&16)&&ce(re,N,V),W&&we(x)}(me&&(ye=le&&le.onVnodeUnmounted)||de)&&wt(()=>{ye&&Cn(ye,N,x),de&&Mr(x,null,N,"unmounted")},V)},we=x=>{const{type:N,el:V,anchor:W,transition:J}=x;if(N===qn){Xe(V,W);return}if(N===Uh){A(x);return}const G=()=>{r(V),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(x.shapeFlag&1&&J&&!J.persisted){const{leave:le,delayLeave:oe}=J,re=()=>le(V,G);oe?oe(x.el,G,re):re()}else G()},Xe=(x,N)=>{let V;for(;x!==N;)V=f(x),r(x),x=V;r(N)},We=(x,N,V)=>{const{bum:W,scope:J,job:G,subTree:le,um:oe,m:re,a:Z,parent:H,slots:{__:j}}=x;Lu(re),Lu(Z),W&&ha(W),H&&Ae(j)&&j.forEach(te=>{H.renderCache[te]=void 0}),J.stop(),G&&(G.flags|=8,z(le,x,N,V)),oe&&wt(oe,N),wt(()=>{x.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},ce=(x,N,V,W=!1,J=!1,G=0)=>{for(let le=G;le<x.length;le++)z(x[le],N,V,W,J)},U=x=>{if(x.shapeFlag&6)return U(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const N=f(x.anchor||x.el),V=N&&N[Ib];return V?f(V):N};let ue=!1;const K=(x,N,V)=>{x==null?N._vnode&&z(N._vnode,null,null,!0):k(N._vnode||null,x,N,null,null,null,V),N._vnode=x,ue||(ue=!0,Ug(),bb(),ue=!1)},fe={p:k,um:z,m:Re,r:we,mt:M,mc:E,pc:Y,pbc:b,n:U,o:t};return{render:K,hydrate:void 0,createApp:YA(K)}}function Bh({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Lr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function sR(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function op(t,e,n=!1){const i=t.children,r=e.children;if(Ae(i)&&Ae(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=er(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&op(o,a)),a.type===Mc&&(a.el=o.el),a.type===dn&&!a.el&&(a.el=o.el)}}function oR(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Gb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Gb(e)}function Lu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const aR=Symbol.for("v-scx"),lR=()=>ln(aR);function ke(t,e,n){return Qb(t,e,n)}function Qb(t,e,n=tt){const{immediate:i,deep:r,flush:s,once:o}=n,a=xt({},n),l=e&&i||!e&&s!=="post";let c;if(qa){if(s==="sync"){const m=lR();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=ci,m.resume=ci,m.pause=ci,m}}const h=qt;a.call=(m,_,k)=>Kn(m,h,_,k);let d=!1;s==="post"?a.scheduler=m=>{wt(m,h&&h.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(m,_)=>{_?m():tp(m)}),a.augmentJob=m=>{e&&(m.flags|=4),d&&(m.flags|=2,h&&(m.id=h.uid,m.i=h))};const f=wA(t,e,a);return qa&&(c?c.push(f):l&&f()),f}function uR(t,e,n){const i=this.proxy,r=dt(t)?t.includes(".")?Yb(i,t):()=>i[t]:t.bind(i,i);let s;xe(e)?s=e:(s=e.handler,n=e);const o=ll(this),a=Qb(r,s.bind(i),n);return o(),a}function Yb(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const cR=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${On(e)}Modifiers`]||t[`${ds(e)}Modifiers`];function hR(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||tt;let r=n;const s=e.startsWith("update:"),o=s&&cR(i,e.slice(7));o&&(o.trim&&(r=n.map(h=>dt(h)?h.trim():h)),o.number&&(r=n.map($S)));let a,l=i[a=Nh(e)]||i[a=Nh(On(e))];!l&&s&&(l=i[a=Nh(ds(e))]),l&&Kn(l,t,6,r);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Kn(c,t,6,r)}}function Jb(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!xe(t)){const l=c=>{const h=Jb(c,e,!0);h&&(a=!0,xt(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(ct(t)&&i.set(t,null),null):(Ae(s)?s.forEach(l=>o[l]=null):xt(o,s),ct(t)&&i.set(t,o),o)}function Oc(t,e){return!t||!Ic(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ge(t,e[0].toLowerCase()+e.slice(1))||Ge(t,ds(e))||Ge(t,e))}function Xg(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:h,props:d,data:f,setupState:m,ctx:_,inheritAttrs:k}=t,P=Du(t);let L,T;try{if(n.shapeFlag&4){const A=r||i,O=A;L=ii(c.call(O,A,h,d,m,f,_)),T=a}else{const A=e;L=ii(A.length>1?A(d,{attrs:a,slots:o,emit:l}):A(d,null)),T=e.props?a:dR(a)}}catch(A){ga.length=0,kc(A,t,1),L=ne(dn)}let C=L;if(T&&k!==!1){const A=Object.keys(T),{shapeFlag:O}=C;A.length&&O&7&&(s&&A.some($f)&&(T=fR(T,s)),C=Mi(C,T,!1,!0))}return n.dirs&&(C=Mi(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&eo(C,n.transition),L=C,Du(P),L}const dR=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ic(n))&&((e||(e={}))[n]=t[n]);return e},fR=(t,e)=>{const n={};for(const i in t)(!$f(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function pR(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Zg(i,o,c):!!o;if(l&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(o[f]!==i[f]&&!Oc(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Zg(i,o,c):!0:!!o;return!1}function Zg(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!Oc(n,s))return!0}return!1}function mR({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Vu=t=>t.__isSuspense;function gR(t,e){e&&e.pendingBranch?Ae(t)?e.effects.push(...t):e.effects.push(t):CA(t)}const qn=Symbol.for("v-fgt"),Mc=Symbol.for("v-txt"),dn=Symbol.for("v-cmt"),Uh=Symbol.for("v-stc"),ga=[];let vn=null;function _n(t=!1){ga.push(vn=t?null:[])}function _R(){ga.pop(),vn=ga[ga.length-1]||null}let Va=1;function e_(t,e=!1){Va+=t,t<0&&vn&&e&&(vn.hasOnce=!0)}function Xb(t){return t.dynamicChildren=Va>0?vn||Us:null,_R(),Va>0&&vn&&vn.push(t),t}function ap(t,e,n,i,r,s){return Xb(Tt(t,e,n,i,r,s,!0))}function oi(t,e,n,i,r){return Xb(ne(t,e,n,i,r,!0))}function Fa(t){return t?t.__v_isVNode===!0:!1}function rr(t,e){return t.type===e.type&&t.key===e.key}const Zb=({key:t})=>t??null,pu=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?dt(t)||nn(t)||xe(t)?{i:pn,r:t,k:e,f:!!n}:t:null);function Tt(t,e=null,n=null,i=0,r=null,s=t===qn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zb(e),ref:e&&pu(e),scopeId:Tb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:pn};return a?(lp(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=dt(n)?8:16),Va>0&&!o&&vn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&vn.push(l),l}const ne=vR;function vR(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===BA)&&(t=dn),Fa(t)){const a=Mi(t,e,!0);return n&&lp(a,n),Va>0&&!s&&vn&&(a.shapeFlag&6?vn[vn.indexOf(t)]=a:vn.push(a)),a.patchFlag=-2,a}if(RR(t)&&(t=t.__vccOpts),e){e=yR(e);let{class:a,style:l}=e;a&&!dt(a)&&(e.class=Wf(a)),ct(l)&&(Zf(l)&&!Ae(l)&&(l=xt({},l)),e.style=zf(l))}const o=dt(t)?1:Vu(t)?128:Cb(t)?64:ct(t)?4:xe(t)?2:0;return Tt(t,e,n,i,r,o,s,!0)}function yR(t){return t?Zf(t)||$b(t)?xt({},t):t:null}function Mi(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?ER(r||{},e):r,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Zb(c),ref:e&&e.ref?n&&s?Ae(s)?s.concat(pu(e)):[s,pu(e)]:pu(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==qn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Mi(t.ssContent),ssFallback:t.ssFallback&&Mi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&eo(h,l.clone(h)),h}function ai(t=" ",e=0){return ne(Mc,null,t,e)}function ii(t){return t==null||typeof t=="boolean"?ne(dn):Ae(t)?ne(qn,null,t.slice()):Fa(t)?er(t):ne(Mc,null,String(t))}function er(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Mi(t)}function lp(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ae(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),lp(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!$b(e)?e._ctx=pn:r===3&&pn&&(pn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else xe(e)?(e={default:e,_ctx:pn},n=32):(e=String(e),i&64?(n=16,e=[ai(e)]):n=8);t.children=e,t.shapeFlag|=n}function ER(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Wf([e.class,i.class]));else if(r==="style")e.style=zf([e.style,i.style]);else if(Ic(r)){const s=e[r],o=i[r];o&&s!==o&&!(Ae(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function Cn(t,e,n,i=null){Kn(t,e,7,[n,i])}const bR=qb();let wR=0;function TR(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||bR,s={uid:wR++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new YS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hb(i,r),emitsOptions:Jb(i,r),emit:null,emitted:null,propsDefaults:tt,inheritAttrs:i.inheritAttrs,ctx:tt,data:tt,props:tt,attrs:tt,slots:tt,refs:tt,setupState:tt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=hR.bind(null,s),t.ce&&t.ce(s),s}let qt=null;const Le=()=>qt||pn;let Fu,Md;{const t=Ac(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};Fu=e("__VUE_INSTANCE_SETTERS__",n=>qt=n),Md=e("__VUE_SSR_SETTERS__",n=>qa=n)}const ll=t=>{const e=qt;return Fu(t),t.scope.on(),()=>{t.scope.off(),Fu(e)}},t_=()=>{qt&&qt.scope.off(),Fu(null)};function ew(t){return t.vnode.shapeFlag&4}let qa=!1;function IR(t,e=!1,n=!1){e&&Md(e);const{props:i,children:r}=t.vnode,s=ew(t);JA(t,i,s,e),tR(t,r,n||e);const o=s?CR(t,e):void 0;return e&&Md(!1),o}function CR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,jA);const{setup:i}=n;if(i){Di();const r=t.setupContext=i.length>1?AR(t):null,s=ll(t),o=al(i,t,0,[t.props,r]),a=GE(o);if(Oi(),s(),(a||t.sp)&&!zs(t)&&Db(t),a){if(o.then(t_,t_),e)return o.then(l=>{n_(t,l)}).catch(l=>{kc(l,t,0)});t.asyncDep=o}else n_(t,o)}else tw(t)}function n_(t,e,n){xe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ct(e)&&(t.setupState=vb(e)),tw(t)}function tw(t,e,n){const i=t.type;t.render||(t.render=i.render||ci);{const r=ll(t);Di();try{HA(t)}finally{Oi(),r()}}}const SR={get(t,e){return Jt(t,"get",""),t[e]}};function AR(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,SR),slots:t.slots,emit:t.emit,expose:e}}function Lc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(vb(ep(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ma)return ma[n](t)},has(e,n){return n in e||n in ma}})):t.proxy}function Ld(t,e=!0){return xe(t)?t.displayName||t.name:t.name||e&&t.__name}function RR(t){return xe(t)&&"__vccOpts"in t}const D=(t,e)=>EA(t,e,qa);function F(t,e,n){const i=arguments.length;return i===2?ct(e)&&!Ae(e)?Fa(e)?ne(t,null,[e]):ne(t,e):ne(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Fa(n)&&(n=[n]),ne(t,e,n))}const kR="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vd;const i_=typeof window<"u"&&window.trustedTypes;if(i_)try{Vd=i_.createPolicy("vue",{createHTML:t=>t})}catch{}const nw=Vd?t=>Vd.createHTML(t):t=>t,PR="http://www.w3.org/2000/svg",xR="http://www.w3.org/1998/Math/MathML",Ii=typeof document<"u"?document:null,r_=Ii&&Ii.createElement("template"),NR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?Ii.createElementNS(PR,t):e==="mathml"?Ii.createElementNS(xR,t):n?Ii.createElement(t,{is:n}):Ii.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Ii.createTextNode(t),createComment:t=>Ii.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ii.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{r_.innerHTML=nw(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=r_.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Qi="transition",Wo="animation",Ba=Symbol("_vtc"),iw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},DR=xt({},Rb,iw),OR=t=>(t.displayName="Transition",t.props=DR,t),ts=OR((t,{slots:e})=>F(PA,MR(t),e)),Vr=(t,e=[])=>{Ae(t)?t.forEach(n=>n(...e)):t&&t(...e)},s_=t=>t?Ae(t)?t.some(e=>e.length>1):t.length>1:!1;function MR(t){const e={};for(const y in t)y in iw||(e[y]=t[y]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:h=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,_=LR(r),k=_&&_[0],P=_&&_[1],{onBeforeEnter:L,onEnter:T,onEnterCancelled:C,onLeave:A,onLeaveCancelled:O,onBeforeAppear:B=L,onAppear:S=T,onAppearCancelled:E=C}=e,v=(y,I,M,ee)=>{y._enterCancelled=ee,Fr(y,I?h:a),Fr(y,I?c:o),M&&M()},b=(y,I)=>{y._isLeaving=!1,Fr(y,d),Fr(y,m),Fr(y,f),I&&I()},R=y=>(I,M)=>{const ee=y?S:T,se=()=>v(I,y,M);Vr(ee,[I,se]),o_(()=>{Fr(I,y?l:s),wi(I,y?h:a),s_(ee)||a_(I,i,k,se)})};return xt(e,{onBeforeEnter(y){Vr(L,[y]),wi(y,s),wi(y,o)},onBeforeAppear(y){Vr(B,[y]),wi(y,l),wi(y,c)},onEnter:R(!1),onAppear:R(!0),onLeave(y,I){y._isLeaving=!0;const M=()=>b(y,I);wi(y,d),y._enterCancelled?(wi(y,f),c_()):(c_(),wi(y,f)),o_(()=>{y._isLeaving&&(Fr(y,d),wi(y,m),s_(A)||a_(y,i,P,M))}),Vr(A,[y,M])},onEnterCancelled(y){v(y,!1,void 0,!0),Vr(C,[y])},onAppearCancelled(y){v(y,!0,void 0,!0),Vr(E,[y])},onLeaveCancelled(y){b(y),Vr(O,[y])}})}function LR(t){if(t==null)return null;if(ct(t))return[$h(t.enter),$h(t.leave)];{const e=$h(t);return[e,e]}}function $h(t){return jS(t)}function wi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ba]||(t[Ba]=new Set)).add(e)}function Fr(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Ba];n&&(n.delete(e),n.size||(t[Ba]=void 0))}function o_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let VR=0;function a_(t,e,n,i){const r=t._endId=++VR,s=()=>{r===t._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=FR(t,e);if(!o)return i();const c=o+"end";let h=0;const d=()=>{t.removeEventListener(c,f),s()},f=m=>{m.target===t&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},a+1),t.addEventListener(c,f)}function FR(t,e){const n=window.getComputedStyle(t),i=_=>(n[_]||"").split(", "),r=i(`${Qi}Delay`),s=i(`${Qi}Duration`),o=l_(r,s),a=i(`${Wo}Delay`),l=i(`${Wo}Duration`),c=l_(a,l);let h=null,d=0,f=0;e===Qi?o>0&&(h=Qi,d=o,f=s.length):e===Wo?c>0&&(h=Wo,d=c,f=l.length):(d=Math.max(o,c),h=d>0?o>c?Qi:Wo:null,f=h?h===Qi?s.length:l.length:0);const m=h===Qi&&/\b(transform|all)(,|$)/.test(i(`${Qi}Property`).toString());return{type:h,timeout:d,propCount:f,hasTransform:m}}function l_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>u_(n)+u_(t[i])))}function u_(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function c_(){return document.body.offsetHeight}function qR(t,e,n){const i=t[Ba];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const h_=Symbol("_vod"),BR=Symbol("_vsh"),UR=Symbol(""),$R=/(^|;)\s*display\s*:/;function jR(t,e,n){const i=t.style,r=dt(n);let s=!1;if(n&&!r){if(e)if(dt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&mu(i,a,"")}else for(const o in e)n[o]==null&&mu(i,o,"");for(const o in n)o==="display"&&(s=!0),mu(i,o,n[o])}else if(r){if(e!==n){const o=i[UR];o&&(n+=";"+o),i.cssText=n,s=$R.test(n)}}else e&&t.removeAttribute("style");h_ in t&&(t[h_]=s?i.display:"",t[BR]&&(i.display="none"))}const d_=/\s*!important$/;function mu(t,e,n){if(Ae(n))n.forEach(i=>mu(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=HR(t,e);d_.test(n)?t.setProperty(ds(i),n.replace(d_,""),"important"):t[i]=n}}const f_=["Webkit","Moz","ms"],jh={};function HR(t,e){const n=jh[e];if(n)return n;let i=On(e);if(i!=="filter"&&i in t)return jh[e]=i;i=Sc(i);for(let r=0;r<f_.length;r++){const s=f_[r]+i;if(s in t)return jh[e]=s}return e}const p_="http://www.w3.org/1999/xlink";function m_(t,e,n,i,r,s=QS(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(p_,e.slice(6,e.length)):t.setAttributeNS(p_,e,n):n==null||s&&!XE(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Rr(n)?String(n):n)}function g_(t,e,n,i,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?nw(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=XE(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function zR(t,e,n,i){t.addEventListener(e,n,i)}function WR(t,e,n,i){t.removeEventListener(e,n,i)}const __=Symbol("_vei");function KR(t,e,n,i,r=null){const s=t[__]||(t[__]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=GR(e);if(i){const c=s[e]=JR(i,r);zR(t,a,c,l)}else o&&(WR(t,a,o,l),s[e]=void 0)}}const v_=/(?:Once|Passive|Capture)$/;function GR(t){let e;if(v_.test(t)){e={};let i;for(;i=t.match(v_);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ds(t.slice(2)),e]}let Hh=0;const QR=Promise.resolve(),YR=()=>Hh||(QR.then(()=>Hh=0),Hh=Date.now());function JR(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Kn(XR(i,n.value),e,5,[i])};return n.value=t,n.attached=YR(),n}function XR(t,e){if(Ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const y_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ZR=(t,e,n,i,r,s)=>{const o=r==="svg";e==="class"?qR(t,i,o):e==="style"?jR(t,n,i):Ic(e)?$f(e)||KR(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):e1(t,e,i,o))?(g_(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&m_(t,e,i,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!dt(i))?g_(t,On(e),i,s,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),m_(t,e,i,o))};function e1(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&y_(e)&&xe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return y_(e)&&dt(n)?!1:e in t}const t1=xt({patchProp:ZR},NR);let E_;function n1(){return E_||(E_=iR(t1))}const rw=(...t)=>{const e=n1().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=r1(i);if(!r)return;const s=e._component;!xe(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,i1(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function i1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function r1(t){return dt(t)?document.querySelector(t):t}function vo(t,e,n,i){return Object.defineProperty(t,e,{get:n,set:i,enumerable:!0}),t}const mi=_e(!1);let Fd;function s1(t,e){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[4]||n[2]||"0",platform:e[0]||""}}function o1(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}const sw="ontouchstart"in window||window.navigator.maxTouchPoints>0;function a1(t){const e=t.toLowerCase(),n=o1(e),i=s1(e,n),r={mobile:!1,desktop:!1,cordova:!1,capacitor:!1,nativeMobile:!1,electron:!1,bex:!1,linux:!1,mac:!1,win:!1,cros:!1,chrome:!1,firefox:!1,opera:!1,safari:!1,vivaldi:!1,edge:!1,edgeChromium:!1,ie:!1,webkit:!1,android:!1,ios:!1,ipad:!1,iphone:!1,ipod:!1,kindle:!1,winphone:!1,blackberry:!1,playbook:!1,silk:!1};i.browser&&(r[i.browser]=!0,r.version=i.version,r.versionNumber=parseInt(i.version,10)),i.platform&&(r[i.platform]=!0);const s=r.android||r.ios||r.bb||r.blackberry||r.ipad||r.iphone||r.ipod||r.kindle||r.playbook||r.silk||r["windows phone"];if(s===!0||e.indexOf("mobile")!==-1?r.mobile=!0:r.desktop=!0,r["windows phone"]&&(r.winphone=!0,delete r["windows phone"]),r.edga||r.edgios||r.edg?(r.edge=!0,i.browser="edge"):r.crios?(r.chrome=!0,i.browser="chrome"):r.fxios&&(r.firefox=!0,i.browser="firefox"),(r.ipod||r.ipad||r.iphone)&&(r.ios=!0),r.vivaldi&&(i.browser="vivaldi",r.vivaldi=!0),(r.chrome||r.opr||r.safari||r.vivaldi||r.mobile===!0&&r.ios!==!0&&s!==!0)&&(r.webkit=!0),r.opr&&(i.browser="opera",r.opera=!0),r.safari&&(r.blackberry||r.bb?(i.browser="blackberry",r.blackberry=!0):r.playbook?(i.browser="playbook",r.playbook=!0):r.android?(i.browser="android",r.android=!0):r.kindle?(i.browser="kindle",r.kindle=!0):r.silk&&(i.browser="silk",r.silk=!0)),r.name=i.browser,r.platform=i.platform,e.indexOf("electron")!==-1)r.electron=!0;else if(document.location.href.indexOf("-extension://")!==-1)r.bex=!0;else{if(window.Capacitor!==void 0?(r.capacitor=!0,r.nativeMobile=!0,r.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(r.cordova=!0,r.nativeMobile=!0,r.nativeMobileWrapper="cordova"),mi.value===!0&&(Fd={is:{...r}}),sw===!0&&r.mac===!0&&(r.desktop===!0&&r.safari===!0||r.nativeMobile===!0&&r.android!==!0&&r.ios!==!0&&r.ipad!==!0)){delete r.mac,delete r.desktop;const o=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(r,{mobile:!0,ios:!0,platform:o,[o]:!0})}r.mobile!==!0&&window.navigator.userAgentData&&window.navigator.userAgentData.mobile&&(delete r.desktop,r.mobile=!0)}return r}const b_=navigator.userAgent||navigator.vendor||window.opera,l1={has:{touch:!1,webStorage:!1},within:{iframe:!1}},ut={userAgent:b_,is:a1(b_),has:{touch:sw},within:{iframe:window.self!==window.top}},qu={install(t){const{$q:e}=t;mi.value===!0?(t.onSSRHydrated.push(()=>{Object.assign(e.platform,ut),mi.value=!1}),e.platform=si(this)):e.platform=this}};{let t;vo(ut.has,"webStorage",()=>{if(t!==void 0)return t;try{if(window.localStorage)return t=!0,!0}catch{}return t=!1,!1}),Object.assign(qu,ut),mi.value===!0&&(Object.assign(qu,Fd,l1),Fd=null)}function Fe(t){return ep(np(t))}function up(t){return ep(t)}const yo=(t,e)=>{const n=si(t);for(const i in t)vo(e,i,()=>n[i],r=>{n[i]=r});return e},yt={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const t=Object.defineProperty({},"passive",{get(){Object.assign(yt,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch{}function kn(){}function u1(t){return t.button===0}function Bu(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]?t=t.changedTouches[0]:t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),{top:t.clientY,left:t.clientX}}function c1(t){if(t.path)return t.path;if(t.composedPath)return t.composedPath();const e=[];let n=t.target;for(;n;){if(e.push(n),n.tagName==="HTML")return e.push(document),e.push(window),e;n=n.parentElement}}function Ua(t){t.stopPropagation()}function ri(t){t.cancelable!==!1&&t.preventDefault()}function Et(t){t.cancelable!==!1&&t.preventDefault(),t.stopPropagation()}function zh(t,e){if(t===void 0||e===!0&&t.__dragPrevented===!0)return;const n=e===!0?i=>{i.__dragPrevented=!0,i.addEventListener("dragstart",ri,yt.notPassiveCapture)}:i=>{delete i.__dragPrevented,i.removeEventListener("dragstart",ri,yt.notPassiveCapture)};t.querySelectorAll("a, img").forEach(n)}function Wr(t,e,n){const i=`__q_${e}_evt`;t[i]=t[i]!==void 0?t[i].concat(n):n,n.forEach(r=>{r[0].addEventListener(r[1],t[r[2]],yt[r[3]])})}function _a(t,e){const n=`__q_${e}_evt`;t[n]!==void 0&&(t[n].forEach(i=>{i[0].removeEventListener(i[1],t[i[2]],yt[i[3]])}),t[n]=void 0)}function ow(t,e=250,n){let i=null;function r(){const s=arguments,o=()=>{i=null,t.apply(this,s)};i!==null&&clearTimeout(i),i=setTimeout(o,e)}return r.cancel=()=>{i!==null&&clearTimeout(i)},r}const Wh=["sm","md","lg","xl"],{passive:w_}=yt,h1=yo({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:kn,setDebounce:kn,install({$q:t,onSSRHydrated:e}){var d;if(t.screen=this,this.__installed===!0){t.config.screen!==void 0&&(t.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:n}=window,i=n||window,r=document.scrollingElement||document.documentElement,s=n===void 0||ut.is.mobile===!0?()=>[Math.max(window.innerWidth,r.clientWidth),Math.max(window.innerHeight,r.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-r.clientWidth,n.height*n.scale+window.innerHeight-r.clientHeight],o=((d=t.config.screen)==null?void 0:d.bodyClasses)===!0;this.__update=f=>{const[m,_]=s();if(_!==this.height&&(this.height=_),m!==this.width)this.width=m;else if(f!==!0)return;let k=this.sizes;this.gt.xs=m>=k.sm,this.gt.sm=m>=k.md,this.gt.md=m>=k.lg,this.gt.lg=m>=k.xl,this.lt.sm=m<k.sm,this.lt.md=m<k.md,this.lt.lg=m<k.lg,this.lt.xl=m<k.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,k=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",k!==this.name&&(o===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${k}`)),this.name=k)};let a,l={},c=16;this.setSizes=f=>{Wh.forEach(m=>{f[m]!==void 0&&(l[m]=f[m])})},this.setDebounce=f=>{c=f};const h=()=>{const f=getComputedStyle(document.body);f.getPropertyValue("--q-size-sm")&&Wh.forEach(m=>{this.sizes[m]=parseInt(f.getPropertyValue(`--q-size-${m}`),10)}),this.setSizes=m=>{Wh.forEach(_=>{m[_]&&(this.sizes[_]=m[_])}),this.__update(!0)},this.setDebounce=m=>{a!==void 0&&i.removeEventListener("resize",a,w_),a=m>0?ow(this.__update,m):this.__update,i.addEventListener("resize",a,w_)},this.setDebounce(c),Object.keys(l).length!==0?(this.setSizes(l),l=void 0):this.__update(),o===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};mi.value===!0?e.push(h):h()}}),Gt=yo({isActive:!1,mode:!1},{__media:void 0,set(t){Gt.mode=t,t==="auto"?(Gt.__media===void 0&&(Gt.__media=window.matchMedia("(prefers-color-scheme: dark)"),Gt.__updateMedia=()=>{Gt.set("auto")},Gt.__media.addListener(Gt.__updateMedia)),t=Gt.__media.matches):Gt.__media!==void 0&&(Gt.__media.removeListener(Gt.__updateMedia),Gt.__media=void 0),Gt.isActive=t===!0,document.body.classList.remove(`body--${t===!0?"light":"dark"}`),document.body.classList.add(`body--${t===!0?"dark":"light"}`)},toggle(){Gt.set(Gt.isActive===!1)},install({$q:t,ssrContext:e}){const{dark:n}=t.config;t.dark=this,this.__installed!==!0&&this.set(n!==void 0?n:!1)}});function d1(t,e,n=document.body){if(typeof t!="string")throw new TypeError("Expected a string as propName");if(typeof e!="string")throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${t}`,e)}let aw=!1;function f1(t){aw=t.isComposing===!0}function cp(t){return aw===!0||t!==Object(t)||t.isComposing===!0||t.qKeyEvent===!0}function Li(t,e){return cp(t)===!0?!1:[].concat(e).includes(t.keyCode)}function lw(t){if(t.ios===!0)return"ios";if(t.android===!0)return"android"}function p1({is:t,has:e,within:n},i){const r=[t.desktop===!0?"desktop":"mobile",`${e.touch===!1?"no-":""}touch`];if(t.mobile===!0){const s=lw(t);s!==void 0&&r.push("platform-"+s)}if(t.nativeMobile===!0){const s=t.nativeMobileWrapper;r.push(s),r.push("native-mobile"),t.ios===!0&&(i[s]===void 0||i[s].iosStatusBarPadding!==!1)&&r.push("q-ios-padding")}else t.electron===!0?r.push("electron"):t.bex===!0&&r.push("bex");return n.iframe===!0&&r.push("within-iframe"),r}function m1(){const{is:t}=ut,e=document.body.className,n=new Set(e.replace(/ {2}/g," ").split(" "));if(t.nativeMobile!==!0&&t.electron!==!0&&t.bex!==!0){if(t.desktop===!0)n.delete("mobile"),n.delete("platform-ios"),n.delete("platform-android"),n.add("desktop");else if(t.mobile===!0){n.delete("desktop"),n.add("mobile"),n.delete("platform-ios"),n.delete("platform-android");const r=lw(t);r!==void 0&&n.add(`platform-${r}`)}}ut.has.touch===!0&&(n.delete("no-touch"),n.add("touch")),ut.within.iframe===!0&&n.add("within-iframe");const i=Array.from(n).join(" ");e!==i&&(document.body.className=i)}function g1(t){for(const e in t)d1(e,t[e])}const _1={install(t){if(this.__installed!==!0){if(mi.value===!0)m1();else{const{$q:e}=t;e.config.brand!==void 0&&g1(e.config.brand);const n=p1(ut,e.config);document.body.classList.add.apply(document.body.classList,n)}ut.is.ios===!0&&document.body.addEventListener("touchstart",kn),window.addEventListener("keydown",f1,!0)}}},uw=()=>!0;function v1(t){return typeof t=="string"&&t!==""&&t!=="/"&&t!=="#/"}function y1(t){return t.startsWith("#")===!0&&(t=t.substring(1)),t.startsWith("/")===!1&&(t="/"+t),t.endsWith("/")===!0&&(t=t.substring(0,t.length-1)),"#"+t}function E1(t){if(t.backButtonExit===!1)return()=>!1;if(t.backButtonExit==="*")return uw;const e=["#/"];return Array.isArray(t.backButtonExit)===!0&&e.push(...t.backButtonExit.filter(v1).map(y1)),()=>e.includes(window.location.hash)}const qd={__history:[],add:kn,remove:kn,install({$q:t}){if(this.__installed===!0)return;const{cordova:e,capacitor:n}=ut.is;if(e!==!0&&n!==!0)return;const i=t.config[e===!0?"cordova":"capacitor"];if((i==null?void 0:i.backButton)===!1||n===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=o=>{o.condition===void 0&&(o.condition=uw),this.__history.push(o)},this.remove=o=>{const a=this.__history.indexOf(o);a>=0&&this.__history.splice(a,1)};const r=E1(Object.assign({backButtonExit:!0},i)),s=()=>{if(this.__history.length){const o=this.__history[this.__history.length-1];o.condition()===!0&&(this.__history.pop(),o.handler())}else r()===!0?navigator.app.exitApp():window.history.back()};e===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",s,!1)}):window.Capacitor.Plugins.App.addListener("backButton",s)}},T_={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:t=>t?`Expand "${t}"`:"Expand",collapse:t=>t?`Collapse "${t}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days",prevMonth:"Previous month",nextMonth:"Next month",prevYear:"Previous year",nextYear:"Next year",today:"Today",prevRangeYears:t=>`Previous ${t} years`,nextRangeYears:t=>`Next ${t} years`},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:t=>t===1?"1 record selected.":(t===0?"No":t)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(t,e,n)=>t+"-"+e+" of "+n,columns:"Columns"},pagination:{first:"First page",prev:"Previous page",next:"Next page",last:"Last page"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function I_(){const t=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof t=="string")return t.split(/[-_]/).map((e,n)=>n===0?e.toLowerCase():n>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase()).join("-")}const tr=yo({__qLang:{}},{getLocale:I_,set(t=T_,e){const n={...t,rtl:t.rtl===!0,getLocale:I_};{if(n.set=tr.set,tr.__langConfig===void 0||tr.__langConfig.noHtmlAttrs!==!0){const i=document.documentElement;i.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),i.setAttribute("lang",n.isoName)}Object.assign(tr.__qLang,n)}},install({$q:t,lang:e,ssrContext:n}){t.lang=tr.__qLang,tr.__langConfig=t.config.lang,this.__installed===!0?e!==void 0&&this.set(e):(this.props=new Proxy(this.__qLang,{get(){return Reflect.get(...arguments)},ownKeys(i){return Reflect.ownKeys(i).filter(r=>r!=="set"&&r!=="getLocale")}}),this.set(e||T_))}}),b1={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},Uu=yo({iconMapFn:null,__qIconSet:{}},{set(t,e){const n={...t};n.set=Uu.set,Object.assign(Uu.__qIconSet,n)},install({$q:t,iconSet:e,ssrContext:n}){t.config.iconMapFn!==void 0&&(this.iconMapFn=t.config.iconMapFn),t.iconSet=this.__qIconSet,vo(t,"iconMapFn",()=>this.iconMapFn,i=>{this.iconMapFn=i}),this.__installed===!0?e!==void 0&&this.set(e):(this.props=new Proxy(this.__qIconSet,{get(){return Reflect.get(...arguments)},ownKeys(i){return Reflect.ownKeys(i).filter(r=>r!=="set")}}),this.set(e||b1))}}),w1="_q_",Vc="_q_l_",cw="_q_pc_",hw="_q_fo_",dw="_q_tabs_";function an(){}const $u={};let fw=!1;function T1(){fw=!0}function Bn(t){return t!==null&&typeof t=="object"&&Array.isArray(t)!==!0}const C_=[qu,_1,Gt,h1,qd,tr,Uu];function hp(t,e){const n=rw(t);n.config.globalProperties=e.config.globalProperties;const{reload:i,...r}=e._context;return Object.assign(n._context,r),n}function S_(t,e){e.forEach(n=>{n.install(t),n.__installed=!0})}function I1(t,e,n){t.config.globalProperties.$q=n.$q,t.provide(w1,n.$q),S_(n,C_),e.components!==void 0&&Object.values(e.components).forEach(i=>{Bn(i)===!0&&i.name!==void 0&&t.component(i.name,i)}),e.directives!==void 0&&Object.values(e.directives).forEach(i=>{Bn(i)===!0&&i.name!==void 0&&t.directive(i.name,i)}),e.plugins!==void 0&&S_(n,Object.values(e.plugins).filter(i=>typeof i.install=="function"&&C_.includes(i)===!1)),mi.value===!0&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach(i=>{i()}),n.$q.onSSRHydrated=()=>{}})}const C1=function(t,e={}){const n={version:"2.18.1"};fw===!1?(e.config!==void 0&&Object.assign($u,e.config),n.config={...$u},T1()):n.config=e.config||{},I1(t,e,{parentApp:t,$q:n,lang:e.lang,iconSet:e.iconSet,onSSRHydrated:[]})},S1={name:"Quasar",version:"2.18.1",install:C1,lang:tr,iconSet:Uu};function A1(t,e,n){let i;function r(){i!==void 0&&(qd.remove(i),i=void 0)}return mt(()=>{t.value===!0&&r()}),{removeFromHistory:r,addToHistory(){i={condition:()=>n.value===!0,handler:e},qd.add(i)}}}function gu(t){if(Object(t.$parent)===t.$parent)return t.$parent;let{parent:e}=t.$;for(;Object(e)===e;){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function pw(t,e){typeof e.type=="symbol"?Array.isArray(e.children)===!0&&e.children.forEach(n=>{pw(t,n)}):t.add(e)}function R1(t){const e=new Set;return t.forEach(n=>{pw(e,n)}),Array.from(e)}function mw(t){return t.appContext.config.globalProperties.$router!==void 0}function dp(t){return t.isUnmounted===!0||t.isDeactivated===!0}function $a(){let t=null;const e=Le();function n(){t!==null&&(clearTimeout(t),t=null)}return _o(n),mt(n),{removeTimeout:n,registerTimeout(i,r){n(),dp(e)===!1&&(t=setTimeout(()=>{t=null,i()},r))}}}function va(){let t;const e=Le();function n(){t=void 0}return _o(n),mt(n),{removeTick:n,registerTick(i){t=i,Ft(()=>{t===i&&(dp(e)===!1&&t(),t=void 0)})}}}const gw={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},_w=["beforeShow","show","beforeHide","hide"];function vw({showing:t,canShow:e,hideOnRouteChange:n,handleShow:i,handleHide:r,processOnMount:s}){const o=Le(),{props:a,emit:l,proxy:c}=o;let h;function d(T){t.value===!0?_(T):f(T)}function f(T){if(a.disable===!0||(T==null?void 0:T.qAnchorHandled)===!0||e!==void 0&&e(T)!==!0)return;const C=a["onUpdate:modelValue"]!==void 0;C===!0&&(l("update:modelValue",!0),h=T,Ft(()=>{h===T&&(h=void 0)})),(a.modelValue===null||C===!1)&&m(T)}function m(T){t.value!==!0&&(t.value=!0,l("beforeShow",T),i!==void 0?i(T):l("show",T))}function _(T){if(a.disable===!0)return;const C=a["onUpdate:modelValue"]!==void 0;C===!0&&(l("update:modelValue",!1),h=T,Ft(()=>{h===T&&(h=void 0)})),(a.modelValue===null||C===!1)&&k(T)}function k(T){t.value!==!1&&(t.value=!1,l("beforeHide",T),r!==void 0?r(T):l("hide",T))}function P(T){a.disable===!0&&T===!0?a["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):T===!0!==t.value&&(T===!0?m:k)(h)}ke(()=>a.modelValue,P),n!==void 0&&mw(o)===!0&&ke(()=>c.$route.fullPath,()=>{n.value===!0&&t.value===!0&&_()}),Nt(()=>{P(a.modelValue)});const L={show:f,hide:_,toggle:d};return Object.assign(c,L),L}const fp={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function yw(t,e=()=>{},n=()=>{}){return{transitionProps:D(()=>{const i=`q-transition--${t.transitionShow||e()}`,r=`q-transition--${t.transitionHide||n()}`;return{appear:!0,enterFromClass:`${i}-enter-from`,enterActiveClass:`${i}-enter-active`,enterToClass:`${i}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:D(()=>`--q-transition-duration: ${t.transitionDuration}ms`)}}let Kr=[],ja=[];function Ew(t){ja=ja.filter(e=>e!==t)}function k1(t){Ew(t),ja.push(t)}function A_(t){Ew(t),ja.length===0&&Kr.length!==0&&(Kr[Kr.length-1](),Kr=[])}function ul(t){ja.length===0?t():Kr.push(t)}function P1(t){Kr=Kr.filter(e=>e!==t)}let x1=1,N1=document.body;function Fc(t,e){const n=document.createElement("div");if(n.id=e!==void 0?`q-portal--${e}--${x1++}`:t,$u.globalNodes!==void 0){const i=$u.globalNodes.class;i!==void 0&&(n.className=i)}return N1.appendChild(n),n}function pp(t){t.remove()}const Ks=[];function D1(t){return Ks.find(e=>e.contentEl!==null&&e.contentEl.contains(t))}function bw(t,e){do{if(t.$options.name==="QMenu"){if(t.hide(e),t.$props.separateClosePopup===!0)return gu(t)}else if(t.__qPortal===!0){const n=gu(t);return(n==null?void 0:n.$options.name)==="QPopupProxy"?(t.hide(e),n):t}t=gu(t)}while(t!=null)}function O1(t,e,n){for(;n!==0&&t!==void 0&&t!==null;){if(t.__qPortal===!0){if(n--,t.$options.name==="QMenu"){t=bw(t,e);continue}t.hide(e)}t=gu(t)}}const M1=Fe({name:"QPortal",setup(t,{slots:e}){return()=>e.default()}});function L1(t){for(t=t.parent;t!=null;){if(t.type.name==="QGlobalDialog")return!0;if(t.type.name==="QDialog"||t.type.name==="QMenu")return!1;t=t.parent}return!1}function ww(t,e,n,i){const r=_e(!1),s=_e(!1);let o=null;const a={},l=i==="dialog"&&L1(t);function c(d){if(d===!0){A_(a),s.value=!0;return}s.value=!1,r.value===!1&&(l===!1&&o===null&&(o=Fc(!1,i)),r.value=!0,Ks.push(t.proxy),k1(a))}function h(d){if(s.value=!1,d!==!0)return;A_(a),r.value=!1;const f=Ks.indexOf(t.proxy);f!==-1&&Ks.splice(f,1),o!==null&&(pp(o),o=null)}return Dc(()=>{h(!0)}),t.proxy.__qPortal=!0,vo(t.proxy,"contentEl",()=>e.value),{showPortal:c,hidePortal:h,portalIsActive:r,portalIsAccessible:s,renderPortal:()=>l===!0?n():r.value===!0?[F(AA,{to:o},F(M1,n))]:void 0}}function Bd(t,e){const n=t.style;for(const i in e)n[i]=e[i]}function V1(t){if(t==null)return;if(typeof t=="string")try{return document.querySelector(t)||void 0}catch{return}const e=hr(t);if(e)return e.$el||e}function Tw(t,e){if(t==null||t.contains(e)===!0)return!0;for(let n=t.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(e))return!0;return!1}const Iw=[Element,String],F1=[null,document,document.body,document.scrollingElement,document.documentElement];function Cw(t,e){let n=V1(e);if(n===void 0){if(t==null)return window;n=t.closest(".scroll,.scroll-y,.overflow-auto")}return F1.includes(n)?window:n}function Sw(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function Aw(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}let Jl;function _u(){if(Jl!==void 0)return Jl;const t=document.createElement("p"),e=document.createElement("div");Bd(t,{width:"100%",height:"200px"}),Bd(e,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);const n=t.offsetWidth;e.style.overflow="scroll";let i=t.offsetWidth;return n===i&&(i=e.clientWidth),e.remove(),Jl=n-i,Jl}function q1(t,e=!0){return!t||t.nodeType!==Node.ELEMENT_NODE?!1:e?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"]))}let Ko=0,Kh,Gh,na,Qh=!1,R_,k_,P_,qr=null;function B1(t){U1(t)&&Et(t)}function U1(t){if(t.target===document.body||t.target.classList.contains("q-layout__backdrop"))return!0;const e=c1(t),n=t.shiftKey&&!t.deltaX,i=!n&&Math.abs(t.deltaX)<=Math.abs(t.deltaY),r=n||i?t.deltaY:t.deltaX;for(let s=0;s<e.length;s++){const o=e[s];if(q1(o,i))return i?r<0&&o.scrollTop===0?!0:r>0&&o.scrollTop+o.clientHeight===o.scrollHeight:r<0&&o.scrollLeft===0?!0:r>0&&o.scrollLeft+o.clientWidth===o.scrollWidth}return!0}function x_(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Xl(t){Qh!==!0&&(Qh=!0,requestAnimationFrame(()=>{Qh=!1;const{height:e}=t.target,{clientHeight:n,scrollTop:i}=document.scrollingElement;(na===void 0||e!==window.innerHeight)&&(na=n-e,document.scrollingElement.scrollTop=i),i>na&&(document.scrollingElement.scrollTop-=Math.ceil((i-na)/8))}))}function N_(t){const e=document.body,n=window.visualViewport!==void 0;if(t==="add"){const{overflowY:i,overflowX:r}=window.getComputedStyle(e);Kh=Aw(window),Gh=Sw(window),R_=e.style.left,k_=e.style.top,P_=window.location.href,e.style.left=`-${Kh}px`,e.style.top=`-${Gh}px`,r!=="hidden"&&(r==="scroll"||e.scrollWidth>window.innerWidth)&&e.classList.add("q-body--force-scrollbar-x"),i!=="hidden"&&(i==="scroll"||e.scrollHeight>window.innerHeight)&&e.classList.add("q-body--force-scrollbar-y"),e.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,ut.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Xl,yt.passiveCapture),window.visualViewport.addEventListener("scroll",Xl,yt.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",x_,yt.passiveCapture))}ut.is.desktop===!0&&ut.is.mac===!0&&window[`${t}EventListener`]("wheel",B1,yt.notPassive),t==="remove"&&(ut.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",Xl,yt.passiveCapture),window.visualViewport.removeEventListener("scroll",Xl,yt.passiveCapture)):window.removeEventListener("scroll",x_,yt.passiveCapture)),e.classList.remove("q-body--prevent-scroll"),e.classList.remove("q-body--force-scrollbar-x"),e.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,e.style.left=R_,e.style.top=k_,window.location.href===P_&&window.scrollTo(Kh,Gh),na=void 0)}function Ud(t){let e="add";if(t===!0){if(Ko++,qr!==null){clearTimeout(qr),qr=null;return}if(Ko>1)return}else{if(Ko===0||(Ko--,Ko>0))return;if(e="remove",ut.is.ios===!0&&ut.is.nativeMobile===!0){qr!==null&&clearTimeout(qr),qr=setTimeout(()=>{N_(e),qr=null},100);return}}N_(e)}function $1(){let t;return{preventBodyScroll(e){e!==t&&(t!==void 0||e===!0)&&(t=e,Ud(e))}}}function rt(t,e){return t!==void 0&&t()||e}function Rw(t,e){if(t!==void 0){const n=t();if(n!=null)return n.slice()}return e}function Ai(t,e){return t!==void 0?e.concat(t()):e}function j1(t,e){return t===void 0?e:e!==void 0?e.concat(t()):t()}function H1(t,e,n,i,r,s){e.key=i+r;const o=F(t,e,n);return r===!0?An(o,s()):o}const Xr=[];let to;function z1(t){to=t.keyCode===27}function W1(){to===!0&&(to=!1)}function K1(t){to===!0&&(to=!1,Li(t,27)===!0&&Xr[Xr.length-1](t))}function kw(t){window[t]("keydown",z1),window[t]("blur",W1),window[t]("keyup",K1),to=!1}function Pw(t){ut.is.desktop===!0&&(Xr.push(t),Xr.length===1&&kw("addEventListener"))}function ju(t){const e=Xr.indexOf(t);e!==-1&&(Xr.splice(e,1),Xr.length===0&&kw("removeEventListener"))}const Zr=[];function xw(t){Zr[Zr.length-1](t)}function Nw(t){ut.is.desktop===!0&&(Zr.push(t),Zr.length===1&&document.body.addEventListener("focusin",xw))}function $d(t){const e=Zr.indexOf(t);e!==-1&&(Zr.splice(e,1),Zr.length===0&&document.body.removeEventListener("focusin",xw))}let Zl=0;const G1={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},D_={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Dw=Fe({name:"QDialog",inheritAttrs:!1,props:{...gw,...fp,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:t=>["standard","top","bottom","left","right"].includes(t)}},emits:[..._w,"shake","click","escapeKey"],setup(t,{slots:e,emit:n,attrs:i}){const r=Le(),s=_e(null),o=_e(!1),a=_e(!1);let l=null,c=null,h,d;const f=D(()=>t.persistent!==!0&&t.noRouteDismiss!==!0&&t.seamless!==!0),{preventBodyScroll:m}=$1(),{registerTimeout:_}=$a(),{registerTick:k,removeTick:P}=va(),{transitionProps:L,transitionStyle:T}=yw(t,()=>D_[t.position][0],()=>D_[t.position][1]),C=D(()=>T.value+(t.backdropFilter!==void 0?`;backdrop-filter:${t.backdropFilter};-webkit-backdrop-filter:${t.backdropFilter}`:"")),{showPortal:A,hidePortal:O,portalIsAccessible:B,renderPortal:S}=ww(r,s,We,"dialog"),{hide:E}=vw({showing:o,hideOnRouteChange:f,handleShow:ee,handleHide:se,processOnMount:!0}),{addToHistory:v,removeFromHistory:b}=A1(o,E,f),R=D(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${t.maximized===!0?"maximized":"minimized"} q-dialog__inner--${t.position} ${G1[t.position]}`+(a.value===!0?" q-dialog__inner--animating":"")+(t.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(t.fullHeight===!0?" q-dialog__inner--fullheight":"")+(t.square===!0?" q-dialog__inner--square":"")),y=D(()=>o.value===!0&&t.seamless!==!0),I=D(()=>t.autoClose===!0?{onClick:z}:{}),M=D(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${y.value===!0?"modal":"seamless"}`,i.class]);ke(()=>t.maximized,ce=>{o.value===!0&&Re(ce)}),ke(y,ce=>{m(ce),ce===!0?(Nw(Xe),Pw(Ee)):($d(Xe),ju(Ee))});function ee(ce){var U;v(),c=t.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,Re(t.maximized),A(),a.value=!0,t.noFocus!==!0?((U=document.activeElement)==null||U.blur(),k(ie)):P(),_(()=>{if(r.proxy.$q.platform.is.ios===!0){if(t.seamless!==!0&&document.activeElement){const{top:ue,bottom:K}=document.activeElement.getBoundingClientRect(),{innerHeight:fe}=window,Oe=window.visualViewport!==void 0?window.visualViewport.height:fe;ue>0&&K>Oe/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Oe,K>=fe?1/0:Math.ceil(document.scrollingElement.scrollTop+K-Oe/2))),document.activeElement.scrollIntoView()}d=!0,s.value.click(),d=!1}A(!0),a.value=!1,n("show",ce)},t.transitionDuration)}function se(ce){P(),b(),Ie(!0),a.value=!0,O(),c!==null&&((((ce==null?void 0:ce.type.indexOf("key"))===0?c.closest('[tabindex]:not([tabindex^="-"])'):void 0)||c).focus(),c=null),_(()=>{O(!0),a.value=!1,n("hide",ce)},t.transitionDuration)}function ie(ce){ul(()=>{let U=s.value;if(U!==null){if(ce!==void 0){const ue=U.querySelector(ce);if(ue!==null){ue.focus({preventScroll:!0});return}}U.contains(document.activeElement)!==!0&&(U=U.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||U.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||U.querySelector("[autofocus], [data-autofocus]")||U,U.focus({preventScroll:!0}))}})}function Y(ce){ce&&typeof ce.focus=="function"?ce.focus({preventScroll:!0}):ie(),n("shake");const U=s.value;U!==null&&(U.classList.remove("q-animate--scale"),U.classList.add("q-animate--scale"),l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,s.value!==null&&(U.classList.remove("q-animate--scale"),ie())},170))}function Ee(){t.seamless!==!0&&(t.persistent===!0||t.noEscDismiss===!0?t.maximized!==!0&&t.noShake!==!0&&Y():(n("escapeKey"),E()))}function Ie(ce){l!==null&&(clearTimeout(l),l=null),(ce===!0||o.value===!0)&&(Re(!1),t.seamless!==!0&&(m(!1),$d(Xe),ju(Ee))),ce!==!0&&(c=null)}function Re(ce){ce===!0?h!==!0&&(Zl<1&&document.body.classList.add("q-body--dialog"),Zl++,h=!0):h===!0&&(Zl<2&&document.body.classList.remove("q-body--dialog"),Zl--,h=!1)}function z(ce){d!==!0&&(E(ce),n("click",ce))}function we(ce){t.persistent!==!0&&t.noBackdropDismiss!==!0?E(ce):t.noShake!==!0&&Y()}function Xe(ce){t.allowFocusOutside!==!0&&B.value===!0&&Tw(s.value,ce.target)!==!0&&ie('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:ie,shake:Y,__updateRefocusTarget(ce){c=ce||null}}),mt(Ie);function We(){return F("div",{role:"dialog","aria-modal":y.value===!0?"true":"false",...i,class:M.value},[F(ts,{name:"q-transition--fade",appear:!0},()=>y.value===!0?F("div",{class:"q-dialog__backdrop fixed-full",style:C.value,"aria-hidden":"true",tabindex:-1,onClick:we}):null),F(ts,L.value,()=>o.value===!0?F("div",{ref:s,class:R.value,style:T.value,tabindex:-1,...I.value},rt(e.default)):null)])}return S}}),jd={xs:18,sm:24,md:32,lg:38,xl:46},cl={size:String};function hl(t,e=jd){return D(()=>t.size!==void 0?{fontSize:t.size in e?`${e[t.size]}px`:t.size}:null)}const O_="0 0 24 24",Yh=t=>t,Jh=t=>`ionicons ${t}`,Ow={"mdi-":t=>`mdi ${t}`,"icon-":Yh,"bt-":t=>`bt ${t}`,"eva-":t=>`eva ${t}`,"ion-md":Jh,"ion-ios":Jh,"ion-logo":Jh,"iconfont ":Yh,"ti-":t=>`themify-icon ${t}`,"bi-":t=>`bootstrap-icons ${t}`,"i-":Yh},Mw={o_:"-outlined",r_:"-round",s_:"-sharp"},Lw={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},Q1=new RegExp("^("+Object.keys(Ow).join("|")+")"),Y1=new RegExp("^("+Object.keys(Mw).join("|")+")"),M_=new RegExp("^("+Object.keys(Lw).join("|")+")"),J1=/^[Mm]\s?[-+]?\.?\d/,X1=/^img:/,Z1=/^svguse:/,ek=/^ion-/,tk=/^(fa-(classic|sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /,$t=Fe({name:"QIcon",props:{...cl,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=Le(),i=hl(t),r=D(()=>"q-icon"+(t.left===!0?" on-left":"")+(t.right===!0?" on-right":"")+(t.color!==void 0?` text-${t.color}`:"")),s=D(()=>{let o,a=t.name;if(a==="none"||!a)return{none:!0};if(n.iconMapFn!==null){const h=n.iconMapFn(a);if(h!==void 0)if(h.icon!==void 0){if(a=h.icon,a==="none"||!a)return{none:!0}}else return{cls:h.cls,content:h.content!==void 0?h.content:" "}}if(J1.test(a)===!0){const[h,d=O_]=a.split("|");return{svg:!0,viewBox:d,nodes:h.split("&&").map(f=>{const[m,_,k]=f.split("@@");return F("path",{style:_,d:m,transform:k})})}}if(X1.test(a)===!0)return{img:!0,src:a.substring(4)};if(Z1.test(a)===!0){const[h,d=O_]=a.split("|");return{svguse:!0,src:h.substring(7),viewBox:d}}let l=" ";const c=a.match(Q1);if(c!==null)o=Ow[c[1]](a);else if(tk.test(a)===!0)o=a;else if(ek.test(a)===!0)o=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${a.substring(3)}`;else if(M_.test(a)===!0){o="notranslate material-symbols";const h=a.match(M_);h!==null&&(a=a.substring(6),o+=Lw[h[1]]),l=a}else{o="notranslate material-icons";const h=a.match(Y1);h!==null&&(a=a.substring(2),o+=Mw[h[1]]),l=a}return{cls:o,content:l}});return()=>{const o={class:r.value,style:i.value,"aria-hidden":"true"};return s.value.none===!0?F(t.tag,o,rt(e.default)):s.value.img===!0?F(t.tag,o,Ai(e.default,[F("img",{src:s.value.src})])):s.value.svg===!0?F(t.tag,o,Ai(e.default,[F("svg",{viewBox:s.value.viewBox||"0 0 24 24"},s.value.nodes)])):s.value.svguse===!0?F(t.tag,o,Ai(e.default,[F("svg",{viewBox:s.value.viewBox},[F("use",{"xlink:href":s.value.src})])])):(s.value.cls!==void 0&&(o.class+=" "+s.value.cls),F(t.tag,o,Ai(e.default,[s.value.content])))}}}),nk={size:{type:[String,Number],default:"1em"},color:String};function ik(t){return{cSize:D(()=>t.size in jd?`${jd[t.size]}px`:t.size),classes:D(()=>"q-spinner"+(t.color?` text-${t.color}`:""))}}const Ha=Fe({name:"QSpinner",props:{...nk,thickness:{type:Number,default:5}},setup(t){const{cSize:e,classes:n}=ik(t);return()=>F("svg",{class:n.value+" q-spinner-mat",width:e.value,height:e.value,viewBox:"25 25 50 50"},[F("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":t.thickness,"stroke-miterlimit":"10"})])}});function rk(t,e=250){let n=!1,i;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},e),i=t.apply(this,arguments)),i}}function L_(t,e,n,i){n.modifiers.stop===!0&&Ua(t);const r=n.modifiers.color;let s=n.modifiers.center;s=s===!0||i===!0;const o=document.createElement("span"),a=document.createElement("span"),l=Bu(t),{left:c,top:h,width:d,height:f}=e.getBoundingClientRect(),m=Math.sqrt(d*d+f*f),_=m/2,k=`${(d-m)/2}px`,P=s?k:`${l.left-c-_}px`,L=`${(f-m)/2}px`,T=s?L:`${l.top-h-_}px`;a.className="q-ripple__inner",Bd(a,{height:`${m}px`,width:`${m}px`,transform:`translate3d(${P},${T},0) scale3d(.2,.2,1)`,opacity:0}),o.className=`q-ripple${r?" text-"+r:""}`,o.setAttribute("dir","ltr"),o.appendChild(a),e.appendChild(o);const C=()=>{o.remove(),clearTimeout(A)};n.abort.push(C);let A=setTimeout(()=>{a.classList.add("q-ripple__inner--enter"),a.style.transform=`translate3d(${k},${L},0) scale3d(1,1,1)`,a.style.opacity=.2,A=setTimeout(()=>{a.classList.remove("q-ripple__inner--enter"),a.classList.add("q-ripple__inner--leave"),a.style.opacity=0,A=setTimeout(()=>{o.remove(),n.abort.splice(n.abort.indexOf(C),1)},275)},250)},50)}function V_(t,{modifiers:e,value:n,arg:i}){const r=Object.assign({},t.cfg.ripple,e,n);t.modifiers={early:r.early===!0,stop:r.stop===!0,center:r.center===!0,color:r.color||i,keyCodes:[].concat(r.keyCodes||13)}}const mp=up({name:"ripple",beforeMount(t,e){const n=e.instance.$.appContext.config.globalProperties.$q.config||{};if(n.ripple===!1)return;const i={cfg:n,enabled:e.value!==!1,modifiers:{},abort:[],start(r){i.enabled===!0&&r.qSkipRipple!==!0&&r.type===(i.modifiers.early===!0?"pointerdown":"click")&&L_(r,t,i,r.qKeyEvent===!0)},keystart:rk(r=>{i.enabled===!0&&r.qSkipRipple!==!0&&Li(r,i.modifiers.keyCodes)===!0&&r.type===`key${i.modifiers.early===!0?"down":"up"}`&&L_(r,t,i,!0)},300)};V_(i,e),t.__qripple=i,Wr(i,"main",[[t,"pointerdown","start","passive"],[t,"click","start","passive"],[t,"keydown","keystart","passive"],[t,"keyup","keystart","passive"]])},updated(t,e){if(e.oldValue!==e.value){const n=t.__qripple;n!==void 0&&(n.enabled=e.value!==!1,n.enabled===!0&&Object(e.value)===e.value&&V_(n,e))}},beforeUnmount(t){const e=t.__qripple;e!==void 0&&(e.abort.forEach(n=>{n()}),_a(e,"main"),delete t._qripple)}}),Vw={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},sk=Object.keys(Vw),Fw={align:{type:String,validator:t=>sk.includes(t)}};function qw(t){return D(()=>{const e=t.align===void 0?t.vertical===!0?"stretch":"left":t.align;return`${t.vertical===!0?"items":"justify"}-${Vw[e]}`})}function F_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}function q_(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ok(t,e){for(const n in e){const i=e[n],r=t[n];if(typeof i=="string"){if(i!==r)return!1}else if(Array.isArray(r)===!1||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function B_(t,e){return Array.isArray(e)===!0?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function ak(t,e){return Array.isArray(t)===!0?B_(t,e):Array.isArray(e)===!0?B_(e,t):t===e}function lk(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(ak(t[n],e[n])===!1)return!1;return!0}const Bw={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},uk={...Bw,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function Uw({fallbackTag:t,useDisableForRouterLinkProps:e=!0}={}){const n=Le(),{props:i,proxy:r,emit:s}=n,o=mw(n),a=D(()=>i.disable!==!0&&i.href!==void 0),l=D(e===!0?()=>o===!0&&i.disable!==!0&&a.value!==!0&&i.to!==void 0&&i.to!==null&&i.to!=="":()=>o===!0&&a.value!==!0&&i.to!==void 0&&i.to!==null&&i.to!==""),c=D(()=>l.value===!0?T(i.to):null),h=D(()=>c.value!==null),d=D(()=>a.value===!0||h.value===!0),f=D(()=>i.type==="a"||d.value===!0?"a":i.tag||t||"div"),m=D(()=>a.value===!0?{href:i.href,target:i.target}:h.value===!0?{href:c.value.href,target:i.target}:{}),_=D(()=>{if(h.value===!1)return-1;const{matched:O}=c.value,{length:B}=O,S=O[B-1];if(S===void 0)return-1;const E=r.$route.matched;if(E.length===0)return-1;const v=E.findIndex(q_.bind(null,S));if(v!==-1)return v;const b=F_(O[B-2]);return B>1&&F_(S)===b&&E[E.length-1].path!==b?E.findIndex(q_.bind(null,O[B-2])):v}),k=D(()=>h.value===!0&&_.value!==-1&&ok(r.$route.params,c.value.params)),P=D(()=>k.value===!0&&_.value===r.$route.matched.length-1&&lk(r.$route.params,c.value.params)),L=D(()=>h.value===!0?P.value===!0?` ${i.exactActiveClass} ${i.activeClass}`:i.exact===!0?"":k.value===!0?` ${i.activeClass}`:"":"");function T(O){try{return r.$router.resolve(O)}catch{}return null}function C(O,{returnRouterError:B,to:S=i.to,replace:E=i.replace}={}){if(i.disable===!0)return O.preventDefault(),Promise.resolve(!1);if(O.metaKey||O.altKey||O.ctrlKey||O.shiftKey||O.button!==void 0&&O.button!==0||i.target==="_blank")return Promise.resolve(!1);O.preventDefault();const v=r.$router[E===!0?"replace":"push"](S);return B===!0?v:v.then(()=>{}).catch(()=>{})}function A(O){if(h.value===!0){const B=S=>C(O,S);s("click",O,B),O.defaultPrevented!==!0&&B()}else s("click",O)}return{hasRouterLink:h,hasHrefLink:a,hasLink:d,linkTag:f,resolvedLink:c,linkIsActive:k,linkIsExactActive:P,linkClass:L,linkAttrs:m,getLink:T,navigateToRouterLink:C,navigateOnClick:A}}const U_={none:0,xs:4,sm:8,md:16,lg:24,xl:32},ck={xs:8,sm:10,md:14,lg:20,xl:24},hk=["button","submit","reset"],dk=/[^\s]\/[^\s]/,fk=["flat","outline","push","unelevated"];function $w(t,e){return t.flat===!0?"flat":t.outline===!0?"outline":t.push===!0?"push":t.unelevated===!0?"unelevated":e}function pk(t){const e=$w(t);return e!==void 0?{[e]:!0}:{}}const gp={...cl,...Bw,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...fk.reduce((t,e)=>(t[e]=Boolean)&&t,{}),square:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...Fw.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean},mk={...gp,round:Boolean};function gk(t){const e=hl(t,ck),n=qw(t),{hasRouterLink:i,hasLink:r,linkTag:s,linkAttrs:o,navigateOnClick:a}=Uw({fallbackTag:"button"}),l=D(()=>{const P=t.fab===!1&&t.fabMini===!1?e.value:{};return t.padding!==void 0?Object.assign({},P,{padding:t.padding.split(/\s+/).map(L=>L in U_?U_[L]+"px":L).join(" "),minWidth:"0",minHeight:"0"}):P}),c=D(()=>t.rounded===!0||t.fab===!0||t.fabMini===!0),h=D(()=>t.disable!==!0&&t.loading!==!0),d=D(()=>h.value===!0?t.tabindex||0:-1),f=D(()=>$w(t,"standard")),m=D(()=>{const P={tabindex:d.value};return r.value===!0?Object.assign(P,o.value):hk.includes(t.type)===!0&&(P.type=t.type),s.value==="a"?(t.disable===!0?P["aria-disabled"]="true":P.href===void 0&&(P.role="button"),i.value!==!0&&dk.test(t.type)===!0&&(P.type=t.type)):t.disable===!0&&(P.disabled="",P["aria-disabled"]="true"),t.loading===!0&&t.percentage!==void 0&&Object.assign(P,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t.percentage}),P}),_=D(()=>{let P;t.color!==void 0?t.flat===!0||t.outline===!0?P=`text-${t.textColor||t.color}`:P=`bg-${t.color} text-${t.textColor||"white"}`:t.textColor&&(P=`text-${t.textColor}`);const L=t.round===!0?"round":`rectangle${c.value===!0?" q-btn--rounded":t.square===!0?" q-btn--square":""}`;return`q-btn--${f.value} q-btn--${L}`+(P!==void 0?" "+P:"")+(h.value===!0?" q-btn--actionable q-focusable q-hoverable":t.disable===!0?" disabled":"")+(t.fab===!0?" q-btn--fab":t.fabMini===!0?" q-btn--fab-mini":"")+(t.noCaps===!0?" q-btn--no-uppercase":"")+(t.dense===!0?" q-btn--dense":"")+(t.stretch===!0?" no-border-radius self-stretch":"")+(t.glossy===!0?" glossy":"")+(t.square?" q-btn--square":"")}),k=D(()=>n.value+(t.stack===!0?" column":" row")+(t.noWrap===!0?" no-wrap text-no-wrap":"")+(t.loading===!0?" q-btn__content--hidden":""));return{classes:_,style:l,innerClasses:k,attributes:m,hasLink:r,linkTag:s,navigateOnClick:a,isActionable:h}}const{passiveCapture:In}=yt;let Cs=null,Ss=null,As=null;const Mt=Fe({name:"QBtn",props:{...mk,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(t,{slots:e,emit:n}){const{proxy:i}=Le(),{classes:r,style:s,innerClasses:o,attributes:a,hasLink:l,linkTag:c,navigateOnClick:h,isActionable:d}=gk(t),f=_e(null),m=_e(null);let _=null,k,P=null;const L=D(()=>t.label!==void 0&&t.label!==null&&t.label!==""),T=D(()=>t.disable===!0||t.ripple===!1?!1:{keyCodes:l.value===!0?[13,32]:[13],...t.ripple===!0?{}:t.ripple}),C=D(()=>({center:t.round})),A=D(()=>{const M=Math.max(0,Math.min(100,t.percentage));return M>0?{transition:"transform 0.6s",transform:`translateX(${M-100}%)`}:{}}),O=D(()=>{if(t.loading===!0)return{onMousedown:I,onTouchstart:I,onClick:I,onKeydown:I,onKeyup:I};if(d.value===!0){const M={onClick:S,onKeydown:E,onMousedown:b};if(i.$q.platform.has.touch===!0){const ee=t.onTouchstart!==void 0?"":"Passive";M[`onTouchstart${ee}`]=v}return M}return{onClick:Et}}),B=D(()=>({ref:f,class:"q-btn q-btn-item non-selectable no-outline "+r.value,style:s.value,...a.value,...O.value}));function S(M){if(f.value!==null){if(M!==void 0){if(M.defaultPrevented===!0)return;const ee=document.activeElement;if(t.type==="submit"&&ee!==document.body&&f.value.contains(ee)===!1&&ee.contains(f.value)===!1){M.qAvoidFocus!==!0&&f.value.focus();const se=()=>{var ie;document.removeEventListener("keydown",Et,!0),document.removeEventListener("keyup",se,In),(ie=f.value)==null||ie.removeEventListener("blur",se,In)};document.addEventListener("keydown",Et,!0),document.addEventListener("keyup",se,In),f.value.addEventListener("blur",se,In)}}h(M)}}function E(M){f.value!==null&&(n("keydown",M),Li(M,[13,32])===!0&&Ss!==f.value&&(Ss!==null&&y(),M.defaultPrevented!==!0&&(M.qAvoidFocus!==!0&&f.value.focus(),Ss=f.value,f.value.classList.add("q-btn--active"),document.addEventListener("keyup",R,!0),f.value.addEventListener("blur",R,In)),Et(M)))}function v(M){f.value!==null&&(n("touchstart",M),M.defaultPrevented!==!0&&(Cs!==f.value&&(Cs!==null&&y(),Cs=f.value,_=M.target,_.addEventListener("touchcancel",R,In),_.addEventListener("touchend",R,In)),k=!0,P!==null&&clearTimeout(P),P=setTimeout(()=>{P=null,k=!1},200)))}function b(M){f.value!==null&&(M.qSkipRipple=k===!0,n("mousedown",M),M.defaultPrevented!==!0&&As!==f.value&&(As!==null&&y(),As=f.value,f.value.classList.add("q-btn--active"),document.addEventListener("mouseup",R,In)))}function R(M){if(f.value!==null&&!((M==null?void 0:M.type)==="blur"&&document.activeElement===f.value)){if((M==null?void 0:M.type)==="keyup"){if(Ss===f.value&&Li(M,[13,32])===!0){const ee=new MouseEvent("click",M);ee.qKeyEvent=!0,M.defaultPrevented===!0&&ri(ee),M.cancelBubble===!0&&Ua(ee),f.value.dispatchEvent(ee),Et(M),M.qKeyEvent=!0}n("keyup",M)}y()}}function y(M){var se,ie;const ee=m.value;M!==!0&&(Cs===f.value||As===f.value)&&ee!==null&&ee!==document.activeElement&&(ee.setAttribute("tabindex",-1),ee.focus()),Cs===f.value&&(_!==null&&(_.removeEventListener("touchcancel",R,In),_.removeEventListener("touchend",R,In)),Cs=_=null),As===f.value&&(document.removeEventListener("mouseup",R,In),As=null),Ss===f.value&&(document.removeEventListener("keyup",R,!0),(se=f.value)==null||se.removeEventListener("blur",R,In),Ss=null),(ie=f.value)==null||ie.classList.remove("q-btn--active")}function I(M){Et(M),M.qSkipRipple=!0}return mt(()=>{y(!0)}),Object.assign(i,{click:M=>{d.value===!0&&S(M)}}),()=>{let M=[];t.icon!==void 0&&M.push(F($t,{name:t.icon,left:t.stack!==!0&&L.value===!0,role:"img"})),L.value===!0&&M.push(F("span",{class:"block"},[t.label])),M=Ai(e.default,M),t.iconRight!==void 0&&t.round===!1&&M.push(F($t,{name:t.iconRight,right:t.stack!==!0&&L.value===!0,role:"img"}));const ee=[F("span",{class:"q-focus-helper",ref:m})];return t.loading===!0&&t.percentage!==void 0&&ee.push(F("span",{class:"q-btn__progress absolute-full overflow-hidden"+(t.darkPercentage===!0?" q-btn__progress--dark":"")},[F("span",{class:"q-btn__progress-indicator fit block",style:A.value})])),ee.push(F("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+o.value},M)),t.loading!==null&&ee.push(F(ts,{name:"q-transition--fade"},()=>t.loading===!0?[F("span",{key:"loading",class:"absolute-full flex flex-center"},e.loading!==void 0?e.loading():[F(Ha)])]:null)),An(F(c.value,B.value,ee),[[mp,T.value,void 0,C.value]])}}}),Jn={dark:{type:Boolean,default:null}};function Xn(t,e){return D(()=>t.dark===null?e.dark.isActive:t.dark)}const za=Fe({name:"QCard",props:{...Jn,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=Le(),i=Xn(t,n),r=D(()=>"q-card"+(i.value===!0?" q-card--dark q-dark":"")+(t.bordered===!0?" q-card--bordered":"")+(t.square===!0?" q-card--square no-border-radius":"")+(t.flat===!0?" q-card--flat no-shadow":""));return()=>F(t.tag,{class:r.value},rt(e.default))}}),Hr=Fe({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(t,{slots:e}){const n=D(()=>`q-card__section q-card__section--${t.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>F(t.tag,{class:n.value},rt(e.default))}}),jw=Fe({name:"QCardActions",props:{...Fw,vertical:Boolean},setup(t,{slots:e}){const n=qw(t),i=D(()=>`q-card__actions ${n.value} q-card__actions--${t.vertical===!0?"vert column":"horiz row"}`);return()=>F("div",{class:i.value},rt(e.default))}}),_k={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Xh={xs:2,sm:4,md:8,lg:16,xl:24},$_=Fe({name:"QSeparator",props:{...Jn,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const e=Le(),n=Xn(t,e.proxy.$q),i=D(()=>t.vertical===!0?"vertical":"horizontal"),r=D(()=>` q-separator--${i.value}`),s=D(()=>t.inset!==!1?`${r.value}-${_k[t.inset]}`:""),o=D(()=>`q-separator${r.value}${s.value}`+(t.color!==void 0?` bg-${t.color}`:"")+(n.value===!0?" q-separator--dark":"")),a=D(()=>{const l={};if(t.size!==void 0&&(l[t.vertical===!0?"width":"height"]=t.size),t.spaced!==!1){const c=t.spaced===!0?`${Xh.md}px`:t.spaced in Xh?`${Xh[t.spaced]}px`:t.spaced,h=t.vertical===!0?["Left","Right"]:["Top","Bottom"];l[`margin${h[0]}`]=l[`margin${h[1]}`]=c}return l});return()=>F("hr",{class:o.value,style:a.value,"aria-orientation":i.value})}});let Zh,eu=0;const Ot=new Array(256);for(let t=0;t<256;t++)Ot[t]=(t+256).toString(16).substring(1);const vk=(()=>{const t=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(t!==void 0){if(t.randomBytes!==void 0)return t.randomBytes;if(t.getRandomValues!==void 0)return e=>{const n=new Uint8Array(e);return t.getRandomValues(n),n}}return e=>{const n=[];for(let i=e;i>0;i--)n.push(Math.floor(Math.random()*256));return n}})(),j_=4096;function Hd(){(Zh===void 0||eu+16>j_)&&(eu=0,Zh=vk(j_));const t=Array.prototype.slice.call(Zh,eu,eu+=16);return t[6]=t[6]&15|64,t[8]=t[8]&63|128,Ot[t[0]]+Ot[t[1]]+Ot[t[2]]+Ot[t[3]]+"-"+Ot[t[4]]+Ot[t[5]]+"-"+Ot[t[6]]+Ot[t[7]]+"-"+Ot[t[8]]+Ot[t[9]]+"-"+Ot[t[10]]+Ot[t[11]]+Ot[t[12]]+Ot[t[13]]+Ot[t[14]]+Ot[t[15]]}function yk(t){return t??null}function H_(t,e){return t??(e===!0?`f_${Hd()}`:null)}function Hw({getValue:t,required:e=!0}={}){if(mi.value===!0){const n=_e(t!==void 0?yk(t()):null);return e===!0&&n.value===null&&Nt(()=>{n.value=`f_${Hd()}`}),t!==void 0&&ke(t,i=>{n.value=H_(i,e)}),n}return t!==void 0?D(()=>H_(t(),e)):_e(`f_${Hd()}`)}const z_=/^on[A-Z]/;function Ek(){const{attrs:t,vnode:e}=Le(),n={listeners:_e({}),attributes:_e({})};function i(){const r={},s={};for(const o in t)o!=="class"&&o!=="style"&&z_.test(o)===!1&&(r[o]=t[o]);for(const o in e.props)z_.test(o)===!0&&(s[o]=e.props[o]);n.attributes.value=r,n.listeners.value=s}return Mb(i),i(),n}function bk({validate:t,resetValidation:e,requiresQForm:n}){const i=ln(hw,!1);if(i!==!1){const{props:r,proxy:s}=Le();Object.assign(s,{validate:t,resetValidation:e}),ke(()=>r.disable,o=>{o===!0?(typeof e=="function"&&e(),i.unbindComponent(s)):i.bindComponent(s)}),Nt(()=>{r.disable!==!0&&i.bindComponent(s)}),mt(()=>{r.disable!==!0&&i.unbindComponent(s)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const W_=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,K_=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,G_=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,tu=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,nu=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,ed={date:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t),time:t=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(t),fulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(t),timeOrFulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(t),email:t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),hexColor:t=>W_.test(t),hexaColor:t=>K_.test(t),hexOrHexaColor:t=>G_.test(t),rgbColor:t=>tu.test(t),rgbaColor:t=>nu.test(t),rgbOrRgbaColor:t=>tu.test(t)||nu.test(t),hexOrRgbColor:t=>W_.test(t)||tu.test(t),hexaOrRgbaColor:t=>K_.test(t)||nu.test(t),anyColor:t=>G_.test(t)||tu.test(t)||nu.test(t)},wk=[!0,!1,"ondemand"],Tk={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:t=>wk.includes(t)}};function Ik(t,e){const{props:n,proxy:i}=Le(),r=_e(!1),s=_e(null),o=_e(!1);bk({validate:k,resetValidation:_});let a=0,l;const c=D(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),h=D(()=>n.disable!==!0&&c.value===!0&&e.value===!1),d=D(()=>n.error===!0||r.value===!0),f=D(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:s.value);ke(()=>n.modelValue,()=>{o.value=!0,h.value===!0&&n.lazyRules===!1&&P()});function m(){n.lazyRules!=="ondemand"&&h.value===!0&&o.value===!0&&P()}ke(()=>n.reactiveRules,L=>{L===!0?l===void 0&&(l=ke(()=>n.rules,m,{immediate:!0,deep:!0})):l!==void 0&&(l(),l=void 0)},{immediate:!0}),ke(()=>n.lazyRules,m),ke(t,L=>{L===!0?o.value=!0:h.value===!0&&n.lazyRules!=="ondemand"&&P()});function _(){a++,e.value=!1,o.value=!1,r.value=!1,s.value=null,P.cancel()}function k(L=n.modelValue){if(n.disable===!0||c.value===!1)return!0;const T=++a,C=e.value!==!0?()=>{o.value=!0}:()=>{},A=(B,S)=>{B===!0&&C(),r.value=B,s.value=S||null,e.value=!1},O=[];for(let B=0;B<n.rules.length;B++){const S=n.rules[B];let E;if(typeof S=="function"?E=S(L,ed):typeof S=="string"&&ed[S]!==void 0&&(E=ed[S](L)),E===!1||typeof E=="string")return A(!0,E),!1;E!==!0&&E!==void 0&&O.push(E)}return O.length===0?(A(!1),!0):(e.value=!0,Promise.all(O).then(B=>{if(B===void 0||Array.isArray(B)===!1||B.length===0)return T===a&&A(!1),!0;const S=B.find(E=>E===!1||typeof E=="string");return T===a&&A(S!==void 0,S),S===void 0},B=>(T===a&&(console.error(B),A(!0)),!1)))}const P=ow(k,0);return mt(()=>{l==null||l(),P.cancel()}),Object.assign(i,{resetValidation:_,validate:k}),vo(i,"hasError",()=>d.value),{isDirtyModel:o,hasRules:c,hasError:d,errorMessage:f,validate:k,resetValidation:_}}function zd(t){return t!=null&&(""+t).length!==0}const Ck={...Jn,...Tk,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Sk={...Ck,maxlength:[Number,String]},Ak=["update:modelValue","clear","focus","blur"];function Rk({requiredForAttr:t=!0,tagProp:e,changeEvent:n=!1}={}){const{props:i,proxy:r}=Le(),s=Xn(i,r.$q),o=Hw({required:t,getValue:()=>i.for});return{requiredForAttr:t,changeEvent:n,tag:e===!0?D(()=>i.tag):{value:"label"},isDark:s,editable:D(()=>i.disable!==!0&&i.readonly!==!0),innerLoading:_e(!1),focused:_e(!1),hasPopupOpen:!1,splitAttrs:Ek(),targetUid:o,rootRef:_e(null),targetRef:_e(null),controlRef:_e(null)}}function kk(t){const{props:e,emit:n,slots:i,attrs:r,proxy:s}=Le(),{$q:o}=s;let a=null;t.hasValue===void 0&&(t.hasValue=D(()=>zd(e.modelValue))),t.emitValue===void 0&&(t.emitValue=Y=>{n("update:modelValue",Y)}),t.controlEvents===void 0&&(t.controlEvents={onFocusin:v,onFocusout:b}),Object.assign(t,{clearValue:R,onControlFocusin:v,onControlFocusout:b,focus:S}),t.computedCounter===void 0&&(t.computedCounter=D(()=>{if(e.counter!==!1){const Y=typeof e.modelValue=="string"||typeof e.modelValue=="number"?(""+e.modelValue).length:Array.isArray(e.modelValue)===!0?e.modelValue.length:0,Ee=e.maxlength!==void 0?e.maxlength:e.maxValues;return Y+(Ee!==void 0?" / "+Ee:"")}}));const{isDirtyModel:l,hasRules:c,hasError:h,errorMessage:d,resetValidation:f}=Ik(t.focused,t.innerLoading),m=t.floatingLabel!==void 0?D(()=>e.stackLabel===!0||t.focused.value===!0||t.floatingLabel.value===!0):D(()=>e.stackLabel===!0||t.focused.value===!0||t.hasValue.value===!0),_=D(()=>e.bottomSlots===!0||e.hint!==void 0||c.value===!0||e.counter===!0||e.error!==null),k=D(()=>e.filled===!0?"filled":e.outlined===!0?"outlined":e.borderless===!0?"borderless":e.standout?"standout":"standard"),P=D(()=>`q-field row no-wrap items-start q-field--${k.value}`+(t.fieldClass!==void 0?` ${t.fieldClass.value}`:"")+(e.rounded===!0?" q-field--rounded":"")+(e.square===!0?" q-field--square":"")+(m.value===!0?" q-field--float":"")+(T.value===!0?" q-field--labeled":"")+(e.dense===!0?" q-field--dense":"")+(e.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(t.isDark.value===!0?" q-field--dark":"")+(t.getControl===void 0?" q-field--auto-height":"")+(t.focused.value===!0?" q-field--focused":"")+(h.value===!0?" q-field--error":"")+(h.value===!0||t.focused.value===!0?" q-field--highlighted":"")+(e.hideBottomSpace!==!0&&_.value===!0?" q-field--with-bottom":"")+(e.disable===!0?" q-field--disabled":e.readonly===!0?" q-field--readonly":"")),L=D(()=>"q-field__control relative-position row no-wrap"+(e.bgColor!==void 0?` bg-${e.bgColor}`:"")+(h.value===!0?" text-negative":typeof e.standout=="string"&&e.standout.length!==0&&t.focused.value===!0?` ${e.standout}`:e.color!==void 0?` text-${e.color}`:"")),T=D(()=>e.labelSlot===!0||e.label!==void 0),C=D(()=>"q-field__label no-pointer-events absolute ellipsis"+(e.labelColor!==void 0&&h.value!==!0?` text-${e.labelColor}`:"")),A=D(()=>({id:t.targetUid.value,editable:t.editable.value,focused:t.focused.value,floatingLabel:m.value,modelValue:e.modelValue,emitValue:t.emitValue})),O=D(()=>{const Y={};return t.targetUid.value&&(Y.for=t.targetUid.value),e.disable===!0&&(Y["aria-disabled"]="true"),Y});function B(){var Ie;const Y=document.activeElement;let Ee=(Ie=t.targetRef)==null?void 0:Ie.value;Ee&&(Y===null||Y.id!==t.targetUid.value)&&(Ee.hasAttribute("tabindex")===!0||(Ee=Ee.querySelector("[tabindex]")),Ee!==Y&&(Ee==null||Ee.focus({preventScroll:!0})))}function S(){ul(B)}function E(){P1(B);const Y=document.activeElement;Y!==null&&t.rootRef.value.contains(Y)&&Y.blur()}function v(Y){a!==null&&(clearTimeout(a),a=null),t.editable.value===!0&&t.focused.value===!1&&(t.focused.value=!0,n("focus",Y))}function b(Y,Ee){a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,!(document.hasFocus()===!0&&(t.hasPopupOpen===!0||t.controlRef===void 0||t.controlRef.value===null||t.controlRef.value.contains(document.activeElement)!==!1))&&(t.focused.value===!0&&(t.focused.value=!1,n("blur",Y)),Ee==null||Ee())})}function R(Y){var Ee;Et(Y),o.platform.is.mobile!==!0?(((Ee=t.targetRef)==null?void 0:Ee.value)||t.rootRef.value).focus():t.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),e.type==="file"&&(t.inputRef.value.value=null),n("update:modelValue",null),t.changeEvent===!0&&n("change",null),n("clear",e.modelValue),Ft(()=>{const Ie=l.value;f(),l.value=Ie})}function y(Y){[13,32].includes(Y.keyCode)&&R(Y)}function I(){const Y=[];return i.prepend!==void 0&&Y.push(F("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ri},i.prepend())),Y.push(F("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},M())),h.value===!0&&e.noErrorIcon===!1&&Y.push(se("error",[F($t,{name:o.iconSet.field.error,color:"negative"})])),e.loading===!0||t.innerLoading.value===!0?Y.push(se("inner-loading-append",i.loading!==void 0?i.loading():[F(Ha,{color:e.color})])):e.clearable===!0&&t.hasValue.value===!0&&t.editable.value===!0&&Y.push(se("inner-clearable-append",[F($t,{class:"q-field__focusable-action",name:e.clearIcon||o.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":o.lang.label.clear,onKeyup:y,onClick:R})])),i.append!==void 0&&Y.push(F("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ri},i.append())),t.getInnerAppend!==void 0&&Y.push(se("inner-append",t.getInnerAppend())),t.getControlChild!==void 0&&Y.push(t.getControlChild()),Y}function M(){const Y=[];return e.prefix!==void 0&&e.prefix!==null&&Y.push(F("div",{class:"q-field__prefix no-pointer-events row items-center"},e.prefix)),t.getShadowControl!==void 0&&t.hasShadow.value===!0&&Y.push(t.getShadowControl()),t.getControl!==void 0?Y.push(t.getControl()):i.rawControl!==void 0?Y.push(i.rawControl()):i.control!==void 0&&Y.push(F("div",{ref:t.targetRef,class:"q-field__native row",tabindex:-1,...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0},i.control(A.value))),T.value===!0&&Y.push(F("div",{class:C.value},rt(i.label,e.label))),e.suffix!==void 0&&e.suffix!==null&&Y.push(F("div",{class:"q-field__suffix no-pointer-events row items-center"},e.suffix)),Y.concat(rt(i.default))}function ee(){let Y,Ee;h.value===!0?d.value!==null?(Y=[F("div",{role:"alert"},d.value)],Ee=`q--slot-error-${d.value}`):(Y=rt(i.error),Ee="q--slot-error"):(e.hideHint!==!0||t.focused.value===!0)&&(e.hint!==void 0?(Y=[F("div",e.hint)],Ee=`q--slot-hint-${e.hint}`):(Y=rt(i.hint),Ee="q--slot-hint"));const Ie=e.counter===!0||i.counter!==void 0;if(e.hideBottomSpace===!0&&Ie===!1&&Y===void 0)return;const Re=F("div",{key:Ee,class:"q-field__messages col"},Y);return F("div",{class:"q-field__bottom row items-start q-field__bottom--"+(e.hideBottomSpace!==!0?"animated":"stale"),onClick:ri},[e.hideBottomSpace===!0?Re:F(ts,{name:"q-transition--field-message"},()=>Re),Ie===!0?F("div",{class:"q-field__counter"},i.counter!==void 0?i.counter():t.computedCounter.value):null])}function se(Y,Ee){return Ee===null?null:F("div",{key:Y,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},Ee)}let ie=!1;return _o(()=>{ie=!0}),xc(()=>{ie===!0&&e.autofocus===!0&&s.focus()}),e.autofocus===!0&&Nt(()=>{s.focus()}),mt(()=>{a!==null&&clearTimeout(a)}),Object.assign(s,{focus:S,blur:E}),function(){const Ee=t.getControl===void 0&&i.control===void 0?{...t.splitAttrs.attributes.value,"data-autofocus":e.autofocus===!0||void 0,...O.value}:O.value;return F(t.tag.value,{ref:t.rootRef,class:[P.value,r.class],style:r.style,...Ee},[i.before!==void 0?F("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ri},i.before()):null,F("div",{class:"q-field__inner relative-position col self-stretch"},[F("div",{ref:t.controlRef,class:L.value,tabindex:-1,...t.controlEvents},I()),_.value===!0?ee():null]),i.after!==void 0?F("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ri},i.after()):null])}}const Q_={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Hu={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleLowerCase()}},zw=Object.keys(Hu);zw.forEach(t=>{Hu[t].regex=new RegExp(Hu[t].pattern)});const Pk=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+zw.join("")+"])|(.)","g"),Y_=/[.*+?^${}()|[\]\\]/g,_t="",xk={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Nk(t,e,n,i){let r,s,o,a,l,c;const h=_e(null),d=_e(m());function f(){return t.autogrow===!0||["textarea","text","search","url","tel","password"].includes(t.type)}ke(()=>t.type+t.autogrow,k),ke(()=>t.mask,v=>{if(v!==void 0)P(d.value,!0);else{const b=S(d.value);k(),t.modelValue!==b&&e("update:modelValue",b)}}),ke(()=>t.fillMask+t.reverseFillMask,()=>{h.value===!0&&P(d.value,!0)}),ke(()=>t.unmaskedValue,()=>{h.value===!0&&P(d.value)});function m(){if(k(),h.value===!0){const v=O(S(t.modelValue));return t.fillMask!==!1?E(v):v}return t.modelValue}function _(v){if(v<r.length)return r.slice(-v);let b="",R=r;const y=R.indexOf(_t);if(y!==-1){for(let I=v-R.length;I>0;I--)b+=_t;R=R.slice(0,y)+b+R.slice(y)}return R}function k(){if(h.value=t.mask!==void 0&&t.mask.length!==0&&f(),h.value===!1){a=void 0,r="",s="";return}const v=Q_[t.mask]===void 0?t.mask:Q_[t.mask],b=typeof t.fillMask=="string"&&t.fillMask.length!==0?t.fillMask.slice(0,1):"_",R=b.replace(Y_,"\\$&"),y=[],I=[],M=[];let ee=t.reverseFillMask===!0,se="",ie="";v.replace(Pk,(Re,z,we,Xe,We)=>{if(Xe!==void 0){const ce=Hu[Xe];M.push(ce),ie=ce.negate,ee===!0&&(I.push("(?:"+ie+"+)?("+ce.pattern+"+)?(?:"+ie+"+)?("+ce.pattern+"+)?"),ee=!1),I.push("(?:"+ie+"+)?("+ce.pattern+")?")}else if(we!==void 0)se="\\"+(we==="\\"?"":we),M.push(we),y.push("([^"+se+"]+)?"+se+"?");else{const ce=z!==void 0?z:We;se=ce==="\\"?"\\\\\\\\":ce.replace(Y_,"\\\\$&"),M.push(ce),y.push("([^"+se+"]+)?"+se+"?")}});const Y=new RegExp("^"+y.join("")+"("+(se===""?".":"[^"+se+"]")+"+)?"+(se===""?"":"["+se+"]*")+"$"),Ee=I.length-1,Ie=I.map((Re,z)=>z===0&&t.reverseFillMask===!0?new RegExp("^"+R+"*"+Re):z===Ee?new RegExp("^"+Re+"("+(ie===""?".":ie)+"+)?"+(t.reverseFillMask===!0?"$":R+"*")):new RegExp("^"+Re));o=M,a=Re=>{const z=Y.exec(t.reverseFillMask===!0?Re:Re.slice(0,M.length+1));z!==null&&(Re=z.slice(1).join(""));const we=[],Xe=Ie.length;for(let We=0,ce=Re;We<Xe;We++){const U=Ie[We].exec(ce);if(U===null)break;ce=ce.slice(U.shift().length),we.push(...U)}return we.length!==0?we.join(""):Re},r=M.map(Re=>typeof Re=="string"?Re:_t).join(""),s=r.split(_t).join(b)}function P(v,b,R){const y=i.value,I=y.selectionEnd,M=y.value.length-I,ee=S(v);b===!0&&k();const se=O(ee),ie=t.fillMask!==!1?E(se):se,Y=d.value!==ie;y.value!==ie&&(y.value=ie),Y===!0&&(d.value=ie),document.activeElement===y&&Ft(()=>{if(ie===s){const Ie=t.reverseFillMask===!0?s.length:0;y.setSelectionRange(Ie,Ie,"forward");return}if(R==="insertFromPaste"&&t.reverseFillMask!==!0){const Ie=y.selectionEnd;let Re=I-1;for(let z=l;z<=Re&&z<Ie;z++)r[z]!==_t&&Re++;T.right(y,Re);return}if(["deleteContentBackward","deleteContentForward"].indexOf(R)!==-1){const Ie=t.reverseFillMask===!0?I===0?ie.length>se.length?1:0:Math.max(0,ie.length-(ie===s?0:Math.min(se.length,M)+1))+1:I;y.setSelectionRange(Ie,Ie,"forward");return}if(t.reverseFillMask===!0)if(Y===!0){const Ie=Math.max(0,ie.length-(ie===s?0:Math.min(se.length,M+1)));Ie===1&&I===1?y.setSelectionRange(Ie,Ie,"forward"):T.rightReverse(y,Ie)}else{const Ie=ie.length-M;y.setSelectionRange(Ie,Ie,"backward")}else if(Y===!0){const Ie=Math.max(0,r.indexOf(_t),Math.min(se.length,I)-1);T.right(y,Ie)}else{const Ie=I-1;T.right(y,Ie)}});const Ee=t.unmaskedValue===!0?S(ie):ie;String(t.modelValue)!==Ee&&(t.modelValue!==null||Ee!=="")&&n(Ee,!0)}function L(v,b,R){const y=O(S(v.value));b=Math.max(0,r.indexOf(_t),Math.min(y.length,b)),l=b,v.setSelectionRange(b,R,"forward")}const T={left(v,b){const R=r.slice(b-1).indexOf(_t)===-1;let y=Math.max(0,b-1);for(;y>=0;y--)if(r[y]===_t){b=y,R===!0&&b++;break}if(y<0&&r[b]!==void 0&&r[b]!==_t)return T.right(v,0);b>=0&&v.setSelectionRange(b,b,"backward")},right(v,b){const R=v.value.length;let y=Math.min(R,b+1);for(;y<=R;y++)if(r[y]===_t){b=y;break}else r[y-1]===_t&&(b=y);if(y>R&&r[b-1]!==void 0&&r[b-1]!==_t)return T.left(v,R);v.setSelectionRange(b,b,"forward")},leftReverse(v,b){const R=_(v.value.length);let y=Math.max(0,b-1);for(;y>=0;y--)if(R[y-1]===_t){b=y;break}else if(R[y]===_t&&(b=y,y===0))break;if(y<0&&R[b]!==void 0&&R[b]!==_t)return T.rightReverse(v,0);b>=0&&v.setSelectionRange(b,b,"backward")},rightReverse(v,b){const R=v.value.length,y=_(R),I=y.slice(0,b+1).indexOf(_t)===-1;let M=Math.min(R,b+1);for(;M<=R;M++)if(y[M-1]===_t){b=M,b>0&&I===!0&&b--;break}if(M>R&&y[b-1]!==void 0&&y[b-1]!==_t)return T.leftReverse(v,R);v.setSelectionRange(b,b,"forward")}};function C(v){e("click",v),c=void 0}function A(v){if(e("keydown",v),cp(v)===!0||v.altKey===!0)return;const b=i.value,R=b.selectionStart,y=b.selectionEnd;if(v.shiftKey||(c=void 0),v.keyCode===37||v.keyCode===39){v.shiftKey&&c===void 0&&(c=b.selectionDirection==="forward"?R:y);const I=T[(v.keyCode===39?"right":"left")+(t.reverseFillMask===!0?"Reverse":"")];if(v.preventDefault(),I(b,c===R?y:R),v.shiftKey){const M=b.selectionStart;b.setSelectionRange(Math.min(c,M),Math.max(c,M),"forward")}}else v.keyCode===8&&t.reverseFillMask!==!0&&R===y?(T.left(b,R),b.setSelectionRange(b.selectionStart,y,"backward")):v.keyCode===46&&t.reverseFillMask===!0&&R===y&&(T.rightReverse(b,y),b.setSelectionRange(R,b.selectionEnd,"forward"))}function O(v){if(v==null||v==="")return"";if(t.reverseFillMask===!0)return B(v);const b=o;let R=0,y="";for(let I=0;I<b.length;I++){const M=v[R],ee=b[I];if(typeof ee=="string")y+=ee,M===ee&&R++;else if(M!==void 0&&ee.regex.test(M))y+=ee.transform!==void 0?ee.transform(M):M,R++;else return y}return y}function B(v){const b=o,R=r.indexOf(_t);let y=v.length-1,I="";for(let M=b.length-1;M>=0&&y!==-1;M--){const ee=b[M];let se=v[y];if(typeof ee=="string")I=ee+I,se===ee&&y--;else if(se!==void 0&&ee.regex.test(se))do I=(ee.transform!==void 0?ee.transform(se):se)+I,y--,se=v[y];while(R===M&&se!==void 0&&ee.regex.test(se));else return I}return I}function S(v){return typeof v!="string"||a===void 0?typeof v=="number"?a(""+v):v:a(v)}function E(v){return s.length-v.length<=0?v:t.reverseFillMask===!0&&v.length!==0?s.slice(0,-v.length)+v:v+s.slice(v.length)}return{innerValue:d,hasMask:h,moveCursorForPaste:L,updateMaskValue:P,onMaskedKeydown:A,onMaskedClick:C}}const _p={name:String};function Ww(t={}){return(e,n,i)=>{e[n](F("input",{class:"hidden"+(i||""),...t.value}))}}function Dk(t){return D(()=>t.name||t.for)}function Ok(t,e){function n(){const i=t.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(i)===i&&("length"in i?Array.from(i):[i]).forEach(s=>{r.items.add(s)}),{files:r.files}}catch{return{files:void 0}}}return D(()=>{if(t.type==="file")return n()})}const Mk=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Lk=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Vk=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Fk=/[a-z0-9_ -]$/i;function qk(t){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,t(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(ut.is.firefox===!0?Fk.test(n.data)===!1:Mk.test(n.data)===!0||Lk.test(n.data)===!0||Vk.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const Sn=Fe({name:"QInput",inheritAttrs:!1,props:{...Sk,...xk,..._p,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Ak,"paste","change","keydown","click","animationend"],setup(t,{emit:e,attrs:n}){const{proxy:i}=Le(),{$q:r}=i,s={};let o=NaN,a,l,c=null,h;const d=_e(null),f=Dk(t),{innerValue:m,hasMask:_,moveCursorForPaste:k,updateMaskValue:P,onMaskedKeydown:L,onMaskedClick:T}=Nk(t,e,se,d),C=Ok(t),A=D(()=>zd(m.value)),O=qk(M),B=Rk({changeEvent:!0}),S=D(()=>t.type==="textarea"||t.autogrow===!0),E=D(()=>S.value===!0||["text","search","url","tel","password"].includes(t.type)),v=D(()=>{const z={...B.splitAttrs.listeners.value,onInput:M,onPaste:I,onChange:Y,onBlur:Ee,onFocus:Ua};return z.onCompositionstart=z.onCompositionupdate=z.onCompositionend=O,_.value===!0&&(z.onKeydown=L,z.onClick=T),t.autogrow===!0&&(z.onAnimationend=ee),z}),b=D(()=>{const z={tabindex:0,"data-autofocus":t.autofocus===!0||void 0,rows:t.type==="textarea"?6:void 0,"aria-label":t.label,name:f.value,...B.splitAttrs.attributes.value,id:B.targetUid.value,maxlength:t.maxlength,disabled:t.disable===!0,readonly:t.readonly===!0};return S.value===!1&&(z.type=t.type),t.autogrow===!0&&(z.rows=1),z});ke(()=>t.type,()=>{d.value&&(d.value.value=t.modelValue)}),ke(()=>t.modelValue,z=>{if(_.value===!0){if(l===!0&&(l=!1,String(z)===o))return;P(z)}else m.value!==z&&(m.value=z,t.type==="number"&&s.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete s.value));t.autogrow===!0&&Ft(ie)}),ke(()=>t.autogrow,z=>{z===!0?Ft(ie):d.value!==null&&n.rows>0&&(d.value.style.height="auto")}),ke(()=>t.dense,()=>{t.autogrow===!0&&Ft(ie)});function R(){ul(()=>{const z=document.activeElement;d.value!==null&&d.value!==z&&(z===null||z.id!==B.targetUid.value)&&d.value.focus({preventScroll:!0})})}function y(){var z;(z=d.value)==null||z.select()}function I(z){if(_.value===!0&&t.reverseFillMask!==!0){const we=z.target;k(we,we.selectionStart,we.selectionEnd)}e("paste",z)}function M(z){if(!z||!z.target)return;if(t.type==="file"){e("update:modelValue",z.target.files);return}const we=z.target.value;if(z.target.qComposing===!0){s.value=we;return}if(_.value===!0)P(we,!1,z.inputType);else if(se(we),E.value===!0&&z.target===document.activeElement){const{selectionStart:Xe,selectionEnd:We}=z.target;Xe!==void 0&&We!==void 0&&Ft(()=>{z.target===document.activeElement&&we.indexOf(z.target.value)===0&&z.target.setSelectionRange(Xe,We)})}t.autogrow===!0&&ie()}function ee(z){e("animationend",z),ie()}function se(z,we){h=()=>{c=null,t.type!=="number"&&s.hasOwnProperty("value")===!0&&delete s.value,t.modelValue!==z&&o!==z&&(o=z,we===!0&&(l=!0),e("update:modelValue",z),Ft(()=>{o===z&&(o=NaN)})),h=void 0},t.type==="number"&&(a=!0,s.value=z),t.debounce!==void 0?(c!==null&&clearTimeout(c),s.value=z,c=setTimeout(h,t.debounce)):h()}function ie(){requestAnimationFrame(()=>{const z=d.value;if(z!==null){const we=z.parentNode.style,{scrollTop:Xe}=z,{overflowY:We,maxHeight:ce}=r.platform.is.firefox===!0?{}:window.getComputedStyle(z),U=We!==void 0&&We!=="scroll";U===!0&&(z.style.overflowY="hidden"),we.marginBottom=z.scrollHeight-1+"px",z.style.height="1px",z.style.height=z.scrollHeight+"px",U===!0&&(z.style.overflowY=parseInt(ce,10)<z.scrollHeight?"auto":"hidden"),we.marginBottom="",z.scrollTop=Xe}})}function Y(z){O(z),c!==null&&(clearTimeout(c),c=null),h==null||h(),e("change",z.target.value)}function Ee(z){z!==void 0&&Ua(z),c!==null&&(clearTimeout(c),c=null),h==null||h(),a=!1,l=!1,delete s.value,t.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=m.value!==void 0?m.value:"")})}function Ie(){return s.hasOwnProperty("value")===!0?s.value:m.value!==void 0?m.value:""}mt(()=>{Ee()}),Nt(()=>{t.autogrow===!0&&ie()}),Object.assign(B,{innerValue:m,fieldClass:D(()=>`q-${S.value===!0?"textarea":"input"}`+(t.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:D(()=>t.type!=="file"&&typeof t.shadowText=="string"&&t.shadowText.length!==0),inputRef:d,emitValue:se,hasValue:A,floatingLabel:D(()=>A.value===!0&&(t.type!=="number"||isNaN(m.value)===!1)||zd(t.displayValue)),getControl:()=>F(S.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",t.inputClass],style:t.inputStyle,...b.value,...v.value,...t.type!=="file"?{value:Ie()}:C.value}),getShadowControl:()=>F("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(S.value===!0?"":" text-no-wrap")},[F("span",{class:"invisible"},Ie()),F("span",t.shadowText)])});const Re=kk(B);return Object.assign(i,{focus:R,select:y,getNativeElement:()=>d.value}),vo(i,"nativeEl",()=>d.value),Re}});function Kw(t,e){const n=_e(null),i=D(()=>t.disable===!0?null:F("span",{ref:n,class:"no-outline",tabindex:-1}));function r(s){const o=e.value;(s==null?void 0:s.qAvoidFocus)!==!0&&((s==null?void 0:s.type.indexOf("key"))===0?document.activeElement!==o&&(o==null?void 0:o.contains(document.activeElement))===!0&&o.focus():n.value!==null&&(s===void 0||(o==null?void 0:o.contains(s.target))===!0)&&n.value.focus())}return{refocusTargetEl:i,refocusTarget:r}}const Gw={xs:30,sm:35,md:40,lg:50,xl:60},Bk=()=>F("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[F("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),F("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),Uk=Fe({name:"QRadio",props:{...Jn,...cl,..._p,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(t,{slots:e,emit:n}){const{proxy:i}=Le(),r=Xn(t,i.$q),s=hl(t,Gw),o=_e(null),{refocusTargetEl:a,refocusTarget:l}=Kw(t,o),c=D(()=>De(t.modelValue)===De(t.val)),h=D(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(t.disable===!0?" disabled":"")+(r.value===!0?" q-radio--dark":"")+(t.dense===!0?" q-radio--dense":"")+(t.leftLabel===!0?" reverse":"")),d=D(()=>{const A=t.color!==void 0&&(t.keepColor===!0||c.value===!0)?` text-${t.color}`:"";return`q-radio__inner relative-position q-radio__inner--${c.value===!0?"truthy":"falsy"}${A}`}),f=D(()=>(c.value===!0?t.checkedIcon:t.uncheckedIcon)||null),m=D(()=>t.disable===!0?-1:t.tabindex||0),_=D(()=>{const A={type:"radio"};return t.name!==void 0&&Object.assign(A,{".checked":c.value===!0,"^checked":c.value===!0?"checked":void 0,name:t.name,value:t.val}),A}),k=Ww(_);function P(A){A!==void 0&&(Et(A),l(A)),t.disable!==!0&&c.value!==!0&&n("update:modelValue",t.val,A)}function L(A){(A.keyCode===13||A.keyCode===32)&&Et(A)}function T(A){(A.keyCode===13||A.keyCode===32)&&P(A)}Object.assign(i,{set:P});const C=Bk();return()=>{const A=f.value!==null?[F("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[F($t,{class:"q-radio__icon",name:f.value})])]:[C];t.disable!==!0&&k(A,"unshift"," q-radio__native q-ma-none q-pa-none");const O=[F("div",{class:d.value,style:s.value,"aria-hidden":"true"},A)];a.value!==null&&O.push(a.value);const B=t.label!==void 0?Ai(e.default,[t.label]):rt(e.default);return B!==void 0&&O.push(F("div",{class:"q-radio__label q-anchor--skip"},B)),F("div",{ref:o,class:h.value,tabindex:m.value,role:"radio","aria-label":t.label,"aria-checked":c.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:P,onKeydown:L,onKeyup:T},O)}}}),Qw={...Jn,...cl,..._p,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Yw=["update:modelValue"];function Jw(t,e){const{props:n,slots:i,emit:r,proxy:s}=Le(),{$q:o}=s,a=Xn(n,o),l=_e(null),{refocusTargetEl:c,refocusTarget:h}=Kw(n,l),d=hl(n,Gw),f=D(()=>n.val!==void 0&&Array.isArray(n.modelValue)),m=D(()=>{const y=De(n.val);return f.value===!0?n.modelValue.findIndex(I=>De(I)===y):-1}),_=D(()=>f.value===!0?m.value!==-1:De(n.modelValue)===De(n.trueValue)),k=D(()=>f.value===!0?m.value===-1:De(n.modelValue)===De(n.falseValue)),P=D(()=>_.value===!1&&k.value===!1),L=D(()=>n.disable===!0?-1:n.tabindex||0),T=D(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(a.value===!0?` q-${t}--dark`:"")+(n.dense===!0?` q-${t}--dense`:"")+(n.leftLabel===!0?" reverse":"")),C=D(()=>{const y=_.value===!0?"truthy":k.value===!0?"falsy":"indet",I=n.color!==void 0&&(n.keepColor===!0||(t==="toggle"?_.value===!0:k.value!==!0))?` text-${n.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${y}${I}`}),A=D(()=>{const y={type:"checkbox"};return n.name!==void 0&&Object.assign(y,{".checked":_.value,"^checked":_.value===!0?"checked":void 0,name:n.name,value:f.value===!0?n.val:n.trueValue}),y}),O=Ww(A),B=D(()=>{const y={tabindex:L.value,role:t==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":P.value===!0?"mixed":_.value===!0?"true":"false"};return n.disable===!0&&(y["aria-disabled"]="true"),y});function S(y){y!==void 0&&(Et(y),h(y)),n.disable!==!0&&r("update:modelValue",E(),y)}function E(){if(f.value===!0){if(_.value===!0){const y=n.modelValue.slice();return y.splice(m.value,1),y}return n.modelValue.concat([n.val])}if(_.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(k.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function v(y){(y.keyCode===13||y.keyCode===32)&&Et(y)}function b(y){(y.keyCode===13||y.keyCode===32)&&S(y)}const R=e(_,P);return Object.assign(s,{toggle:S}),()=>{const y=R();n.disable!==!0&&O(y,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const I=[F("div",{class:C.value,style:d.value,"aria-hidden":"true"},y)];c.value!==null&&I.push(c.value);const M=n.label!==void 0?Ai(i.default,[n.label]):rt(i.default);return M!==void 0&&I.push(F("div",{class:`q-${t}__label q-anchor--skip`},M)),F("div",{ref:l,class:T.value,...B.value,onClick:S,onKeydown:v,onKeyup:b},I)}}const $k=()=>F("div",{key:"svg",class:"q-checkbox__bg absolute"},[F("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[F("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),F("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),jk=Fe({name:"QCheckbox",props:Qw,emits:Yw,setup(t){const e=$k();function n(i,r){const s=D(()=>(i.value===!0?t.checkedIcon:r.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>s.value!==null?[F("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[F($t,{class:"q-checkbox__icon",name:s.value})])]:[e]}return Jw("checkbox",n)}}),Hk=Fe({name:"QToggle",props:{...Qw,icon:String,iconColor:String},emits:Yw,setup(t){function e(n,i){const r=D(()=>(n.value===!0?t.checkedIcon:i.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),s=D(()=>n.value===!0?t.iconColor:null);return()=>[F("div",{class:"q-toggle__track"}),F("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},r.value!==void 0?[F($t,{name:r.value,color:s.value})]:void 0)]}return Jw("toggle",e)}}),Xw={radio:Uk,checkbox:jk,toggle:Hk},zk=Object.keys(Xw);function td(t,e){if(typeof t=="function")return t;const n=t!==void 0?t:e;return i=>i[n]}const Wk=Fe({name:"QOptionGroup",props:{...Jn,modelValue:{required:!0},options:{type:Array,validator:t=>t.every(Bn),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:t=>zk.includes(t)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(t,{emit:e,slots:n}){const{proxy:{$q:i}}=Le(),r=Array.isArray(t.modelValue);t.type==="radio"?r===!0&&console.error("q-option-group: model should not be array"):r===!1&&console.error("q-option-group: model should be array in your case");const s=Xn(t,i),o=D(()=>Xw[t.type]),a=D(()=>td(t.optionValue,"value")),l=D(()=>td(t.optionLabel,"label")),c=D(()=>td(t.optionDisable,"disable")),h=D(()=>t.options.map(_=>({val:a.value(_),name:_.name===void 0?t.name:_.name,disable:t.disable||c.value(_),leftLabel:_.leftLabel===void 0?t.leftLabel:_.leftLabel,color:_.color===void 0?t.color:_.color,checkedIcon:_.checkedIcon,uncheckedIcon:_.uncheckedIcon,dark:_.dark===void 0?s.value:_.dark,size:_.size===void 0?t.size:_.size,dense:t.dense,keepColor:_.keepColor===void 0?t.keepColor:_.keepColor}))),d=D(()=>"q-option-group q-gutter-x-sm"+(t.inline===!0?" q-option-group--inline":"")),f=D(()=>{const _={role:"group"};return t.type==="radio"&&(_.role="radiogroup",t.disable===!0&&(_["aria-disabled"]="true")),_});function m(_){e("update:modelValue",_)}return()=>F("div",{class:d.value,...f.value},t.options.map((_,k)=>{const P=n["label-"+k]!==void 0?()=>n["label-"+k](_):n.label!==void 0?()=>n.label(_):void 0;return F("div",[F(o.value,{label:P===void 0?l.value(_):null,modelValue:t.modelValue,"onUpdate:modelValue":m,...h.value[k]},P)])}))}}),Kk=Fe({name:"DialogPluginComponent",props:{...Jn,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:t=>["ok","cancel","none"].includes(t)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(t,{emit:e}){const{proxy:n}=Le(),{$q:i}=n,r=Xn(t,i),s=_e(null),o=_e(t.prompt!==void 0?t.prompt.model:t.options!==void 0?t.options.model:void 0),a=D(()=>"q-dialog-plugin"+(r.value===!0?" q-dialog-plugin--dark q-dark":"")+(t.progress!==!1?" q-dialog-plugin--progress":"")),l=D(()=>t.color||(r.value===!0?"amber":"primary")),c=D(()=>t.progress===!1?null:Bn(t.progress)===!0?{component:t.progress.spinner||Ha,props:{color:t.progress.color||l.value}}:{component:Ha,props:{color:l.value}}),h=D(()=>t.prompt!==void 0||t.options!==void 0),d=D(()=>{if(h.value!==!0)return{};const{model:M,isValid:ee,items:se,...ie}=t.prompt!==void 0?t.prompt:t.options;return ie}),f=D(()=>Bn(t.ok)===!0||t.ok===!0?i.lang.label.ok:t.ok),m=D(()=>Bn(t.cancel)===!0||t.cancel===!0?i.lang.label.cancel:t.cancel),_=D(()=>t.prompt!==void 0?t.prompt.isValid!==void 0&&t.prompt.isValid(o.value)!==!0:t.options!==void 0?t.options.isValid!==void 0&&t.options.isValid(o.value)!==!0:!1),k=D(()=>({color:l.value,label:f.value,ripple:!1,disable:_.value,...Bn(t.ok)===!0?t.ok:{flat:!0},"data-autofocus":t.focus==="ok"&&h.value!==!0||void 0,onClick:C})),P=D(()=>({color:l.value,label:m.value,ripple:!1,...Bn(t.cancel)===!0?t.cancel:{flat:!0},"data-autofocus":t.focus==="cancel"&&h.value!==!0||void 0,onClick:A}));ke(()=>t.prompt&&t.prompt.model,B),ke(()=>t.options&&t.options.model,B);function L(){s.value.show()}function T(){s.value.hide()}function C(){e("ok",De(o.value)),T()}function A(){T()}function O(){e("hide")}function B(M){o.value=M}function S(M){_.value!==!0&&t.prompt.type!=="textarea"&&Li(M,13)===!0&&C()}function E(M,ee){return t.html===!0?F(Hr,{class:M,innerHTML:ee}):F(Hr,{class:M},()=>ee)}function v(){return[F(Sn,{color:l.value,dense:!0,autofocus:!0,dark:r.value,...d.value,modelValue:o.value,"onUpdate:modelValue":B,onKeyup:S})]}function b(){return[F(Wk,{color:l.value,options:t.options.items,dark:r.value,...d.value,modelValue:o.value,"onUpdate:modelValue":B})]}function R(){const M=[];return t.cancel&&M.push(F(Mt,P.value)),t.ok&&M.push(F(Mt,k.value)),F(jw,{class:t.stackButtons===!0?"items-end":"",vertical:t.stackButtons,align:"right"},()=>M)}function y(){const M=[];return t.title&&M.push(E("q-dialog__title",t.title)),t.progress!==!1&&M.push(F(Hr,{class:"q-dialog__progress"},()=>F(c.value.component,c.value.props))),t.message&&M.push(E("q-dialog__message",t.message)),t.prompt!==void 0?M.push(F(Hr,{class:"scroll q-dialog-plugin__form"},v)):t.options!==void 0&&M.push(F($_,{dark:r.value}),F(Hr,{class:"scroll q-dialog-plugin__form"},b),F($_,{dark:r.value})),(t.ok||t.cancel)&&M.push(R()),M}function I(){return[F(za,{class:[a.value,t.cardClass],style:t.cardStyle,dark:r.value},y)]}return Object.assign(n,{show:L,hide:T}),()=>F(Dw,{ref:s,onHide:O},I)}});function Zw(t,e){for(const n in e)n!=="spinner"&&Object(e[n])===e[n]?(t[n]=Object(t[n])!==t[n]?{}:{...t[n]},Zw(t[n],e[n])):t[n]=e[n]}function Gk(t,e,n){return i=>{let r,s;const o=i.component!==void 0;if(o===!0){const{component:T,componentProps:C}=i;r=typeof T=="string"?n.component(T):T,s=C||{}}else{const{class:T,style:C,...A}=i;r=t,s=A,T!==void 0&&(A.cardClass=T),C!==void 0&&(A.cardStyle=C)}let a,l=!1;const c=_e(null),h=Fc(!1,"dialog"),d=T=>{var A;if(((A=c.value)==null?void 0:A[T])!==void 0){c.value[T]();return}const C=a.$.subTree;if(C!=null&&C.component){if(C.component.proxy&&C.component.proxy[T]){C.component.proxy[T]();return}if(C.component.subTree&&C.component.subTree.component&&C.component.subTree.component.proxy&&C.component.subTree.component.proxy[T]){C.component.subTree.component.proxy[T]();return}}console.error("[Quasar] Incorrectly defined Dialog component")},f=[],m=[],_={onOk(T){return f.push(T),_},onCancel(T){return m.push(T),_},onDismiss(T){return f.push(T),m.push(T),_},hide(){return d("hide"),_},update(T){if(a!==null){if(o===!0)Object.assign(s,T);else{const{class:C,style:A,...O}=T;C!==void 0&&(O.cardClass=C),A!==void 0&&(O.cardStyle=A),Zw(s,O)}a.$forceUpdate()}return _}},k=T=>{l=!0,f.forEach(C=>{C(T)})},P=()=>{L.unmount(h),pp(h),L=null,a=null,l!==!0&&m.forEach(T=>{T()})};let L=hp({name:"QGlobalDialog",setup:()=>()=>F(r,{...s,ref:c,onOk:k,onHide:P,onVnodeMounted(...T){typeof s.onVnodeMounted=="function"&&s.onVnodeMounted(...T),Ft(()=>d("show"))}})},n);return a=L.mount(h),_}}const Qk={install({$q:t,parentApp:e}){t.dialog=this.create=Gk(Kk,!0,e)}};let Rs,nd,J_=0,Br=null,At={},Gr={};const eT={group:"__default_quasar_group__",delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:Ha,customClass:""},tT={...eT};function Yk(t){if((t==null?void 0:t.group)!==void 0&&Gr[t.group]!==void 0)return Object.assign(Gr[t.group],t);const e=Bn(t)===!0&&t.ignoreDefaults===!0?{...eT,...t}:{...tT,...t};return Gr[e.group]=e,e}const Fn=yo({isActive:!1},{show(t){At=Yk(t);const{group:e}=At;return Fn.isActive=!0,Rs!==void 0?(At.uid=J_,nd.$forceUpdate()):(At.uid=++J_,Br!==null&&clearTimeout(Br),Br=setTimeout(()=>{Br=null;const n=Fc("q-loading");Rs=hp({name:"QLoading",setup(){Nt(()=>{Ud(!0)});function i(){Fn.isActive!==!0&&Rs!==void 0&&(Ud(!1),Rs.unmount(n),pp(n),Rs=void 0,nd=void 0)}function r(){if(Fn.isActive!==!0)return null;const s=[F(At.spinner,{class:"q-loading__spinner",color:At.spinnerColor,size:At.spinnerSize})];return At.message&&s.push(F("div",{class:"q-loading__message"+(At.messageColor?` text-${At.messageColor}`:""),[At.html===!0?"innerHTML":"textContent"]:At.message})),F("div",{class:"q-loading fullscreen flex flex-center z-max "+At.customClass.trim(),key:At.uid},[F("div",{class:"q-loading__backdrop"+(At.backgroundColor?` bg-${At.backgroundColor}`:"")}),F("div",{class:"q-loading__box column items-center "+At.boxClass},s)])}return()=>F(ts,{name:"q-transition--fade",appear:!0,onAfterLeave:i},r)}},Fn.__parentApp),nd=Rs.mount(n)},At.delay)),n=>{if(n===void 0||Object(n)!==n){Fn.hide(e);return}Fn.show({...n,group:e})}},hide(t){if(Fn.isActive===!0){if(t===void 0)Gr={};else{if(Gr[t]===void 0)return;{delete Gr[t];const e=Object.keys(Gr);if(e.length!==0){const n=e[e.length-1];Fn.show({group:n});return}}}Br!==null&&(clearTimeout(Br),Br=null),Fn.isActive=!1}},setDefaults(t){Bn(t)===!0&&Object.assign(tT,t)},install({$q:t,parentApp:e}){t.loading=this,Fn.__parentApp=e,t.config.loading!==void 0&&this.setDefaults(t.config.loading)}});function Jk(t,e,n){return n<=e?e:Math.min(n,Math.max(e,t))}const vp=XMLHttpRequest,nT=vp.prototype.open,Xk=["top","right","bottom","left"];let zu=[],ya=0;function Zk({p:t,pos:e,active:n,horiz:i,reverse:r,dir:s}){let o=1,a=1;return i===!0?(r===!0&&(o=-1),e==="bottom"&&(a=-1),{transform:`translate3d(${o*(t-100)}%,${n?0:a*-200}%,0)`}):(r===!0&&(a=-1),e==="right"&&(o=-1),{transform:`translate3d(${n?0:s*o*-200}%,${a*(t-100)}%,0)`})}function eP(t,e){return typeof e!="number"&&(t<25?e=Math.random()*3+3:t<65?e=Math.random()*3:t<85?e=Math.random()*2:t<99?e=.6:e=0),Jk(t+e,0,100)}function tP(t){ya++,zu.push(t),!(ya>1)&&(vp.prototype.open=function(e,n){const i=[],r=()=>{zu.forEach(o=>{(o.hijackFilter.value===null||o.hijackFilter.value(n)===!0)&&(o.start(),i.push(o.stop))})},s=()=>{i.forEach(o=>{o()})};this.addEventListener("loadstart",r,{once:!0}),this.addEventListener("loadend",s,{once:!0}),nT.apply(this,arguments)})}function nP(t){zu=zu.filter(e=>e.start!==t),ya=Math.max(0,ya-1),ya===0&&(vp.prototype.open=nT)}const iP=Fe({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:t=>Xk.includes(t)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(t,{emit:e}){const{proxy:n}=Le(),i=_e(0),r=_e(!1),s=_e(!0);let o=0,a=null,l;const c=D(()=>`q-loading-bar q-loading-bar--${t.position}`+(t.color!==void 0?` bg-${t.color}`:"")+(s.value===!0?"":" no-transition")),h=D(()=>t.position==="top"||t.position==="bottom"),d=D(()=>h.value===!0?"height":"width"),f=D(()=>{const C=r.value,A=Zk({p:i.value,pos:t.position,active:C,horiz:h.value,reverse:n.$q.lang.rtl===!0&&["top","bottom"].includes(t.position)?t.reverse===!1:t.reverse,dir:n.$q.lang.rtl===!0?-1:1});return A[d.value]=t.size,A.opacity=C?1:0,A}),m=D(()=>r.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":i.value}:{"aria-hidden":"true"});function _(C=300){const A=l;return l=Math.max(0,C)||0,o++,o>1?(A===0&&C>0?L():a!==null&&A>0&&C<=0&&(clearTimeout(a),a=null),o):(a!==null&&clearTimeout(a),e("start"),i.value=0,a=setTimeout(()=>{a=null,s.value=!0,C>0&&L()},r._value===!0?500:1),r._value!==!0&&(r.value=!0,s.value=!1),o)}function k(C){return o>0&&(i.value=eP(i.value,C)),o}function P(){if(o=Math.max(0,o-1),o>0)return o;a!==null&&(clearTimeout(a),a=null),e("stop");const C=()=>{s.value=!0,i.value=100,a=setTimeout(()=>{a=null,r.value=!1},1e3)};return i.value===0?a=setTimeout(C,1):C(),o}function L(){i.value<100&&(a=setTimeout(()=>{a=null,k(),L()},l))}let T;return Nt(()=>{t.skipHijack!==!0&&(T=!0,tP({start:_,stop:P,hijackFilter:D(()=>t.hijackFilter||null)}))}),mt(()=>{a!==null&&clearTimeout(a),T===!0&&nP(_)}),Object.assign(n,{start:_,stop:P,increment:k}),()=>F("div",{class:c.value,style:f.value,...m.value})}}),iu=_e(null),Wd=yo({isActive:!1},{start:kn,stop:kn,increment:kn,setDefaults:kn,install({$q:t,parentApp:e}){if(t.loadingBar=this,this.__installed===!0){t.config.loadingBar!==void 0&&this.setDefaults(t.config.loadingBar);return}const n=_e(t.config.loadingBar!==void 0?{...t.config.loadingBar}:{});function i(){Wd.isActive=!0}function r(){Wd.isActive=!1}const s=Fc("q-loading-bar");hp({name:"LoadingBar",devtools:{hide:!0},setup:()=>()=>F(iP,{...n.value,onStart:i,onStop:r,ref:iu})},e).mount(s),Object.assign(this,{start(o){iu.value.start(o)},stop(){iu.value.stop()},increment(){iu.value.increment.apply(null,arguments)},setDefaults(o){Bn(o)===!0&&Object.assign(n.value,o)}})}}),rP={isoName:"pt-BR",nativeName:"Portugus (BR)",label:{clear:"Limpar",ok:"OK",cancel:"Cancelar",close:"Fechar",set:"Escolher",select:"Selecionar",reset:"Redefinir",remove:"Remover",update:"Atualizar",create:"Criar",search:"Buscar",filter:"Filtrar",refresh:"Recarregar",expand:t=>t?`Expandir "${t}"`:"Expandir",collapse:t=>t?`Recolher "${t}"`:"Colapso"},date:{days:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),daysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),firstDayOfWeek:0,format24h:!0,pluralDay:"dias",prevMonth:"Ms passado",nextMonth:"Ms que vem",prevYear:"Ano passado",nextYear:"Ano que vem",today:"Hoje",prevRangeYears:t=>`Anterior ${t}  Anos`,nextRangeYears:t=>`Prximo ${t} Anos`},table:{noData:"Sem dados disponveis",noResults:"Nenhum dado correspondente encontrado",loading:"Carregando...",selectedRecords:t=>t>0?t+" registro"+(t===1?" selecionado":"s selecionados")+".":"Nenhum registro selecionado.",recordsPerPage:"Registros por pgina:",allRows:"Todos",pagination:(t,e,n)=>t+"-"+e+" de "+n,columns:"Colunas"},pagination:{first:"Primeira pgina",prev:"Pgina anterior",next:"Prxima pgina",last:"ltima pgina"},editor:{url:"URL",bold:"Negrito",italic:"Itlico",strikethrough:"Riscado",underline:"Sublinhado",unorderedList:"Lista no-ordenada",orderedList:"Lista ordenada",subscript:"Subscrito",superscript:"Sobrescrito",hyperlink:"Hyperlink",toggleFullscreen:"Tela cheia",quote:"Citao",left:"Alinhado  esquerda",center:"Alinhado ao centro",right:"Alinhado  direita",justify:"Justificado",print:"Imprimir",outdent:"Diminuir indentao",indent:"Aumentar indentao",removeFormat:"Remover formatao",formatting:"Formatao",fontSize:"Tamanho de fonte",align:"Alinhar",hr:"Inserir divisria horizontal",undo:"Desfazer",redo:"Refazer",heading1:"Cabealho 1",heading2:"Cabealho 2",heading3:"Cabealho 3",heading4:"Cabealho 4",heading5:"Cabealho 5",heading6:"Cabealho 6",paragraph:"Pargrafo",code:"Cdigo",size1:"Muito pequeno",size2:"Pequeno",size3:"Normal",size4:"Mdio",size5:"Grande",size6:"Enorme",size7:"Mximo",defaultFont:"Fonte padro",viewSource:"Exibir fonte"},tree:{noNodes:"Sem ns disponveis",noResults:"Nenhum n correspondente encontrado"}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const xs=typeof document<"u";function iT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function sP(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&iT(t.default)}const Ke=Object.assign;function id(t,e){const n={};for(const i in e){const r=e[i];n[i]=Gn(r)?r.map(t):t(r)}return n}const Ea=()=>{},Gn=Array.isArray,rT=/#/g,oP=/&/g,aP=/\//g,lP=/=/g,uP=/\?/g,sT=/\+/g,cP=/%5B/g,hP=/%5D/g,oT=/%5E/g,dP=/%60/g,aT=/%7B/g,fP=/%7C/g,lT=/%7D/g,pP=/%20/g;function yp(t){return encodeURI(""+t).replace(fP,"|").replace(cP,"[").replace(hP,"]")}function mP(t){return yp(t).replace(aT,"{").replace(lT,"}").replace(oT,"^")}function Kd(t){return yp(t).replace(sT,"%2B").replace(pP,"+").replace(rT,"%23").replace(oP,"%26").replace(dP,"`").replace(aT,"{").replace(lT,"}").replace(oT,"^")}function gP(t){return Kd(t).replace(lP,"%3D")}function _P(t){return yp(t).replace(rT,"%23").replace(uP,"%3F")}function vP(t){return t==null?"":_P(t).replace(aP,"%2F")}function Wa(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const yP=/\/$/,EP=t=>t.replace(yP,"");function rd(t,e,n="/"){let i,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=t(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=IP(i??e,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:Wa(o)}}function bP(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function X_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function wP(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&no(e.matched[i],n.matched[r])&&uT(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function no(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function uT(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!TP(t[n],e[n]))return!1;return!0}function TP(t,e){return Gn(t)?Z_(t,e):Gn(e)?Z_(e,t):t===e}function Z_(t,e){return Gn(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function IP(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const Yi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ka;(function(t){t.pop="pop",t.push="push"})(Ka||(Ka={}));var ba;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ba||(ba={}));function CP(t){if(!t)if(xs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),EP(t)}const SP=/^[^#]+#/;function AP(t,e){return t.replace(SP,"#")+e}function RP(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const qc=()=>({left:window.scrollX,top:window.scrollY});function kP(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=RP(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ev(t,e){return(history.state?history.state.position-e:-1)+t}const Gd=new Map;function PP(t,e){Gd.set(t,e)}function xP(t){const e=Gd.get(t);return Gd.delete(t),e}let NP=()=>location.protocol+"//"+location.host;function cT(t,e){const{pathname:n,search:i,hash:r}=e,s=t.indexOf("#");if(s>-1){let a=r.includes(t.slice(s))?t.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),X_(l,"")}return X_(n,t)+i+r}function DP(t,e,n,i){let r=[],s=[],o=null;const a=({state:f})=>{const m=cT(t,location),_=n.value,k=e.value;let P=0;if(f){if(n.value=m,e.value=f,o&&o===_){o=null;return}P=k?f.position-k.position:0}else i(m);r.forEach(L=>{L(n.value,_,{delta:P,type:Ka.pop,direction:P?P>0?ba.forward:ba.back:ba.unknown})})};function l(){o=n.value}function c(f){r.push(f);const m=()=>{const _=r.indexOf(f);_>-1&&r.splice(_,1)};return s.push(m),m}function h(){const{history:f}=window;f.state&&f.replaceState(Ke({},f.state,{scroll:qc()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function tv(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?qc():null}}function OP(t){const{history:e,location:n}=window,i={value:cT(t,n)},r={value:e.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,h){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:NP()+t+l;try{e[h?"replaceState":"pushState"](c,"",f),r.value=c}catch(m){console.error(m),n[h?"replace":"assign"](f)}}function o(l,c){const h=Ke({},e.state,tv(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,h,!0),i.value=l}function a(l,c){const h=Ke({},r.value,e.state,{forward:l,scroll:qc()});s(h.current,h,!0);const d=Ke({},tv(i.value,l,null),{position:h.position+1},c);s(l,d,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function MP(t){t=CP(t);const e=OP(t),n=DP(t,e.state,e.location,e.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=Ke({location:"",base:t,go:i,createHref:AP.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function LP(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),MP(t)}function VP(t){return typeof t=="string"||t&&typeof t=="object"}function hT(t){return typeof t=="string"||typeof t=="symbol"}const dT=Symbol("");var nv;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(nv||(nv={}));function io(t,e){return Ke(new Error,{type:t,[dT]:!0},e)}function Ti(t,e){return t instanceof Error&&dT in t&&(e==null||!!(t.type&e))}const iv="[^/]+?",FP={sensitive:!1,strict:!1,start:!0,end:!0},qP=/[.+*?^${}()[\]/\\]/g;function BP(t,e){const n=Ke({},FP,e),i=[];let r=n.start?"^":"";const s=[];for(const c of t){const h=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let m=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(qP,"\\$&"),m+=40;else if(f.type===1){const{value:_,repeatable:k,optional:P,regexp:L}=f;s.push({name:_,repeatable:k,optional:P});const T=L||iv;if(T!==iv){m+=10;try{new RegExp(`(${T})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${_}" (${T}): `+A.message)}}let C=k?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;d||(C=P&&c.length<2?`(?:/${C})`:"/"+C),P&&(C+="?"),r+=C,m+=20,P&&(m+=-8),k&&(m+=-20),T===".*"&&(m+=-50)}h.push(m)}i.push(h)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const h=c.match(o),d={};if(!h)return null;for(let f=1;f<h.length;f++){const m=h[f]||"",_=s[f-1];d[_.name]=m&&_.repeatable?m.split("/"):m}return d}function l(c){let h="",d=!1;for(const f of t){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const m of f)if(m.type===0)h+=m.value;else if(m.type===1){const{value:_,repeatable:k,optional:P}=m,L=_ in c?c[_]:"";if(Gn(L)&&!k)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const T=Gn(L)?L.join("/"):L;if(!T)if(P)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);h+=T}}return h||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function UP(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function fT(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const s=UP(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(rv(i))return 1;if(rv(r))return-1}return r.length-i.length}function rv(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const $P={type:0,value:""},jP=/[a-zA-Z0-9_]/;function HP(t){if(!t)return[[]];if(t==="/")return[[$P]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,c="",h="";function d(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:jP.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function zP(t,e,n){const i=BP(HP(t.path),n),r=Ke(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function WP(t,e){const n=[],i=new Map;e=lv({strict:!1,end:!0,sensitive:!1},e);function r(d){return i.get(d)}function s(d,f,m){const _=!m,k=ov(d);k.aliasOf=m&&m.record;const P=lv(e,d),L=[k];if("alias"in d){const A=typeof d.alias=="string"?[d.alias]:d.alias;for(const O of A)L.push(ov(Ke({},k,{components:m?m.record.components:k.components,path:O,aliasOf:m?m.record:k})))}let T,C;for(const A of L){const{path:O}=A;if(f&&O[0]!=="/"){const B=f.record.path,S=B[B.length-1]==="/"?"":"/";A.path=f.record.path+(O&&S+O)}if(T=zP(A,f,P),m?m.alias.push(T):(C=C||T,C!==T&&C.alias.push(T),_&&d.name&&!av(T)&&o(d.name)),pT(T)&&l(T),k.children){const B=k.children;for(let S=0;S<B.length;S++)s(B[S],T,m&&m.children[S])}m=m||T}return C?()=>{o(C)}:Ea}function o(d){if(hT(d)){const f=i.get(d);f&&(i.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=QP(d,n);n.splice(f,0,d),d.record.name&&!av(d)&&i.set(d.record.name,d)}function c(d,f){let m,_={},k,P;if("name"in d&&d.name){if(m=i.get(d.name),!m)throw io(1,{location:d});P=m.record.name,_=Ke(sv(f.params,m.keys.filter(C=>!C.optional).concat(m.parent?m.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),d.params&&sv(d.params,m.keys.map(C=>C.name))),k=m.stringify(_)}else if(d.path!=null)k=d.path,m=n.find(C=>C.re.test(k)),m&&(_=m.parse(k),P=m.record.name);else{if(m=f.name?i.get(f.name):n.find(C=>C.re.test(f.path)),!m)throw io(1,{location:d,currentLocation:f});P=m.record.name,_=Ke({},f.params,d.params),k=m.stringify(_)}const L=[];let T=m;for(;T;)L.unshift(T.record),T=T.parent;return{name:P,path:k,params:_,matched:L,meta:GP(L)}}t.forEach(d=>s(d));function h(){n.length=0,i.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:r}}function sv(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function ov(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:KP(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function KP(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function av(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function GP(t){return t.reduce((e,n)=>Ke(e,n.meta),{})}function lv(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function QP(t,e){let n=0,i=e.length;for(;n!==i;){const s=n+i>>1;fT(t,e[s])<0?i=s:n=s+1}const r=YP(t);return r&&(i=e.lastIndexOf(r,i-1)),i}function YP(t){let e=t;for(;e=e.parent;)if(pT(e)&&fT(t,e)===0)return e}function pT({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function JP(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(sT," "),o=s.indexOf("="),a=Wa(o<0?s:s.slice(0,o)),l=o<0?null:Wa(s.slice(o+1));if(a in e){let c=e[a];Gn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function uv(t){let e="";for(let n in t){const i=t[n];if(n=gP(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Gn(i)?i.map(s=>s&&Kd(s)):[i&&Kd(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function XP(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Gn(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const ZP=Symbol(""),cv=Symbol(""),Ep=Symbol(""),mT=Symbol(""),Qd=Symbol("");function Go(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function nr(t,e,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(io(4,{from:n,to:e})):f instanceof Error?l(f):VP(f)?l(io(2,{from:e,to:f})):(o&&i.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},h=s(()=>t.call(i&&i.instances[r],e,n,c));let d=Promise.resolve(h);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function sd(t,e,n,i,r=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(iT(l)){const h=(l.__vccOpts||l)[e];h&&s.push(nr(h,n,i,o,a,r))}else{let c=l();s.push(()=>c.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=sP(h)?h.default:h;o.mods[a]=h,o.components[a]=d;const m=(d.__vccOpts||d)[e];return m&&nr(m,n,i,o,a,r)()}))}}return s}function hv(t){const e=ln(Ep),n=ln(mT),i=D(()=>{const l=hr(t.to);return e.resolve(l)}),r=D(()=>{const{matched:l}=i.value,{length:c}=l,h=l[c-1],d=n.matched;if(!h||!d.length)return-1;const f=d.findIndex(no.bind(null,h));if(f>-1)return f;const m=dv(l[c-2]);return c>1&&dv(h)===m&&d[d.length-1].path!==m?d.findIndex(no.bind(null,l[c-2])):f}),s=D(()=>r.value>-1&&rx(n.params,i.value.params)),o=D(()=>r.value>-1&&r.value===n.matched.length-1&&uT(n.params,i.value.params));function a(l={}){if(ix(l)){const c=e[hr(t.replace)?"replace":"push"](hr(t.to)).catch(Ea);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:i,href:D(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}function ex(t){return t.length===1?t[0]:t}const tx=np({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:hv,setup(t,{slots:e}){const n=si(hv(t)),{options:i}=ln(Ep),r=D(()=>({[fv(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[fv(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&ex(e.default(n));return t.custom?s:F("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),nx=tx;function ix(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function rx(t,e){for(const n in e){const i=e[n],r=t[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Gn(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function dv(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const fv=(t,e,n)=>t??e??n,sx=np({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=ln(Qd),r=D(()=>t.route||i.value),s=ln(cv,0),o=D(()=>{let c=hr(s);const{matched:h}=r.value;let d;for(;(d=h[c])&&!d.components;)c++;return c}),a=D(()=>r.value.matched[o.value]);dr(cv,D(()=>o.value+1)),dr(ZP,a),dr(Qd,r);const l=_e();return ke(()=>[l.value,a.value,t.name],([c,h,d],[f,m,_])=>{h&&(h.instances[d]=c,m&&m!==h&&c&&c===f&&(h.leaveGuards.size||(h.leaveGuards=m.leaveGuards),h.updateGuards.size||(h.updateGuards=m.updateGuards))),c&&h&&(!m||!no(h,m)||!f)&&(h.enterCallbacks[d]||[]).forEach(k=>k(c))},{flush:"post"}),()=>{const c=r.value,h=t.name,d=a.value,f=d&&d.components[h];if(!f)return pv(n.default,{Component:f,route:c});const m=d.props[h],_=m?m===!0?c.params:typeof m=="function"?m(c):m:null,P=F(f,Ke({},_,e,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return pv(n.default,{Component:P,route:c})||P}}});function pv(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const gT=sx;function ox(t){const e=WP(t.routes,t),n=t.parseQuery||JP,i=t.stringifyQuery||uv,r=t.history,s=Go(),o=Go(),a=Go(),l=gA(Yi);let c=Yi;xs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=id.bind(null,U=>""+U),d=id.bind(null,vP),f=id.bind(null,Wa);function m(U,ue){let K,fe;return hT(U)?(K=e.getRecordMatcher(U),fe=ue):fe=U,e.addRoute(fe,K)}function _(U){const ue=e.getRecordMatcher(U);ue&&e.removeRoute(ue)}function k(){return e.getRoutes().map(U=>U.record)}function P(U){return!!e.getRecordMatcher(U)}function L(U,ue){if(ue=Ke({},ue||l.value),typeof U=="string"){const V=rd(n,U,ue.path),W=e.resolve({path:V.path},ue),J=r.createHref(V.fullPath);return Ke(V,W,{params:f(W.params),hash:Wa(V.hash),redirectedFrom:void 0,href:J})}let K;if(U.path!=null)K=Ke({},U,{path:rd(n,U.path,ue.path).path});else{const V=Ke({},U.params);for(const W in V)V[W]==null&&delete V[W];K=Ke({},U,{params:d(V)}),ue.params=d(ue.params)}const fe=e.resolve(K,ue),Oe=U.hash||"";fe.params=h(f(fe.params));const x=bP(i,Ke({},U,{hash:mP(Oe),path:fe.path})),N=r.createHref(x);return Ke({fullPath:x,hash:Oe,query:i===uv?XP(U.query):U.query||{}},fe,{redirectedFrom:void 0,href:N})}function T(U){return typeof U=="string"?rd(n,U,l.value.path):Ke({},U)}function C(U,ue){if(c!==U)return io(8,{from:ue,to:U})}function A(U){return S(U)}function O(U){return A(Ke(T(U),{replace:!0}))}function B(U){const ue=U.matched[U.matched.length-1];if(ue&&ue.redirect){const{redirect:K}=ue;let fe=typeof K=="function"?K(U):K;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=T(fe):{path:fe},fe.params={}),Ke({query:U.query,hash:U.hash,params:fe.path!=null?{}:U.params},fe)}}function S(U,ue){const K=c=L(U),fe=l.value,Oe=U.state,x=U.force,N=U.replace===!0,V=B(K);if(V)return S(Ke(T(V),{state:typeof V=="object"?Ke({},Oe,V.state):Oe,force:x,replace:N}),ue||K);const W=K;W.redirectedFrom=ue;let J;return!x&&wP(i,fe,K)&&(J=io(16,{to:W,from:fe}),Re(fe,fe,!0,!1)),(J?Promise.resolve(J):b(W,fe)).catch(G=>Ti(G)?Ti(G,2)?G:Ie(G):Y(G,W,fe)).then(G=>{if(G){if(Ti(G,2))return S(Ke({replace:N},T(G.to),{state:typeof G.to=="object"?Ke({},Oe,G.to.state):Oe,force:x}),ue||W)}else G=y(W,fe,!0,N,Oe);return R(W,fe,G),G})}function E(U,ue){const K=C(U,ue);return K?Promise.reject(K):Promise.resolve()}function v(U){const ue=Xe.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(U):U()}function b(U,ue){let K;const[fe,Oe,x]=ax(U,ue);K=sd(fe.reverse(),"beforeRouteLeave",U,ue);for(const V of fe)V.leaveGuards.forEach(W=>{K.push(nr(W,U,ue))});const N=E.bind(null,U,ue);return K.push(N),ce(K).then(()=>{K=[];for(const V of s.list())K.push(nr(V,U,ue));return K.push(N),ce(K)}).then(()=>{K=sd(Oe,"beforeRouteUpdate",U,ue);for(const V of Oe)V.updateGuards.forEach(W=>{K.push(nr(W,U,ue))});return K.push(N),ce(K)}).then(()=>{K=[];for(const V of x)if(V.beforeEnter)if(Gn(V.beforeEnter))for(const W of V.beforeEnter)K.push(nr(W,U,ue));else K.push(nr(V.beforeEnter,U,ue));return K.push(N),ce(K)}).then(()=>(U.matched.forEach(V=>V.enterCallbacks={}),K=sd(x,"beforeRouteEnter",U,ue,v),K.push(N),ce(K))).then(()=>{K=[];for(const V of o.list())K.push(nr(V,U,ue));return K.push(N),ce(K)}).catch(V=>Ti(V,8)?V:Promise.reject(V))}function R(U,ue,K){a.list().forEach(fe=>v(()=>fe(U,ue,K)))}function y(U,ue,K,fe,Oe){const x=C(U,ue);if(x)return x;const N=ue===Yi,V=xs?history.state:{};K&&(fe||N?r.replace(U.fullPath,Ke({scroll:N&&V&&V.scroll},Oe)):r.push(U.fullPath,Oe)),l.value=U,Re(U,ue,K,N),Ie()}let I;function M(){I||(I=r.listen((U,ue,K)=>{if(!We.listening)return;const fe=L(U),Oe=B(fe);if(Oe){S(Ke(Oe,{replace:!0,force:!0}),fe).catch(Ea);return}c=fe;const x=l.value;xs&&PP(ev(x.fullPath,K.delta),qc()),b(fe,x).catch(N=>Ti(N,12)?N:Ti(N,2)?(S(Ke(T(N.to),{force:!0}),fe).then(V=>{Ti(V,20)&&!K.delta&&K.type===Ka.pop&&r.go(-1,!1)}).catch(Ea),Promise.reject()):(K.delta&&r.go(-K.delta,!1),Y(N,fe,x))).then(N=>{N=N||y(fe,x,!1),N&&(K.delta&&!Ti(N,8)?r.go(-K.delta,!1):K.type===Ka.pop&&Ti(N,20)&&r.go(-1,!1)),R(fe,x,N)}).catch(Ea)}))}let ee=Go(),se=Go(),ie;function Y(U,ue,K){Ie(U);const fe=se.list();return fe.length?fe.forEach(Oe=>Oe(U,ue,K)):console.error(U),Promise.reject(U)}function Ee(){return ie&&l.value!==Yi?Promise.resolve():new Promise((U,ue)=>{ee.add([U,ue])})}function Ie(U){return ie||(ie=!U,M(),ee.list().forEach(([ue,K])=>U?K(U):ue()),ee.reset()),U}function Re(U,ue,K,fe){const{scrollBehavior:Oe}=t;if(!xs||!Oe)return Promise.resolve();const x=!K&&xP(ev(U.fullPath,0))||(fe||!K)&&history.state&&history.state.scroll||null;return Ft().then(()=>Oe(U,ue,x)).then(N=>N&&kP(N)).catch(N=>Y(N,U,ue))}const z=U=>r.go(U);let we;const Xe=new Set,We={currentRoute:l,listening:!0,addRoute:m,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:P,getRoutes:k,resolve:L,options:t,push:A,replace:O,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:se.add,isReady:Ee,install(U){const ue=this;U.component("RouterLink",nx),U.component("RouterView",gT),U.config.globalProperties.$router=ue,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>hr(l)}),xs&&!we&&l.value===Yi&&(we=!0,A(r.location).catch(Oe=>{}));const K={};for(const Oe in Yi)Object.defineProperty(K,Oe,{get:()=>l.value[Oe],enumerable:!0});U.provide(Ep,ue),U.provide(mT,mb(K)),U.provide(Qd,l);const fe=U.unmount;Xe.add(U),U.unmount=function(){Xe.delete(U),Xe.size<1&&(c=Yi,I&&I(),I=null,l.value=Yi,we=!1,ie=!1),fe()}}};function ce(U){return U.reduce((ue,K)=>ue.then(()=>v(K)),Promise.resolve())}return We}function ax(t,e){const n=[],i=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>no(c,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>no(c,l))||r.push(l))}return[n,i,r]}const dl=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},lx={__name:"App",setup(t){return(e,n)=>(_n(),ap("div",null,[ne(hr(gT))]))}},ux=dl(lx,[["__scopeId","data-v-140c5903"]]),cx="modulepreload",hx=function(t,e){return new URL(t,e).href},mv={},dx=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let o=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=o(n.map(h=>{if(h=hx(h,i),h in mv)return;mv[h]=!0;const d=h.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!i)for(let k=a.length-1;k>=0;k--){const P=a[k];if(P.href===h&&(!d||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${f}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":cx,d||(_.as="script"),_.crossOrigin="",_.href=h,c&&_.setAttribute("nonce",c),document.head.appendChild(_),d)return new Promise((k,P)=>{_.addEventListener("load",k),_.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},bp=Fe({name:"QAvatar",props:{...cl,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(t,{slots:e}){const n=hl(t),i=D(()=>"q-avatar"+(t.color?` bg-${t.color}`:"")+(t.textColor?` text-${t.textColor} q-chip--colored`:"")+(t.square===!0?" q-avatar--square":t.rounded===!0?" rounded-borders":"")),r=D(()=>t.fontSize?{fontSize:t.fontSize}:null);return()=>{const s=t.icon!==void 0?[F($t,{name:t.icon})]:void 0;return F("div",{class:i.value,style:n.value},[F("div",{class:"q-avatar__content row flex-center overflow-hidden",style:r.value},j1(e.default,s))])}}}),fx=Fe({name:"QToolbarTitle",props:{shrink:Boolean},setup(t,{slots:e}){const n=D(()=>"q-toolbar__title ellipsis"+(t.shrink===!0?" col-shrink":""));return()=>F("div",{class:n.value},rt(e.default))}}),wp=Fe({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:e}){const n=D(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>F("div",{class:n.value,role:"toolbar"},rt(e.default))}});let px=0;const mx=["click","keydown"],gx={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${px++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function _x(t,e,n,i){const r=ln(dw,an);if(r===an)return console.error("QTab/QRouteTab component needs to be child of QTabs"),an;const{proxy:s}=Le(),o=_e(null),a=_e(null),l=_e(null),c=D(()=>t.disable===!0||t.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},t.ripple===!0?{}:t.ripple)),h=D(()=>r.currentModel.value===t.name),d=D(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(h.value===!0?" q-tab--active"+(r.tabProps.value.activeClass?" "+r.tabProps.value.activeClass:"")+(r.tabProps.value.activeColor?` text-${r.tabProps.value.activeColor}`:"")+(r.tabProps.value.activeBgColor?` bg-${r.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(t.icon&&t.label&&r.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(t.noCaps===!0||r.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(t.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),f=D(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(r.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(t.contentClass!==void 0?` ${t.contentClass}`:"")),m=D(()=>t.disable===!0||r.hasFocus.value===!0||h.value===!1&&r.hasActiveTab.value===!0?-1:t.tabindex||0);function _(C,A){var O;if(A!==!0&&(C==null?void 0:C.qAvoidFocus)!==!0&&((O=o.value)==null||O.focus()),t.disable!==!0){r.updateModel({name:t.name}),n("click",C);return}}function k(C){Li(C,[13,32])?_(C,!0):cp(C)!==!0&&C.keyCode>=35&&C.keyCode<=40&&C.altKey!==!0&&C.metaKey!==!0&&r.onKbdNavigate(C.keyCode,s.$el)===!0&&Et(C),n("keydown",C)}function P(){const C=r.tabProps.value.narrowIndicator,A=[],O=F("div",{ref:l,class:["q-tab__indicator",r.tabProps.value.indicatorClass]});t.icon!==void 0&&A.push(F($t,{class:"q-tab__icon",name:t.icon})),t.label!==void 0&&A.push(F("div",{class:"q-tab__label"},t.label)),t.alert!==!1&&A.push(t.alertIcon!==void 0?F($t,{class:"q-tab__alert-icon",color:t.alert!==!0?t.alert:void 0,name:t.alertIcon}):F("div",{class:"q-tab__alert"+(t.alert!==!0?` text-${t.alert}`:"")})),C===!0&&A.push(O);const B=[F("div",{class:"q-focus-helper",tabindex:-1,ref:o}),F("div",{class:f.value},Ai(e.default,A))];return C===!1&&B.push(O),B}const L={name:D(()=>t.name),rootRef:a,tabIndicatorRef:l,routeData:i};mt(()=>{r.unregisterTab(L)}),Nt(()=>{r.registerTab(L)});function T(C,A){const O={ref:a,class:d.value,tabindex:m.value,role:"tab","aria-selected":h.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:_,onKeydown:k,...A};return An(F(C,O,P()),[[mp,c.value]])}return{renderTab:T,$tabs:r}}const gv=Fe({name:"QTab",props:gx,emits:mx,setup(t,{slots:e,emit:n}){const{renderTab:i}=_x(t,e,n);return()=>i("div")}});function vx(){const t=_e(!mi.value);return t.value===!1&&Nt(()=>{t.value=!0}),{isHydrated:t}}const _T=typeof ResizeObserver<"u",_v=_T===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Wu=Fe({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:e}){let n=null,i,r={width:-1,height:-1};function s(l){l===!0||t.debounce===0||t.debounce==="0"?o():n===null&&(n=setTimeout(o,t.debounce))}function o(){if(n!==null&&(clearTimeout(n),n=null),i){const{offsetWidth:l,offsetHeight:c}=i;(l!==r.width||c!==r.height)&&(r={width:l,height:c},e("resize",r))}}const{proxy:a}=Le();if(a.trigger=s,_T===!0){let l;const c=h=>{i=a.$el.parentNode,i?(l=new ResizeObserver(s),l.observe(i),o()):h!==!0&&Ft(()=>{c(!0)})};return Nt(()=>{c()}),mt(()=>{n!==null&&clearTimeout(n),l!==void 0&&(l.disconnect!==void 0?l.disconnect():i&&l.unobserve(i))}),kn}else{let l=function(){n!==null&&(clearTimeout(n),n=null),d!==void 0&&(d.removeEventListener!==void 0&&d.removeEventListener("resize",s,yt.passive),d=void 0)},c=function(){l(),i!=null&&i.contentDocument&&(d=i.contentDocument.defaultView,d.addEventListener("resize",s,yt.passive),o())};const{isHydrated:h}=vx();let d;return Nt(()=>{Ft(()=>{i=a.$el,i&&c()})}),mt(l),()=>{if(h.value===!0)return F("object",{class:"q--avoid-card-border",style:_v.style,tabindex:-1,type:"text/html",data:_v.url,"aria-hidden":"true",onLoad:c})}}}});let vT=!1;{const t=document.createElement("div");t.setAttribute("dir","rtl"),Object.assign(t.style,{width:"1px",height:"1px",overflow:"auto"});const e=document.createElement("div");Object.assign(e.style,{width:"1000px",height:"1px"}),document.body.appendChild(t),t.appendChild(e),t.scrollLeft=-1e3,vT=t.scrollLeft>=0,t.remove()}function yx(t,e,n){const i=n===!0?["left","right"]:["top","bottom"];return`absolute-${e===!0?i[0]:i[1]}${t?` text-${t}`:""}`}const Ex=["left","center","right","justify"],bx=Fe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:t=>Ex.includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(t,{slots:e,emit:n}){const{proxy:i}=Le(),{$q:r}=i,{registerTick:s}=va(),{registerTick:o}=va(),{registerTick:a}=va(),{registerTimeout:l,removeTimeout:c}=$a(),{registerTimeout:h,removeTimeout:d}=$a(),f=_e(null),m=_e(null),_=_e(t.modelValue),k=_e(!1),P=_e(!0),L=_e(!1),T=_e(!1),C=[],A=_e(0),O=_e(!1);let B=null,S=null,E;const v=D(()=>({activeClass:t.activeClass,activeColor:t.activeColor,activeBgColor:t.activeBgColor,indicatorClass:yx(t.indicatorColor,t.switchIndicator,t.vertical),narrowIndicator:t.narrowIndicator,inlineLabel:t.inlineLabel,noCaps:t.noCaps})),b=D(()=>{const H=A.value,j=_.value;for(let te=0;te<H;te++)if(C[te].name.value===j)return!0;return!1}),R=D(()=>`q-tabs__content--align-${k.value===!0?"left":T.value===!0?"justify":t.align}`),y=D(()=>`q-tabs row no-wrap items-center q-tabs--${k.value===!0?"":"not-"}scrollable q-tabs--${t.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${t.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${t.mobileArrows===!0?"":"out"}-arrows`+(t.dense===!0?" q-tabs--dense":"")+(t.shrink===!0?" col-shrink":"")+(t.stretch===!0?" self-stretch":"")),I=D(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+R.value+(t.contentClass!==void 0?` ${t.contentClass}`:"")),M=D(()=>t.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ee=D(()=>t.vertical!==!0&&r.lang.rtl===!0),se=D(()=>vT===!1&&ee.value===!0);ke(ee,z),ke(()=>t.modelValue,H=>{ie({name:H,setCurrent:!0,skipEmit:!0})}),ke(()=>t.outsideArrows,Y);function ie({name:H,setCurrent:j,skipEmit:te}){_.value!==H&&(te!==!0&&t["onUpdate:modelValue"]!==void 0&&n("update:modelValue",H),(j===!0||t["onUpdate:modelValue"]===void 0)&&(Ie(_.value,H),_.value=H))}function Y(){s(()=>{f.value&&Ee({width:f.value.offsetWidth,height:f.value.offsetHeight})})}function Ee(H){if(M.value===void 0||m.value===null)return;const j=H[M.value.container],te=Math.min(m.value[M.value.scroll],Array.prototype.reduce.call(m.value.children,(de,me)=>de+(me[M.value.content]||0),0)),pe=j>0&&te>j;k.value=pe,pe===!0&&o(z),T.value=j<parseInt(t.breakpoint,10)}function Ie(H,j){const te=H!=null&&H!==""?C.find(de=>de.name.value===H):null,pe=j!=null&&j!==""?C.find(de=>de.name.value===j):null;if(Z===!0)Z=!1;else if(te&&pe){const de=te.tabIndicatorRef.value,me=pe.tabIndicatorRef.value;B!==null&&(clearTimeout(B),B=null),de.style.transition="none",de.style.transform="none",me.style.transition="none",me.style.transform="none";const ye=de.getBoundingClientRect(),Be=me.getBoundingClientRect();me.style.transform=t.vertical===!0?`translate3d(0,${ye.top-Be.top}px,0) scale3d(1,${Be.height?ye.height/Be.height:1},1)`:`translate3d(${ye.left-Be.left}px,0,0) scale3d(${Be.width?ye.width/Be.width:1},1,1)`,a(()=>{B=setTimeout(()=>{B=null,me.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",me.style.transform="none"},70)})}pe&&k.value===!0&&Re(pe.rootRef.value)}function Re(H){const{left:j,width:te,top:pe,height:de}=m.value.getBoundingClientRect(),me=H.getBoundingClientRect();let ye=t.vertical===!0?me.top-pe:me.left-j;if(ye<0){m.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ye),z();return}ye+=t.vertical===!0?me.height-de:me.width-te,ye>0&&(m.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ye),z())}function z(){const H=m.value;if(H===null)return;const j=H.getBoundingClientRect(),te=t.vertical===!0?H.scrollTop:Math.abs(H.scrollLeft);ee.value===!0?(P.value=Math.ceil(te+j.width)<H.scrollWidth-1,L.value=te>0):(P.value=te>0,L.value=t.vertical===!0?Math.ceil(te+j.height)<H.scrollHeight:Math.ceil(te+j.width)<H.scrollWidth)}function we(H){S!==null&&clearInterval(S),S=setInterval(()=>{K(H)===!0&&ce()},5)}function Xe(){we(se.value===!0?Number.MAX_SAFE_INTEGER:0)}function We(){we(se.value===!0?0:Number.MAX_SAFE_INTEGER)}function ce(){S!==null&&(clearInterval(S),S=null)}function U(H,j){const te=Array.prototype.filter.call(m.value.children,Be=>Be===j||Be.matches&&Be.matches(".q-tab.q-focusable")===!0),pe=te.length;if(pe===0)return;if(H===36)return Re(te[0]),te[0].focus(),!0;if(H===35)return Re(te[pe-1]),te[pe-1].focus(),!0;const de=H===(t.vertical===!0?38:37),me=H===(t.vertical===!0?40:39),ye=de===!0?-1:me===!0?1:void 0;if(ye!==void 0){const Be=ee.value===!0?-1:1,Ze=te.indexOf(j)+ye*Be;return Ze>=0&&Ze<pe&&(Re(te[Ze]),te[Ze].focus({preventScroll:!0})),!0}}const ue=D(()=>se.value===!0?{get:H=>Math.abs(H.scrollLeft),set:(H,j)=>{H.scrollLeft=-j}}:t.vertical===!0?{get:H=>H.scrollTop,set:(H,j)=>{H.scrollTop=j}}:{get:H=>H.scrollLeft,set:(H,j)=>{H.scrollLeft=j}});function K(H){const j=m.value,{get:te,set:pe}=ue.value;let de=!1,me=te(j);const ye=H<me?-1:1;return me+=ye*5,me<0?(de=!0,me=0):(ye===-1&&me<=H||ye===1&&me>=H)&&(de=!0,me=H),pe(j,me),z(),de}function fe(H,j){for(const te in H)if(H[te]!==j[te])return!1;return!0}function Oe(){let H=null,j={matchedLen:0,queryDiff:9999,hrefLen:0};const te=C.filter(ye=>{var Be;return((Be=ye.routeData)==null?void 0:Be.hasRouterLink.value)===!0}),{hash:pe,query:de}=i.$route,me=Object.keys(de).length;for(const ye of te){const Be=ye.routeData.exact.value===!0;if(ye.routeData[Be===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Ze,query:Ht,matched:St,href:Zn}=ye.routeData.resolvedLink.value,_i=Object.keys(Ht).length;if(Be===!0){if(Ze!==pe||_i!==me||fe(de,Ht)===!1)continue;H=ye.name.value;break}if(Ze!==""&&Ze!==pe||_i!==0&&fe(Ht,de)===!1)continue;const nt={matchedLen:St.length,queryDiff:me-_i,hrefLen:Zn.length-Ze.length};if(nt.matchedLen>j.matchedLen){H=ye.name.value,j=nt;continue}else if(nt.matchedLen!==j.matchedLen)continue;if(nt.queryDiff<j.queryDiff)H=ye.name.value,j=nt;else if(nt.queryDiff!==j.queryDiff)continue;nt.hrefLen>j.hrefLen&&(H=ye.name.value,j=nt)}if(H===null&&C.some(ye=>ye.routeData===void 0&&ye.name.value===_.value)===!0){Z=!1;return}ie({name:H,setCurrent:!0})}function x(H){if(c(),O.value!==!0&&f.value!==null&&H.target&&typeof H.target.closest=="function"){const j=H.target.closest(".q-tab");j&&f.value.contains(j)===!0&&(O.value=!0,k.value===!0&&Re(j))}}function N(){l(()=>{O.value=!1},30)}function V(){le.avoidRouteWatcher===!1?h(Oe):d()}function W(){if(E===void 0){const H=ke(()=>i.$route.fullPath,V);E=()=>{H(),E=void 0}}}function J(H){C.push(H),A.value++,Y(),H.routeData===void 0||i.$route===void 0?h(()=>{if(k.value===!0){const j=_.value,te=j!=null&&j!==""?C.find(pe=>pe.name.value===j):null;te&&Re(te.rootRef.value)}}):(W(),H.routeData.hasRouterLink.value===!0&&V())}function G(H){C.splice(C.indexOf(H),1),A.value--,Y(),E!==void 0&&H.routeData!==void 0&&(C.every(j=>j.routeData===void 0)===!0&&E(),V())}const le={currentModel:_,tabProps:v,hasFocus:O,hasActiveTab:b,registerTab:J,unregisterTab:G,verifyRouteModel:V,updateModel:ie,onKbdNavigate:U,avoidRouteWatcher:!1};dr(dw,le);function oe(){B!==null&&clearTimeout(B),ce(),E==null||E()}let re,Z;return mt(oe),_o(()=>{re=E!==void 0,oe()}),xc(()=>{re===!0&&(W(),Z=!0,V()),Y()}),()=>F("div",{ref:f,class:y.value,role:"tablist",onFocusin:x,onFocusout:N},[F(Wu,{onResize:Ee}),F("div",{ref:m,class:I.value,onScroll:z},rt(e.default)),F($t,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(P.value===!0?"":" q-tabs__arrow--faded"),name:t.leftIcon||r.iconSet.tabs[t.vertical===!0?"up":"left"],onMousedownPassive:Xe,onTouchstartPassive:Xe,onMouseupPassive:ce,onMouseleavePassive:ce,onTouchendPassive:ce}),F($t,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(L.value===!0?"":" q-tabs__arrow--faded"),name:t.rightIcon||r.iconSet.tabs[t.vertical===!0?"down":"right"],onMousedownPassive:We,onTouchstartPassive:We,onMouseupPassive:ce,onMouseleavePassive:ce,onTouchendPassive:ce})])}}),Tp=Fe({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=Le(),r=ln(Vc,an);if(r===an)return console.error("QHeader needs to be child of QLayout"),an;const s=_e(parseInt(t.heightHint,10)),o=_e(!0),a=D(()=>t.reveal===!0||r.view.value.indexOf("H")!==-1||i.platform.is.ios&&r.isContainer.value===!0),l=D(()=>{if(t.modelValue!==!0)return 0;if(a.value===!0)return o.value===!0?s.value:0;const T=s.value-r.scroll.value.position;return T>0?T:0}),c=D(()=>t.modelValue!==!0||a.value===!0&&o.value!==!0),h=D(()=>t.modelValue===!0&&c.value===!0&&t.reveal===!0),d=D(()=>"q-header q-layout__section--marginal "+(a.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),f=D(()=>{const T=r.rows.value.top,C={};return T[0]==="l"&&r.left.space===!0&&(C[i.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),T[2]==="r"&&r.right.space===!0&&(C[i.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),C});function m(T,C){r.update("header",T,C)}function _(T,C){T.value!==C&&(T.value=C)}function k({height:T}){_(s,T),m("size",T)}function P(T){h.value===!0&&_(o,!0),n("focusin",T)}ke(()=>t.modelValue,T=>{m("space",T),_(o,!0),r.animate()}),ke(l,T=>{m("offset",T)}),ke(()=>t.reveal,T=>{T===!1&&_(o,t.modelValue)}),ke(o,T=>{r.animate(),n("reveal",T)}),ke(r.scroll,T=>{t.reveal===!0&&_(o,T.direction==="up"||T.position<=t.revealOffset||T.position-T.inflectionPoint<100)});const L={};return r.instances.header=L,t.modelValue===!0&&m("size",s.value),m("space",t.modelValue),m("offset",l.value),mt(()=>{r.instances.header===L&&(r.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const T=Rw(e.default,[]);return t.elevated===!0&&T.push(F("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),T.push(F(Wu,{debounce:0,onResize:k})),F("header",{class:d.value,style:f.value,onFocusin:P},T)}}}),Ls=Fe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(t,{slots:e}){const n=D(()=>parseInt(t.lines,10)),i=D(()=>"q-item__label"+(t.overline===!0?" q-item__label--overline text-overline":"")+(t.caption===!0?" q-item__label--caption text-caption":"")+(t.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),r=D(()=>t.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>F("div",{style:r.value,class:i.value},rt(e.default))}}),Yd=Fe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:e}){const n=D(()=>{const i=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>t[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${i.length!==0?" "+i:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>F("div",{class:n.value},rt(e.default))}}),ti=Fe({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(t,{slots:e}){const n=D(()=>`q-item__section column q-item__section--${t.avatar===!0||t.side===!0||t.thumbnail===!0?"side":"main"}`+(t.top===!0?" q-item__section--top justify-start":" justify-center")+(t.avatar===!0?" q-item__section--avatar":"")+(t.thumbnail===!0?" q-item__section--thumbnail":"")+(t.noWrap===!0?" q-item__section--nowrap":""));return()=>F("div",{class:n.value},rt(e.default))}}),ia=Fe({name:"QItem",props:{...Jn,...uk,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=Le(),r=Xn(t,i),{hasLink:s,linkAttrs:o,linkClass:a,linkTag:l,navigateOnClick:c}=Uw(),h=_e(null),d=_e(null),f=D(()=>t.clickable===!0||s.value===!0||t.tag==="label"),m=D(()=>t.disable!==!0&&f.value===!0),_=D(()=>"q-item q-item-type row no-wrap"+(t.dense===!0?" q-item--dense":"")+(r.value===!0?" q-item--dark":"")+(s.value===!0&&t.active===null?a.value:t.active===!0?` q-item--active${t.activeClass!==void 0?` ${t.activeClass}`:""}`:"")+(t.disable===!0?" disabled":"")+(m.value===!0?" q-item--clickable q-link cursor-pointer "+(t.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(t.focused===!0?" q-manual-focusable--focused":""):"")),k=D(()=>t.insetLevel===void 0?null:{["padding"+(i.lang.rtl===!0?"Right":"Left")]:16+t.insetLevel*56+"px"});function P(C){m.value===!0&&(d.value!==null&&C.qAvoidFocus!==!0&&(C.qKeyEvent!==!0&&document.activeElement===h.value?d.value.focus():document.activeElement===d.value&&h.value.focus()),c(C))}function L(C){if(m.value===!0&&Li(C,[13,32])===!0){Et(C),C.qKeyEvent=!0;const A=new MouseEvent("click",C);A.qKeyEvent=!0,h.value.dispatchEvent(A)}n("keyup",C)}function T(){const C=Rw(e.default,[]);return m.value===!0&&C.unshift(F("div",{class:"q-focus-helper",tabindex:-1,ref:d})),C}return()=>{const C={ref:h,class:_.value,style:k.value,role:"listitem",onClick:P,onKeyup:L};return m.value===!0?(C.tabindex=t.tabindex||"0",Object.assign(C,o.value)):f.value===!0&&(C["aria-disabled"]="true"),F(l.value,C,T())}}}),wx=["ul","ol"],Jd=Fe({name:"QList",props:{...Jn,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(t,{slots:e}){const n=Le(),i=Xn(t,n.proxy.$q),r=D(()=>wx.includes(t.tag)?null:"list"),s=D(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(i.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>F(t.tag,{class:s.value,role:r.value},rt(e.default))}}),Ip={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Tx=Object.keys(Ip);Ip.all=!0;function vv(t){const e={};for(const n of Tx)t[n]===!0&&(e[n]=!0);return Object.keys(e).length===0?Ip:(e.horizontal===!0?e.left=e.right=!0:e.left===!0&&e.right===!0&&(e.horizontal=!0),e.vertical===!0?e.up=e.down=!0:e.up===!0&&e.down===!0&&(e.vertical=!0),e.horizontal===!0&&e.vertical===!0&&(e.all=!0),e)}const Ix=["INPUT","TEXTAREA"];function yv(t,e){return e.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof e.handler=="function"&&Ix.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(e.uid)===-1)}function yT(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),qu.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function Cx(t){const e=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((n,i)=>{const r=parseFloat(n);r&&(e[i]=r)}),e}const Xd=up({name:"touch-swipe",beforeMount(t,{value:e,arg:n,modifiers:i}){if(i.mouse!==!0&&ut.has.touch!==!0)return;const r=i.mouseCapture===!0?"Capture":"",s={handler:e,sensitivity:Cx(n),direction:vv(i),noop:kn,mouseStart(o){yv(o,s)&&u1(o)&&(Wr(s,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),s.start(o,!0))},touchStart(o){if(yv(o,s)){const a=o.target;Wr(s,"temp",[[a,"touchmove","move","notPassiveCapture"],[a,"touchcancel","end","notPassiveCapture"],[a,"touchend","end","notPassiveCapture"]]),s.start(o)}},start(o,a){ut.is.firefox===!0&&zh(t,!0);const l=Bu(o);s.event={x:l.left,y:l.top,time:Date.now(),mouse:a===!0,dir:!1}},move(o){if(s.event===void 0)return;if(s.event.dir!==!1){Et(o);return}const a=Date.now()-s.event.time;if(a===0)return;const l=Bu(o),c=l.left-s.event.x,h=Math.abs(c),d=l.top-s.event.y,f=Math.abs(d);if(s.event.mouse!==!0){if(h<s.sensitivity[1]&&f<s.sensitivity[1]){s.end(o);return}}else if(window.getSelection().toString()!==""){s.end(o);return}else if(h<s.sensitivity[2]&&f<s.sensitivity[2])return;const m=h/a,_=f/a;s.direction.vertical===!0&&h<f&&h<100&&_>s.sensitivity[0]&&(s.event.dir=d<0?"up":"down"),s.direction.horizontal===!0&&h>f&&f<100&&m>s.sensitivity[0]&&(s.event.dir=c<0?"left":"right"),s.direction.up===!0&&h<f&&d<0&&h<100&&_>s.sensitivity[0]&&(s.event.dir="up"),s.direction.down===!0&&h<f&&d>0&&h<100&&_>s.sensitivity[0]&&(s.event.dir="down"),s.direction.left===!0&&h>f&&c<0&&f<100&&m>s.sensitivity[0]&&(s.event.dir="left"),s.direction.right===!0&&h>f&&c>0&&f<100&&m>s.sensitivity[0]&&(s.event.dir="right"),s.event.dir!==!1?(Et(o),s.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),yT(),s.styleCleanup=k=>{s.styleCleanup=void 0,document.body.classList.remove("non-selectable");const P=()=>{document.body.classList.remove("no-pointer-events--children")};k===!0?setTimeout(P,50):P()}),s.handler({evt:o,touch:s.event.mouse!==!0,mouse:s.event.mouse,direction:s.event.dir,duration:a,distance:{x:h,y:f}})):s.end(o)},end(o){var a;s.event!==void 0&&(_a(s,"temp"),ut.is.firefox===!0&&zh(t,!1),(a=s.styleCleanup)==null||a.call(s,!0),o!==void 0&&s.event.dir!==!1&&Et(o),s.event=void 0)}};if(t.__qtouchswipe=s,i.mouse===!0){const o=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";Wr(s,"main",[[t,"mousedown","mouseStart",`passive${o}`]])}ut.has.touch===!0&&Wr(s,"main",[[t,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchswipe;n!==void 0&&(e.oldValue!==e.value&&(typeof e.value!="function"&&n.end(),n.handler=e.value),n.direction=vv(e.modifiers))},beforeUnmount(t){var n;const e=t.__qtouchswipe;e!==void 0&&(_a(e,"main"),_a(e,"temp"),ut.is.firefox===!0&&zh(t,!1),(n=e.styleCleanup)==null||n.call(e),delete t.__qtouchswipe)}});function Sx(){let t=Object.create(null);return{getCache:(e,n)=>t[e]===void 0?t[e]=typeof n=="function"?n():n:t[e],setCache(e,n){t[e]=n},hasCache(e){return Object.hasOwnProperty.call(t,e)},clearCache(e){e!==void 0?delete t[e]:t=Object.create(null)}}}const Ax={name:{required:!0},disable:Boolean},Ev={setup(t,{slots:e}){return()=>F("div",{class:"q-panel scroll",role:"tabpanel"},rt(e.default))}},Rx={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},kx=["update:modelValue","beforeTransition","transition"];function Px(){const{props:t,emit:e,proxy:n}=Le(),{getCache:i}=Sx(),{registerTimeout:r}=$a();let s,o;const a=_e(null),l={value:null};function c(M){const ee=t.vertical===!0?"up":"left";E((n.$q.lang.rtl===!0?-1:1)*(M.direction===ee?1:-1))}const h=D(()=>[[Xd,c,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),d=D(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),f=D(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),m=D(()=>`--q-transition-duration: ${t.transitionDuration}ms`),_=D(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),k=D(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),P=D(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);ke(()=>t.modelValue,(M,ee)=>{const se=A(M)===!0?O(M):-1;o!==!0&&S(se===-1?0:se<O(ee)?-1:1),l.value!==se&&(l.value=se,e("beforeTransition",M,ee),r(()=>{e("transition",M,ee)},t.transitionDuration))});function L(){E(1)}function T(){E(-1)}function C(M){e("update:modelValue",M)}function A(M){return M!=null&&M!==""}function O(M){return s.findIndex(ee=>ee.props.name===M&&ee.props.disable!==""&&ee.props.disable!==!0)}function B(){return s.filter(M=>M.props.disable!==""&&M.props.disable!==!0)}function S(M){const ee=M!==0&&t.animated===!0&&l.value!==-1?"q-transition--"+(M===-1?d.value:f.value):null;a.value!==ee&&(a.value=ee)}function E(M,ee=l.value){let se=ee+M;for(;se!==-1&&se<s.length;){const ie=s[se];if(ie!==void 0&&ie.props.disable!==""&&ie.props.disable!==!0){S(M),o=!0,e("update:modelValue",ie.props.name),setTimeout(()=>{o=!1});return}se+=M}t.infinite===!0&&s.length!==0&&ee!==-1&&ee!==s.length&&E(M,M===-1?s.length:-1)}function v(){const M=O(t.modelValue);return l.value!==M&&(l.value=M),!0}function b(){const M=A(t.modelValue)===!0&&v()&&s[l.value];return t.keepAlive===!0?[F(NA,k.value,[F(P.value===!0?i(_.value,()=>({...Ev,name:_.value})):Ev,{key:_.value,style:m.value},()=>M)])]:[F("div",{class:"q-panel scroll",style:m.value,key:_.value,role:"tabpanel"},[M])]}function R(){if(s.length!==0)return t.animated===!0?[F(ts,{name:a.value},b)]:b()}function y(M){return s=R1(rt(M.default,[])).filter(ee=>ee.props!==null&&ee.props.slot===void 0&&A(ee.props.name)===!0),s.length}function I(){return s}return Object.assign(n,{next:L,previous:T,goTo:C}),{panelIndex:l,panelDirectives:h,updatePanelsList:y,updatePanelIndex:v,getPanelContent:R,getEnabledPanels:B,getPanels:I,isValidPanelName:A,keepAliveProps:k,needsUniqueKeepAliveWrapper:P,goToPanelByOffset:E,goToPanel:C,nextPanel:L,previousPanel:T}}const bv=Fe({name:"QTabPanel",props:Ax,setup(t,{slots:e}){return()=>F("div",{class:"q-tab-panel",role:"tabpanel"},rt(e.default))}}),xx=Fe({name:"QTabPanels",props:{...Rx,...Jn},emits:kx,setup(t,{slots:e}){const n=Le(),i=Xn(t,n.proxy.$q),{updatePanelsList:r,getPanelContent:s,panelDirectives:o}=Px(),a=D(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(r(e),H1("div",{class:a.value},s(),"pan",t.swipeable,()=>o.value))}}),Cp=Fe({name:"QPageContainer",setup(t,{slots:e}){const{proxy:{$q:n}}=Le(),i=ln(Vc,an);if(i===an)return console.error("QPageContainer needs to be child of QLayout"),an;dr(cw,!0);const r=D(()=>{const s={};return i.header.space===!0&&(s.paddingTop=`${i.header.size}px`),i.right.space===!0&&(s[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${i.right.size}px`),i.footer.space===!0&&(s.paddingBottom=`${i.footer.size}px`),i.left.space===!0&&(s[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${i.left.size}px`),s});return()=>F("div",{class:"q-page-container",style:r.value},rt(e.default))}}),{passive:wv}=yt,Nx=["both","horizontal","vertical"],Dx=Fe({name:"QScrollObserver",props:{axis:{type:String,validator:t=>Nx.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:Iw},emits:["scroll"],setup(t,{emit:e}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i=null,r,s;ke(()=>t.scrollTarget,()=>{l(),a()});function o(){i==null||i();const d=Math.max(0,Sw(r)),f=Aw(r),m={top:d-n.position.top,left:f-n.position.left};if(t.axis==="vertical"&&m.top===0||t.axis==="horizontal"&&m.left===0)return;const _=Math.abs(m.top)>=Math.abs(m.left)?m.top<0?"up":"down":m.left<0?"left":"right";n.position={top:d,left:f},n.directionChanged=n.direction!==_,n.delta=m,n.directionChanged===!0&&(n.direction=_,n.inflectionPoint=n.position),e("scroll",{...n})}function a(){r=Cw(s,t.scrollTarget),r.addEventListener("scroll",c,wv),c(!0)}function l(){r!==void 0&&(r.removeEventListener("scroll",c,wv),r=void 0)}function c(d){if(d===!0||t.debounce===0||t.debounce==="0")o();else if(i===null){const[f,m]=t.debounce?[setTimeout(o,t.debounce),clearTimeout]:[requestAnimationFrame(o),cancelAnimationFrame];i=()=>{m(f),i=null}}}const{proxy:h}=Le();return ke(()=>h.$q.lang.rtl,o),Nt(()=>{s=h.$el.parentNode,a()}),mt(()=>{i==null||i(),l()}),Object.assign(h,{trigger:c,getPosition:()=>n}),kn}}),Sp=Fe({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:e,emit:n}){const{proxy:{$q:i}}=Le(),r=_e(null),s=_e(i.screen.height),o=_e(t.container===!0?0:i.screen.width),a=_e({position:0,direction:"down",inflectionPoint:0}),l=_e(0),c=_e(mi.value===!0?0:_u()),h=D(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),d=D(()=>t.container===!1?{minHeight:i.screen.height+"px"}:null),f=D(()=>c.value!==0?{[i.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),m=D(()=>c.value!==0?{[i.lang.rtl===!0?"right":"left"]:0,[i.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function _(A){if(t.container===!0||document.qScrollPrevented!==!0){const O={position:A.position.top,direction:A.direction,directionChanged:A.directionChanged,inflectionPoint:A.inflectionPoint.top,delta:A.delta.top};a.value=O,t.onScroll!==void 0&&n("scroll",O)}}function k(A){const{height:O,width:B}=A;let S=!1;s.value!==O&&(S=!0,s.value=O,t.onScrollHeight!==void 0&&n("scrollHeight",O),L()),o.value!==B&&(S=!0,o.value=B),S===!0&&t.onResize!==void 0&&n("resize",A)}function P({height:A}){l.value!==A&&(l.value=A,L())}function L(){if(t.container===!0){const A=s.value>l.value?_u():0;c.value!==A&&(c.value=A)}}let T=null;const C={instances:{},view:D(()=>t.view),isContainer:D(()=>t.container),rootRef:r,height:s,containerHeight:l,scrollbarWidth:c,totalWidth:D(()=>o.value+c.value),rows:D(()=>{const A=t.view.toLowerCase().split(" ");return{top:A[0].split(""),middle:A[1].split(""),bottom:A[2].split("")}}),header:si({size:0,offset:0,space:!1}),right:si({size:300,offset:0,space:!1}),footer:si({size:0,offset:0,space:!1}),left:si({size:300,offset:0,space:!1}),scroll:a,animate(){T!==null?clearTimeout(T):document.body.classList.add("q-body--layout-animate"),T=setTimeout(()=>{T=null,document.body.classList.remove("q-body--layout-animate")},155)},update(A,O,B){C[A][O]=B}};if(dr(Vc,C),_u()>0){let A=function(){S=null,E.classList.remove("hide-scrollbar")},O=function(){if(S===null){if(E.scrollHeight>i.screen.height)return;E.classList.add("hide-scrollbar")}else clearTimeout(S);S=setTimeout(A,300)},B=function(v){S!==null&&v==="remove"&&(clearTimeout(S),A()),window[`${v}EventListener`]("resize",O)},S=null;const E=document.body;ke(()=>t.container!==!0?"add":"remove",B),t.container!==!0&&B("add"),Dc(()=>{B("remove")})}return()=>{const A=Ai(e.default,[F(Dx,{onScroll:_}),F(Wu,{onResize:k})]),O=F("div",{class:h.value,style:d.value,ref:t.container===!0?void 0:r,tabindex:-1},A);return t.container===!0?F("div",{class:"q-layout-container overflow-hidden",ref:r},[F(Wu,{onResize:P}),F("div",{class:"absolute-full",style:f.value},[F("div",{class:"scroll",style:m.value},[O])])]):O}}});function Tv(t){if(t===!1)return 0;if(t===!0||t===void 0)return 1;const e=parseInt(t,10);return isNaN(e)?0:e}const Vs=up({name:"close-popup",beforeMount(t,{value:e}){const n={depth:Tv(e),handler(i){n.depth!==0&&setTimeout(()=>{const r=D1(t);r!==void 0&&O1(r,i,n.depth)})},handlerKey(i){Li(i,13)===!0&&n.handler(i)}};t.__qclosepopup=n,t.addEventListener("click",n.handler),t.addEventListener("keyup",n.handlerKey)},updated(t,{value:e,oldValue:n}){e!==n&&(t.__qclosepopup.depth=Tv(e))},beforeUnmount(t){const e=t.__qclosepopup;t.removeEventListener("click",e.handler),t.removeEventListener("keyup",e.handlerKey),delete t.__qclosepopup}}),Ox={firebaseConfig:{apiKey:"AIzaSyDCr5ADGTBQ8nKI5Fl_syYbf2RDlQcJafE",authDomain:"tarefasrfd.firebaseapp.com",databaseURL:"https://tarefasrfd-default-rtdb.firebaseio.com",projectId:"tarefasrfd",storageBucket:"tarefasrfd.firebasestorage.app",messagingSenderId:"232190325499",appId:"1:232190325499:web:bedec51e7457c8ad63765e"}},Mx=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(t,e){if(!t)throw Eo(e)},Eo=function(t){return new Error("Firebase Database ("+ET.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Lx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ap={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),i.push(n[h],n[d],n[f],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Lx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||d==null)throw new Vx;const f=s<<2|a>>4;if(i.push(f),c!==64){const m=a<<4&240|c>>2;if(i.push(m),d!==64){const _=c<<6&192|d;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let Vx=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const wT=function(t){const e=bT(t);return Ap.encodeByteArray(e,!0)},Ku=function(t){return wT(t).replace(/\./g,"")},Gu=function(t){try{return Ap.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){return TT(void 0,t)}function TT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!qx(n)||(t[n]=TT(t[n],e[n]));return t}function qx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=()=>Bx().__FIREBASE_DEFAULTS__,$x=()=>{if(typeof process>"u"||typeof Iv>"u")return;const t=Iv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gu(t[1]);return e&&JSON.parse(e)},Rp=()=>{try{return Mx()||Ux()||$x()||jx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IT=t=>{var e,n;return(n=(e=Rp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hx=t=>{const e=IT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},CT=()=>{var t;return(t=Rp())===null||t===void 0?void 0:t.config},ST=t=>{var e;return(e=Rp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){return t.endsWith(".cloudworkstations.dev")}async function AT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ku(JSON.stringify(n)),Ku(JSON.stringify(o)),""].join(".")}const wa={};function Wx(){const t={prod:[],emulator:[]};for(const e of Object.keys(wa))wa[e]?t.emulator.push(e):t.prod.push(e);return t}function Kx(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Cv=!1;function Bc(t,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||wa[t]===e||wa[t]||Cv)return;wa[t]=e;function n(f){return`__firebase__banner__${f}`}const i="__firebase__banner",s=Wx().prod.length>0;function o(){const f=document.getElementById(i);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Cv=!0,o()},f}function h(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=Kx(i),m=n("text"),_=document.getElementById(m)||document.createElement("span"),k=n("learnmore"),P=document.getElementById(k)||document.createElement("a"),L=n("preprendIcon"),T=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const C=f.element;a(C),h(P,k);const A=c();l(T,L),C.append(T,_,P,A),document.body.appendChild(C)}s?(_.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function Gx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yx(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jx(){return ET.NODE_ADMIN===!0}function Xx(){try{return typeof indexedDB=="object"}catch{return!1}}function Zx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="FirebaseError";let bo=class kT extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=eN,Object.setPrototypeOf(this,kT.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}},pl=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?tN(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new bo(r,a,i)}};function tN(t,e){return t.replace(nN,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const nN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){return JSON.parse(t)}function Bt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=Ga(Gu(s[0])||""),n=Ga(Gu(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},iN=function(t){const e=PT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},rN=function(t){const e=PT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ro(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Zd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qu(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function ns(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Sv(s)&&Sv(o)){if(!ns(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Sv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ra(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function sa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,h;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),h=1518500249):(c=s^o^a,h=1859775393):d<60?(c=s&o|a&(s|o),h=2400959708):(c=s^o^a,h=3395469782);const f=(r<<5|r>>>27)+c+l+h+i[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function oN(t,e){const n=new aN(t,e);return n.subscribe.bind(n)}class aN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");lN(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=od),r.error===void 0&&(r.error=od),r.complete===void 0&&(r.complete=od);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function od(){}function uN(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,he(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Uc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t){return t&&t._delegate?t._delegate:t}let is=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new kp;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fN(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dN(t){return t===$r?void 0:t}function fN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const mN={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},gN=Ve.INFO,_N={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},vN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=_N[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $c{constructor(e){this.name=e,this._logLevel=gN,this._logHandler=vN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const yN=(t,e)=>e.some(n=>t instanceof n);let Av,Rv;function EN(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bN(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xT=new WeakMap,ef=new WeakMap,NT=new WeakMap,ad=new WeakMap,xp=new WeakMap;function wN(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fr(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xT.set(n,t)}).catch(()=>{}),xp.set(e,t),e}function TN(t){if(ef.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ef.set(t,e)}let tf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ef.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IN(t){tf=t(tf)}function CN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ld(this),e,...n);return NT.set(i,e.sort?e.sort():[e]),fr(i)}:bN().includes(t)?function(...e){return t.apply(ld(this),e),fr(xT.get(this))}:function(...e){return fr(t.apply(ld(this),e))}}function SN(t){return typeof t=="function"?CN(t):(t instanceof IDBTransaction&&TN(t),yN(t,EN())?new Proxy(t,tf):t)}function fr(t){if(t instanceof IDBRequest)return wN(t);if(ad.has(t))return ad.get(t);const e=SN(t);return e!==t&&(ad.set(t,e),xp.set(e,t)),e}const ld=t=>xp.get(t);function AN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=fr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(fr(o.result),l.oldVersion,l.newVersion,fr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const RN=["get","getKey","getAll","getAllKeys","count"],kN=["put","add","delete","clear"],ud=new Map;function kv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ud.get(e))return ud.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=kN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||RN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return ud.set(e,s),s}IN(t=>({...t,get:(e,n,i)=>kv(e,n)||t.get(e,n,i),has:(e,n)=>!!kv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function xN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nf="@firebase/app",Pv="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new $c("@firebase/app"),NN="@firebase/app-compat",DN="@firebase/analytics-compat",ON="@firebase/analytics",MN="@firebase/app-check-compat",LN="@firebase/app-check",VN="@firebase/auth",FN="@firebase/auth-compat",qN="@firebase/database",BN="@firebase/data-connect",UN="@firebase/database-compat",$N="@firebase/functions",jN="@firebase/functions-compat",HN="@firebase/installations",zN="@firebase/installations-compat",WN="@firebase/messaging",KN="@firebase/messaging-compat",GN="@firebase/performance",QN="@firebase/performance-compat",YN="@firebase/remote-config",JN="@firebase/remote-config-compat",XN="@firebase/storage",ZN="@firebase/storage-compat",eD="@firebase/firestore",tD="@firebase/vertexai",nD="@firebase/firestore-compat",iD="firebase",rD="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="[DEFAULT]",sD={[nf]:"fire-core",[NN]:"fire-core-compat",[ON]:"fire-analytics",[DN]:"fire-analytics-compat",[LN]:"fire-app-check",[MN]:"fire-app-check-compat",[VN]:"fire-auth",[FN]:"fire-auth-compat",[qN]:"fire-rtdb",[BN]:"fire-data-connect",[UN]:"fire-rtdb-compat",[$N]:"fire-fn",[jN]:"fire-fn-compat",[HN]:"fire-iid",[zN]:"fire-iid-compat",[WN]:"fire-fcm",[KN]:"fire-fcm-compat",[GN]:"fire-perf",[QN]:"fire-perf-compat",[YN]:"fire-rc",[JN]:"fire-rc-compat",[XN]:"fire-gcs",[ZN]:"fire-gcs-compat",[eD]:"fire-fst",[nD]:"fire-fst-compat",[tD]:"fire-vertex","fire-js":"fire-js",[iD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Map,oD=new Map,sf=new Map;function xv(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rs(t){const e=t.name;if(sf.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;sf.set(e,t);for(const n of Yu.values())xv(n,t);for(const n of oD.values())xv(n,t);return!0}function jc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new pl("app","Firebase",aD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=rD;function DT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:rf,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw pr.create("bad-app-name",{appName:String(r)});if(n||(n=CT()),!n)throw pr.create("no-options");const s=Yu.get(r);if(s){if(ns(n,s.options)&&ns(i,s.config))return s;throw pr.create("duplicate-app",{appName:r})}const o=new pN(r);for(const l of sf.values())o.addComponent(l);const a=new lD(n,i,o);return Yu.set(r,a),a}function Np(t=rf){const e=Yu.get(t);if(!e&&t===rf&&CT())return DT();if(!e)throw pr.create("no-app",{appName:t});return e}function xi(t,e,n){var i;let r=(i=sD[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(a.join(" "));return}rs(new is(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="firebase-heartbeat-database",cD=1,Qa="firebase-heartbeat-store";let cd=null;function OT(){return cd||(cd=AN(uD,cD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qa)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),cd}async function hD(t){try{const n=(await OT()).transaction(Qa),i=await n.objectStore(Qa).get(MT(t));return await n.done,i}catch(e){if(e instanceof bo)Vi.warn(e.message);else{const n=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function Nv(t,e){try{const i=(await OT()).transaction(Qa,"readwrite");await i.objectStore(Qa).put(e,MT(t)),await i.done}catch(n){if(n instanceof bo)Vi.warn(n.message);else{const i=pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(i.message)}}}function MT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=1024,fD=30;class pD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>fD){const o=_D(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Vi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dv(),{heartbeatsToSend:i,unsentEntries:r}=mD(this._heartbeatsCache.heartbeats),s=Ku(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vi.warn(n),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function mD(t,e=dD){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Ov(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ov(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class gD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xx()?Zx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ov(t){return Ku(JSON.stringify({version:2,heartbeats:t})).length}function _D(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){rs(new is("platform-logger",e=>new PN(e),"PRIVATE")),rs(new is("heartbeat",e=>new pD(e),"PRIVATE")),xi(nf,Pv,t),xi(nf,Pv,"esm2017"),xi("fire-js","")}vD("");var Mv={};const Lv="@firebase/database",Vv="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LT="";function yD(t){LT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Bt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ga(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Hi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ED(e)}}catch{}return new bD},Qr=VT("localStorage"),wD=VT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new $c("@firebase/database"),TD=function(){let t=1;return function(){return t++}}(),FT=function(t){const e=cN(t),n=new sN;n.update(e);const i=n.digest();return Ap.encodeByteArray(i)},ml=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=ml.apply(null,i):typeof i=="object"?e+=Bt(i):e+=i,e+=" "}return e};let Ta=null,Fv=!0;const ID=function(t,e){he(!0,"Can't turn on custom loggers persistently."),Gs.logLevel=Ve.VERBOSE,Ta=Gs.log.bind(Gs)},Xt=function(...t){if(Fv===!0&&(Fv=!1,Ta===null&&wD.get("logging_enabled")===!0&&ID()),Ta){const e=ml.apply(null,t);Ta(e)}},gl=function(t){return function(...e){Xt(t,...e)}},of=function(...t){const e="FIREBASE INTERNAL ERROR: "+ml(...t);Gs.error(e)},Fi=function(...t){const e=`FIREBASE FATAL ERROR: ${ml(...t)}`;throw Gs.error(e),new Error(e)},En=function(...t){const e="FIREBASE WARNING: "+ml(...t);Gs.warn(e)},CD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&En("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qT=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},SD=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},so="[MIN_NAME]",ss="[MAX_NAME]",To=function(t,e){if(t===e)return 0;if(t===so||e===ss)return-1;if(e===so||t===ss)return 1;{const n=qv(t),i=qv(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},AD=function(t,e){return t===e?0:t<e?-1:1},Qo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Bt(e))},Dp=function(t){if(typeof t!="object"||t===null)return Bt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Bt(e[i]),n+=":",n+=Dp(t[e[i]]);return n+="}",n},BT=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Mn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const UT=function(t){he(!qT(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const h=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(h.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},RD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},PD=new RegExp("^-?(0*)\\d{1,10}$"),xD=-2147483648,ND=2147483647,qv=function(t){if(PD.test(t)){const e=Number(t);if(e>=xD&&e<=ND)return e}return null},_l=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw En("Exception was thrown by user callback.",n),e},Math.floor(0))}},DD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ia=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Rn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){En(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',En(e)}}class vu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}vu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="5",$T="v",jT="s",HT="r",zT="f",WT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,KT="ls",GT="p",af="ac",QT="websocket",YT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function LD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function XT(t,e,n){he(typeof e=="string","typeof type must == string"),he(typeof n=="object","typeof params must == object");let i;if(e===QT)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===YT)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);LD(t)&&(n.ns=t.namespace);const r=[];return Mn(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.counters_={}}incrementCounter(e,n=1){Hi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Fx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd={},dd={};function Mp(t){const e=t.toString();return hd[e]||(hd[e]=new VD),hd[e]}function FD(t,e){const n=t.toString();return dd[n]||(dd[n]=e()),dd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&_l(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="start",BD="close",UD="pLPCommand",$D="pRTLPCB",ZT="id",e0="pw",t0="ser",jD="cb",HD="seg",zD="ts",WD="d",KD="dframe",n0=1870,i0=30,GD=n0-i0,QD=25e3,YD=3e4;class Fs{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gl(e),this.stats_=Mp(n),this.urlFn=l=>(this.appCheckToken&&(l[af]=this.appCheckToken),XT(n,YT,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new qD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(YD)),SD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Lp((...s)=>{const[o,a,l,c,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Bv)this.id=a,this.password=l;else if(o===BD)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Bv]="t",i[t0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[jD]=this.scriptTagHolder.uniqueCallbackIdentifier),i[$T]=Op,this.transportSessionId&&(i[jT]=this.transportSessionId),this.lastSessionId&&(i[KT]=this.lastSessionId),this.applicationId&&(i[GT]=this.applicationId),this.appCheckToken&&(i[af]=this.appCheckToken),typeof location<"u"&&location.hostname&&WT.test(location.hostname)&&(i[HT]=zT);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fs.forceAllow_=!0}static forceDisallow(){Fs.forceDisallow_=!0}static isAvailable(){return Fs.forceAllow_?!0:!Fs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!RD()&&!kD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Bt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=wT(n),r=BT(i,GD);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[KD]="t",i[ZT]=e,i[e0]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Bt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Lp{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=TD(),window[UD+this.uniqueCallbackIdentifier]=e,window[$D+this.uniqueCallbackIdentifier]=n,this.myIFrame=Lp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Xt("frame writing exception"),a.stack&&Xt(a.stack),Xt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ZT]=this.myID,e[e0]=this.myPW,e[t0]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+i0+i.length<=n0;){const o=this.pendingSegs.shift();i=i+"&"+HD+r+"="+o.seg+"&"+zD+r+"="+o.ts+"&"+WD+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(QD)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=16384,XD=45e3;let Ju=null;typeof MozWebSocket<"u"?Ju=MozWebSocket:typeof WebSocket<"u"&&(Ju=WebSocket);class Un{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gl(this.connId),this.stats_=Mp(n),this.connURL=Un.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[$T]=Op,typeof location<"u"&&location.hostname&&WT.test(location.hostname)&&(o[HT]=zT),n&&(o[jT]=n),i&&(o[KT]=i),r&&(o[af]=r),s&&(o[GT]=s),XT(e,QT,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qr.set("previous_websocket_failure",!0);try{let i;Jx(),this.mySock=new Ju(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Un.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ju!==null&&!Un.forceDisallow_}static previouslyFailed(){return Qr.isInMemoryStorage||Qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ga(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Bt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=BT(n,JD);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(XD))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Un.responsesRequiredToBeHealthy=2;Un.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static get ALL_TRANSPORTS(){return[Fs,Un]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Un&&Un.isAvailable();let i=n&&!Un.previouslyFailed();if(e.webSocketOnly&&(n||En("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Un];else{const r=this.transports_=[];for(const s of Ya.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Ya.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ya.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=6e4,eO=5e3,tO=10*1024,nO=100*1024,fd="t",Uv="d",iO="s",$v="r",rO="e",jv="o",Hv="a",zv="n",Wv="p",sO="h";class oO{constructor(e,n,i,r,s,o,a,l,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gl("c:"+this.id+":"),this.transportManager_=new Ya(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ia(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>nO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>tO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(fd in e){const n=e[fd];n===Hv?this.upgradeIfSecondaryHealthy_():n===$v?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qo("t",e),i=Qo("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Wv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Hv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qo("t",e),i=Qo("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qo(fd,e);if(Uv in e){const i=e[Uv];if(n===sO){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===zv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===iO?this.onConnectionShutdown_(i):n===$v?this.onReset_(i):n===rO?of("Server Error: "+i):n===jv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):of("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Op!==i&&En("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Ia(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ZD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ia(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(eO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Wv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.allowedEvents_=e,this.listeners_={},he(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){he(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends s0{static getInstance(){return new Xu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return he(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=32,Gv=768;class ht{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Je(){return new ht("")}function je(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function br(t){return t.pieces_.length-t.pieceNum_}function at(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ht(t.pieces_,e)}function o0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function aO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function a0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function l0(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ht(e,0)}function Pt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof ht)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ht(n,0)}function Ue(t){return t.pieceNum_>=t.pieces_.length}function Pn(t,e){const n=je(t),i=je(e);if(n===null)return e;if(n===i)return Pn(at(t),at(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function u0(t,e){if(br(t)!==br(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function $n(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(br(t)>br(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class lO{constructor(e,n){this.errorPrefix_=n,this.parts_=a0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Uc(this.parts_[i]);c0(this)}}function uO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Uc(e),c0(t)}function cO(t){const e=t.parts_.pop();t.byteLength_-=Uc(e),t.parts_.length>0&&(t.byteLength_-=1)}function c0(t){if(t.byteLength_>Gv)throw new Error(t.errorPrefix_+"has a key path longer than "+Gv+" bytes ("+t.byteLength_+").");if(t.parts_.length>Kv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Kv+") or object contains a cycle "+jr(t))}function jr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends s0{static getInstance(){return new Vp}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return he(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=1e3,hO=60*5*1e3,Qv=30*1e3,dO=1.3,fO=3e4,pO="server_kill",Yv=3;class Ni extends r0{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ni.nextPersistentConnectionId_++,this.log_=gl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yo,this.maxReconnectDelay_=hO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Xu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(Bt(s)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new kp,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Ni.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Hi(e,"w")){const i=ro(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();En(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||rN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=iN(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Bt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):of("Unrecognized action received from server: "+Bt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>fO&&(this.reconnectDelay_=Yo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*dO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ni.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){he(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Xt("getToken() completed but was canceled"):(Xt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new oO(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,m=>{En(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(pO)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&En(d),l())}}}interrupt(e){Xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Zd(this.interruptReasons_)&&(this.reconnectDelay_=Yo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>Dp(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new ht(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){Xt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Yv&&(this.reconnectDelay_=Qv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Xt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Yv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+LT.replace(/\./g,"-")]=1,Pp()?e["framework.cordova"]=1:RT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xu.getInstance().currentlyOnline();return Zd(this.interruptReasons_)&&e}}Ni.nextPersistentConnectionId_=0;Ni.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new He(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new He(so,e),r=new He(so,n);return this.compare(i,r)!==0}minPost(){return He.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru;class h0 extends Hc{static get __EMPTY_NODE(){return ru}static set __EMPTY_NODE(e){ru=e}compare(e,n){return To(e.name,n.name)}isDefinedOn(e){throw Eo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return He.MIN}maxPost(){return new He(ss,ru)}makePost(e,n){return he(typeof e=="string","KeyIndex indexValue must always be a string."),new He(e,ru)}toString(){return".key"}}const Qs=new h0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su=class{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},gn=class oa{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??oa.RED,this.left=r??li.EMPTY_NODE,this.right=s??li.EMPTY_NODE}copy(e,n,i,r,s){return new oa(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return li.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return li.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,oa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,oa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};gn.RED=!0;gn.BLACK=!1;class mO{copy(e,n,i,r,s){return this}insert(e,n,i){return new gn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let li=class yu{constructor(e,n=yu.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new yu(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,gn.BLACK,null,null))}remove(e){return new yu(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gn.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new su(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new su(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new su(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new su(this.root_,null,this.comparator_,!0,e)}};li.EMPTY_NODE=new mO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t,e){return To(t.name,e.name)}function Fp(t,e){return To(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf;function _O(t){lf=t}const d0=function(t){return typeof t=="number"?"number:"+UT(t):"string:"+t},f0=function(t){if(t.isLeafNode()){const e=t.val();he(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Hi(e,".sv"),"Priority must be a string or number.")}else he(t===lf||t.isEmpty(),"priority of unexpected type.");he(t===lf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv;class Rt{static set __childrenNodeConstructor(e){Jv=e}static get __childrenNodeConstructor(){return Jv}constructor(e,n=Rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),f0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ue(e)?this:je(e)===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=je(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(he(i!==".priority"||br(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(at(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+d0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=UT(this.value_):e+=this.value_,this.lazyHash_=FT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rt.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Rt.VALUE_TYPE_ORDER.indexOf(n),s=Rt.VALUE_TYPE_ORDER.indexOf(i);return he(r>=0,"Unknown leaf type: "+n),he(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p0,m0;function vO(t){p0=t}function yO(t){m0=t}class EO extends Hc{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?To(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return He.MIN}maxPost(){return new He(ss,new Rt("[PRIORITY-POST]",m0))}makePost(e,n){const i=p0(e);return new He(n,new Rt("[PRIORITY-POST]",i))}toString(){return".priority"}}const tn=new EO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=Math.log(2);class wO{constructor(e){const n=s=>parseInt(Math.log(s)/bO,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zu=function(t,e,n,i){t.sort(e);const r=function(l,c){const h=c-l;let d,f;if(h===0)return null;if(h===1)return d=t[l],f=n?n(d):d,new gn(f,d.node,gn.BLACK,null,null);{const m=parseInt(h/2,10)+l,_=r(l,m),k=r(m+1,c);return d=t[m],f=n?n(d):d,new gn(f,d.node,gn.BLACK,_,k)}},s=function(l){let c=null,h=null,d=t.length;const f=function(_,k){const P=d-_,L=d;d-=_;const T=r(P+1,L),C=t[P],A=n?n(C):C;m(new gn(A,C.node,k,null,T))},m=function(_){c?(c.left=_,c=_):(h=_,c=_)};for(let _=0;_<l.count;++_){const k=l.nextBitIsOne(),P=Math.pow(2,l.count-(_+1));k?f(P,gn.BLACK):(f(P,gn.BLACK),f(P,gn.RED))}return h},o=new wO(t.length),a=s(o);return new li(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd;const ks={};class Ri{static get Default(){return he(ks&&tn,"ChildrenNode.ts has not been loaded"),pd=pd||new Ri({".priority":ks},{".priority":tn}),pd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ro(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof li?n:null}hasIndex(e){return Hi(this.indexSet_,e.toString())}addIndex(e,n){he(e!==Qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(He.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=Zu(i,e.getCompare()):a=ks;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const h=Object.assign({},this.indexes_);return h[l]=a,new Ri(h,c)}addToIndexes(e,n){const i=Qu(this.indexes_,(r,s)=>{const o=ro(this.indexSet_,s);if(he(o,"Missing index implementation for "+s),r===ks)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(He.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Zu(a,o.getCompare())}else return ks;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new He(e.name,a))),l.insert(e,e.node)}});return new Ri(i,this.indexSet_)}removeFromIndexes(e,n){const i=Qu(this.indexes_,r=>{if(r===ks)return r;{const s=n.get(e.name);return s?r.remove(new He(e.name,s)):r}});return new Ri(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo;class Qe{static get EMPTY_NODE(){return Jo||(Jo=new Qe(new li(Fp),null,Ri.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&f0(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jo}updatePriority(e){return this.children_.isEmpty()?this:new Qe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Jo:n}}getChild(e){const n=je(e);return n===null?this:this.getImmediateChild(n).getChild(at(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(he(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new He(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Jo:this.priorityNode_;return new Qe(r,o,s)}}updateChild(e,n){const i=je(e);if(i===null)return n;{he(je(e)!==".priority"||br(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(at(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(tn,(o,a)=>{n[o]=a.val(e),i++,s&&Qe.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+d0(this.getPriority().val())+":"),this.forEachChild(tn,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":FT(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new He(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new He(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new He(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,He.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,He.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vl?-1:0}withIndex(e){if(e===Qs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Qe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Qs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(tn),r=n.getIterator(tn);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Qs?null:this.indexMap_.get(e.toString())}}Qe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class TO extends Qe{constructor(){super(new li(Fp),Qe.EMPTY_NODE,Ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Qe.EMPTY_NODE}isEmpty(){return!1}}const vl=new TO;Object.defineProperties(He,{MIN:{value:new He(so,Qe.EMPTY_NODE)},MAX:{value:new He(ss,vl)}});h0.__EMPTY_NODE=Qe.EMPTY_NODE;Rt.__childrenNodeConstructor=Qe;_O(vl);yO(vl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=!0;function Zt(t,e=null){if(t===null)return Qe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),he(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Rt(n,Zt(e))}if(!(t instanceof Array)&&IO){const n=[];let i=!1;if(Mn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Zt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new He(o,l)))}}),n.length===0)return Qe.EMPTY_NODE;const s=Zu(n,gO,o=>o.name,Fp);if(i){const o=Zu(n,tn.getCompare());return new Qe(s,Zt(e),new Ri({".priority":o},{".priority":tn}))}else return new Qe(s,Zt(e),Ri.Default)}else{let n=Qe.EMPTY_NODE;return Mn(t,(i,r)=>{if(Hi(t,i)&&i.substring(0,1)!=="."){const s=Zt(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Zt(e))}}vO(Zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO extends Hc{constructor(e){super(),this.indexPath_=e,he(!Ue(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?To(e.name,n.name):s}makePost(e,n){const i=Zt(e),r=Qe.EMPTY_NODE.updateChild(this.indexPath_,i);return new He(n,r)}maxPost(){const e=Qe.EMPTY_NODE.updateChild(this.indexPath_,vl);return new He(ss,e)}toString(){return a0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO extends Hc{compare(e,n){const i=e.node.compareTo(n.node);return i===0?To(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return He.MIN}maxPost(){return He.MAX}makePost(e,n){const i=Zt(e);return new He(n,i)}toString(){return".value"}}const AO=new SO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){return{type:"value",snapshotNode:t}}function kO(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function PO(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Xv(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function xO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:so}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ss}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tn}copy(){const e=new qp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Zv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===tn?n="$priority":t.index_===AO?n="$value":t.index_===Qs?n="$key":(he(t.index_ instanceof CO,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Bt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Bt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Bt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Bt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Bt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ey(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==tn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends r0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(he(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=gl("p:rest:"),this.listens_={}}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ec.getListenId_(e,i),a={};this.listens_[o]=a;const l=Zv(e._queryParams);this.restRequest_(s+".json",l,(c,h)=>{let d=h;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,i),ro(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",r(f,null)}})}unlisten(e,n){const i=ec.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Zv(e._queryParams),i=e._path.toString(),r=new kp;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wo(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ga(a.responseText)}catch{En("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&En("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.rootNode_=Qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(){return{value:null,children:new Map}}function g0(t,e,n){if(Ue(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=je(e);t.children.has(i)||t.children.set(i,tc());const r=t.children.get(i);e=at(e),g0(r,e,n)}}function uf(t,e,n){t.value!==null?n(e,t.value):DO(t,(i,r)=>{const s=new ht(e.toString()+"/"+i);uf(r,s,n)})}function DO(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Mn(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=10*1e3,MO=30*1e3,LO=5*60*1e3;class VO{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new OO(e);const i=ty+(MO-ty)*Math.random();Ia(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Mn(e,(r,s)=>{s>0&&Hi(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Ia(this.reportStats_.bind(this),Math.floor(Math.random()*2*LO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ui||(ui={}));function _0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function v0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function y0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=ui.ACK_USER_WRITE,this.source=_0()}operationForChild(e){if(Ue(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ht(e));return new nc(Je(),n,this.revert)}}else return he(je(this.path)===e,"operationForChild called for unrelated child."),new nc(at(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=ui.OVERWRITE}operationForChild(e){return Ue(this.path)?new os(this.source,Je(),this.snap.getImmediateChild(e)):new os(this.source,at(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=ui.MERGE}operationForChild(e){if(Ue(this.path)){const n=this.children.subtree(new ht(e));return n.isEmpty()?null:n.value?new os(this.source,Je(),n.value):new Ja(this.source,Je(),n)}else return he(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ja(this.source,at(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ue(e))return this.isFullyInitialized()&&!this.filtered_;const n=je(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function FO(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(xO(o.childName,o.snapshotNode))}),Xo(t,r,"child_removed",e,i,n),Xo(t,r,"child_added",e,i,n),Xo(t,r,"child_moved",s,i,n),Xo(t,r,"child_changed",e,i,n),Xo(t,r,"value",e,i,n),r}function Xo(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>BO(t,a,l)),o.forEach(a=>{const l=qO(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function qO(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function BO(t,e,n){if(e.childName==null||n.childName==null)throw Eo("Should only compare child_ events.");const i=new He(e.childName,e.snapshotNode),r=new He(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e){return{eventCache:t,serverCache:e}}function Ca(t,e,n,i){return E0(new Bp(e,n,i),t.serverCache)}function b0(t,e,n,i){return E0(t.eventCache,new Bp(e,n,i))}function cf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function as(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md;const UO=()=>(md||(md=new li(AD)),md);class ot{static fromObject(e){let n=new ot(null);return Mn(e,(i,r)=>{n=n.set(new ht(i),r)}),n}constructor(e,n=UO()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Je(),value:this.value};if(Ue(e))return null;{const i=je(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(at(e),n);return s!=null?{path:Pt(new ht(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ue(e))return this;{const n=je(e),i=this.children.get(n);return i!==null?i.subtree(at(e)):new ot(null)}}set(e,n){if(Ue(e))return new ot(n,this.children);{const i=je(e),s=(this.children.get(i)||new ot(null)).set(at(e),n),o=this.children.insert(i,s);return new ot(this.value,o)}}remove(e){if(Ue(e))return this.children.isEmpty()?new ot(null):new ot(null,this.children);{const n=je(e),i=this.children.get(n);if(i){const r=i.remove(at(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new ot(null):new ot(this.value,s)}else return this}}get(e){if(Ue(e))return this.value;{const n=je(e),i=this.children.get(n);return i?i.get(at(e)):null}}setTree(e,n){if(Ue(e))return n;{const i=je(e),s=(this.children.get(i)||new ot(null)).setTree(at(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new ot(this.value,o)}}fold(e){return this.fold_(Je(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Pt(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Je(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Ue(e))return null;{const s=je(e),o=this.children.get(s);return o?o.findOnPath_(at(e),Pt(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Je(),n)}foreachOnPath_(e,n,i){if(Ue(e))return this;{this.value&&i(n,this.value);const r=je(e),s=this.children.get(r);return s?s.foreachOnPath_(at(e),Pt(n,r),i):new ot(null)}}foreach(e){this.foreach_(Je(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Pt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.writeTree_=e}static empty(){return new zn(new ot(null))}}function Sa(t,e,n){if(Ue(e))return new zn(new ot(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=Pn(r,e);return s=s.updateChild(o,n),new zn(t.writeTree_.set(r,s))}else{const r=new ot(n),s=t.writeTree_.setTree(e,r);return new zn(s)}}}function ny(t,e,n){let i=t;return Mn(n,(r,s)=>{i=Sa(i,Pt(e,r),s)}),i}function iy(t,e){if(Ue(e))return zn.empty();{const n=t.writeTree_.setTree(e,new ot(null));return new zn(n)}}function hf(t,e){return ps(t,e)!=null}function ps(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pn(n.path,e)):null}function ry(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(tn,(i,r)=>{e.push(new He(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new He(i,r.value))}),e}function mr(t,e){if(Ue(e))return t;{const n=ps(t,e);return n!=null?new zn(new ot(n)):new zn(t.writeTree_.subtree(e))}}function df(t){return t.writeTree_.isEmpty()}function oo(t,e){return w0(Je(),t.writeTree_,e)}function w0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(he(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=w0(Pt(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Pt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t,e){return R0(e,t)}function $O(t,e,n,i,r){he(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Sa(t.visibleWrites,e,n)),t.lastWriteId=i}function jO(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function HO(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);he(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&zO(a,i.path)?r=!1:$n(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return WO(t),!0;if(i.snap)t.visibleWrites=iy(t.visibleWrites,i.path);else{const a=i.children;Mn(a,l=>{t.visibleWrites=iy(t.visibleWrites,Pt(i.path,l))})}return!0}else return!1}function zO(t,e){if(t.snap)return $n(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&$n(Pt(t.path,n),e))return!0;return!1}function WO(t){t.visibleWrites=I0(t.allWrites,KO,Je()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function KO(t){return t.visible}function I0(t,e,n){let i=zn.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)$n(n,o)?(a=Pn(n,o),i=Sa(i,a,s.snap)):$n(o,n)&&(a=Pn(o,n),i=Sa(i,Je(),s.snap.getChild(a)));else if(s.children){if($n(n,o))a=Pn(n,o),i=ny(i,a,s.children);else if($n(o,n))if(a=Pn(o,n),Ue(a))i=ny(i,Je(),s.children);else{const l=ro(s.children,je(a));if(l){const c=l.getChild(at(a));i=Sa(i,Je(),c)}}}else throw Eo("WriteRecord should have .snap or .children")}}return i}function C0(t,e,n,i,r){if(!i&&!r){const s=ps(t.visibleWrites,e);if(s!=null)return s;{const o=mr(t.visibleWrites,e);if(df(o))return n;if(n==null&&!hf(o,Je()))return null;{const a=n||Qe.EMPTY_NODE;return oo(o,a)}}}else{const s=mr(t.visibleWrites,e);if(!r&&df(s))return n;if(!r&&n==null&&!hf(s,Je()))return null;{const o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&($n(c.path,e)||$n(e,c.path))},a=I0(t.allWrites,o,e),l=n||Qe.EMPTY_NODE;return oo(a,l)}}}function GO(t,e,n){let i=Qe.EMPTY_NODE;const r=ps(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(tn,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=mr(t.visibleWrites,e);return n.forEachChild(tn,(o,a)=>{const l=oo(mr(s,new ht(o)),a);i=i.updateImmediateChild(o,l)}),ry(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=mr(t.visibleWrites,e);return ry(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function QO(t,e,n,i,r){he(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Pt(e,n);if(hf(t.visibleWrites,s))return null;{const o=mr(t.visibleWrites,s);return df(o)?r.getChild(n):oo(o,r.getChild(n))}}function YO(t,e,n,i){const r=Pt(e,n),s=ps(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=mr(t.visibleWrites,r);return oo(o,i.getNode().getImmediateChild(n))}else return null}function JO(t,e){return ps(t.visibleWrites,e)}function XO(t,e,n,i,r,s,o){let a;const l=mr(t.visibleWrites,e),c=ps(l,Je());if(c!=null)a=c;else if(n!=null)a=oo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const h=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let m=f.getNext();for(;m&&h.length<r;)d(m,i)!==0&&h.push(m),m=f.getNext();return h}else return[]}function ZO(){return{visibleWrites:zn.empty(),allWrites:[],lastWriteId:-1}}function ff(t,e,n,i){return C0(t.writeTree,t.treePath,e,n,i)}function S0(t,e){return GO(t.writeTree,t.treePath,e)}function sy(t,e,n,i){return QO(t.writeTree,t.treePath,e,n,i)}function ic(t,e){return JO(t.writeTree,Pt(t.treePath,e))}function eM(t,e,n,i,r,s){return XO(t.writeTree,t.treePath,e,n,i,r,s)}function Up(t,e,n){return YO(t.writeTree,t.treePath,e,n)}function A0(t,e){return R0(Pt(t.treePath,e),t.writeTree)}function R0(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;he(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),he(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Xv(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,PO(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,kO(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Xv(i,e.snapshotNode,r.oldSnap));else throw Eo("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const k0=new nM;class $p{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Bp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Up(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:as(this.viewCache_),s=eM(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}function iM(t,e){he(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),he(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function rM(t,e,n,i,r){const s=new tM;let o,a;if(n.type===ui.OVERWRITE){const c=n;c.source.fromUser?o=pf(t,e,c.path,c.snap,i,r,s):(he(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Ue(c.path),o=rc(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===ui.MERGE){const c=n;c.source.fromUser?o=oM(t,e,c.path,c.children,i,r,s):(he(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=mf(t,e,c.path,c.children,i,r,a,s))}else if(n.type===ui.ACK_USER_WRITE){const c=n;c.revert?o=uM(t,e,c.path,i,r,s):o=aM(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===ui.LISTEN_COMPLETE)o=lM(t,e,n.path,i,s);else throw Eo("Unknown operation type: "+n.type);const l=s.getChanges();return sM(e,o,l),{viewCache:o,changes:l}}function sM(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=cf(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(RO(cf(e)))}}function P0(t,e,n,i,r,s){const o=e.eventCache;if(ic(i,n)!=null)return e;{let a,l;if(Ue(n))if(he(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=as(e),h=c instanceof Qe?c:Qe.EMPTY_NODE,d=S0(i,h);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=ff(i,as(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=je(n);if(c===".priority"){he(br(n)===1,"Can't have a priority with additional path components");const h=o.getNode();l=e.serverCache.getNode();const d=sy(i,n,h,l);d!=null?a=t.filter.updatePriority(h,d):a=o.getNode()}else{const h=at(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=sy(i,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(h,f):d=o.getNode().getImmediateChild(c)}else d=Up(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,h,r,s):a=o.getNode()}}return Ca(e,a,o.isFullyInitialized()||Ue(n),t.filter.filtersNodes())}}function rc(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const h=o?t.filter:t.filter.getIndexedFilter();if(Ue(n))c=h.updateFullNode(l.getNode(),i,null);else if(h.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,i);c=h.updateFullNode(l.getNode(),m,null)}else{const m=je(n);if(!l.isCompleteForPath(n)&&br(n)>1)return e;const _=at(n),P=l.getNode().getImmediateChild(m).updateChild(_,i);m===".priority"?c=h.updatePriority(l.getNode(),P):c=h.updateChild(l.getNode(),m,P,_,k0,null)}const d=b0(e,c,l.isFullyInitialized()||Ue(n),h.filtersNodes()),f=new $p(r,d,s);return P0(t,d,n,r,f,a)}function pf(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const h=new $p(r,e,s);if(Ue(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Ca(e,c,!0,t.filter.filtersNodes());else{const d=je(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Ca(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=at(n),m=a.getNode().getImmediateChild(d);let _;if(Ue(f))_=i;else{const k=h.getCompleteChild(d);k!=null?o0(f)===".priority"&&k.getChild(l0(f)).isEmpty()?_=k:_=k.updateChild(f,i):_=Qe.EMPTY_NODE}if(m.equals(_))l=e;else{const k=t.filter.updateChild(a.getNode(),d,_,f,h,o);l=Ca(e,k,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function oy(t,e){return t.eventCache.isCompleteForChild(e)}function oM(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{const h=Pt(n,l);oy(e,je(h))&&(a=pf(t,a,h,c,r,s,o))}),i.foreach((l,c)=>{const h=Pt(n,l);oy(e,je(h))||(a=pf(t,a,h,c,r,s,o))}),a}function ay(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function mf(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Ue(n)?c=i:c=new ot(null).setTree(n,i);const h=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(h.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),_=ay(t,m,f);l=rc(t,l,new ht(d),_,r,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const m=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!h.hasChild(d)&&!m){const _=e.serverCache.getNode().getImmediateChild(d),k=ay(t,_,f);l=rc(t,l,new ht(d),k,r,s,o,a)}}),l}function aM(t,e,n,i,r,s,o){if(ic(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(Ue(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return rc(t,e,n,l.getNode().getChild(n),r,s,a,o);if(Ue(n)){let c=new ot(null);return l.getNode().forEachChild(Qs,(h,d)=>{c=c.set(new ht(h),d)}),mf(t,e,n,c,r,s,a,o)}else return e}else{let c=new ot(null);return i.foreach((h,d)=>{const f=Pt(n,h);l.isCompleteForPath(f)&&(c=c.set(h,l.getNode().getChild(f)))}),mf(t,e,n,c,r,s,a,o)}}function lM(t,e,n,i,r){const s=e.serverCache,o=b0(e,s.getNode(),s.isFullyInitialized()||Ue(n),s.isFiltered());return P0(t,o,n,i,k0,r)}function uM(t,e,n,i,r,s){let o;if(ic(i,n)!=null)return e;{const a=new $p(i,e,r),l=e.eventCache.getNode();let c;if(Ue(n)||je(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=ff(i,as(e));else{const d=e.serverCache.getNode();he(d instanceof Qe,"serverChildren would be complete if leaf node"),h=S0(i,d)}h=h,c=t.filter.updateFullNode(l,h,s)}else{const h=je(n);let d=Up(i,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),d!=null?c=t.filter.updateChild(l,h,d,at(n),a,s):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(l,h,Qe.EMPTY_NODE,at(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ff(i,as(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||ic(i,Je())!=null,Ca(e,c,o,t.filter.filtersNodes())}}function cM(t,e){const n=as(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ue(e)&&!n.getImmediateChild(je(e)).isEmpty())?n.getChild(e):null}function ly(t,e,n,i){e.type===ui.MERGE&&e.source.queryId!==null&&(he(as(t.viewCache_),"We should always have a full cache before handling merges"),he(cf(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=rM(t.processor_,r,e,n,i);return iM(t.processor_,s.viewCache),he(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,hM(t,s.changes,s.viewCache.eventCache.getNode())}function hM(t,e,n,i){const r=t.eventRegistrations_;return FO(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uy;function dM(t){he(!uy,"__referenceConstructor has already been defined"),uy=t}function jp(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return he(s!=null,"SyncTree gave us an op for an invalid query."),ly(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(ly(o,e,n,i));return s}}function Hp(t,e){let n=null;for(const i of t.views.values())n=n||cM(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy;function fM(t){he(!cy,"__referenceConstructor has already been defined"),cy=t}class hy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ot(null),this.pendingWriteTree_=ZO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pM(t,e,n,i,r){return $O(t.pendingWriteTree_,e,n,i,r),r?Wc(t,new os(_0(),e,n)):[]}function qs(t,e,n=!1){const i=jO(t.pendingWriteTree_,e);if(HO(t.pendingWriteTree_,e)){let s=new ot(null);return i.snap!=null?s=s.set(Je(),!0):Mn(i.children,o=>{s=s.set(new ht(o),!0)}),Wc(t,new nc(i.path,s,n))}else return[]}function zc(t,e,n){return Wc(t,new os(v0(),e,n))}function mM(t,e,n){const i=ot.fromObject(n);return Wc(t,new Ja(v0(),e,i))}function gM(t,e,n,i){const r=O0(t,i);if(r!=null){const s=M0(r),o=s.path,a=s.queryId,l=Pn(o,e),c=new os(y0(a),l,n);return L0(t,o,c)}else return[]}function _M(t,e,n,i){const r=O0(t,i);if(r){const s=M0(r),o=s.path,a=s.queryId,l=Pn(o,e),c=ot.fromObject(n),h=new Ja(y0(a),l,c);return L0(t,o,h)}else return[]}function x0(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Pn(o,e),c=Hp(a,l);if(c)return c});return C0(r,e,s,n,!0)}function Wc(t,e){return N0(e,t.syncPointTree_,null,T0(t.pendingWriteTree_,Je()))}function N0(t,e,n,i){if(Ue(t.path))return D0(t,e,n,i);{const r=e.get(Je());n==null&&r!=null&&(n=Hp(r,Je()));let s=[];const o=je(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,h=A0(i,o);s=s.concat(N0(a,l,c,h))}return r&&(s=s.concat(jp(r,t,i,n))),s}}function D0(t,e,n,i){const r=e.get(Je());n==null&&r!=null&&(n=Hp(r,Je()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=A0(i,o),h=t.operationForChild(o);h&&(s=s.concat(D0(h,a,l,c)))}),r&&(s=s.concat(jp(r,t,i,n))),s}function O0(t,e){return t.tagToQueryMap.get(e)}function M0(t){const e=t.indexOf("$");return he(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ht(t.substr(0,e))}}function L0(t,e,n){const i=t.syncPointTree_.get(e);he(i,"Missing sync point for query tag that we're tracking");const r=T0(t.pendingWriteTree_,e);return jp(i,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new zp(n)}node(){return this.node_}}class Wp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Pt(this.path_,e);return new Wp(this.syncTree_,n)}node(){return x0(this.syncTree_,this.path_)}}const vM=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},dy=function(t,e,n){if(!t||typeof t!="object")return t;if(he(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return yM(t[".sv"],e,n);if(typeof t[".sv"]=="object")return EM(t[".sv"],e);he(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},yM=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:he(!1,"Unexpected server value: "+t)}},EM=function(t,e,n){t.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&he(!1,"Unexpected increment value: "+i);const r=e.node();if(he(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},bM=function(t,e,n,i){return Kp(e,new Wp(n,t),i)},wM=function(t,e,n){return Kp(t,new zp(e),n)};function Kp(t,e,n){const i=t.getPriority().val(),r=dy(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=dy(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Rt(a,Zt(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Rt(r))),o.forEachChild(tn,(a,l)=>{const c=Kp(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Qp(t,e){let n=e instanceof ht?e:new ht(e),i=t,r=je(n);for(;r!==null;){const s=ro(i.node.children,r)||{children:{},childCount:0};i=new Gp(r,i,s),n=at(n),r=je(n)}return i}function Io(t){return t.node.value}function V0(t,e){t.node.value=e,gf(t)}function F0(t){return t.node.childCount>0}function TM(t){return Io(t)===void 0&&!F0(t)}function Kc(t,e){Mn(t.node.children,(n,i)=>{e(new Gp(n,t,i))})}function q0(t,e,n,i){n&&e(t),Kc(t,r=>{q0(r,e,!0)})}function IM(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function yl(t){return new ht(t.parent===null?t.name:yl(t.parent)+"/"+t.name)}function gf(t){t.parent!==null&&CM(t.parent,t.name,t)}function CM(t,e,n){const i=TM(n),r=Hi(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,gf(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,gf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=/[\[\].#$\/\u0000-\u001F\u007F]/,AM=/[\[\].#$\u0000-\u001F\u007F]/,gd=10*1024*1024,B0=function(t){return typeof t=="string"&&t.length!==0&&!SM.test(t)},RM=function(t){return typeof t=="string"&&t.length!==0&&!AM.test(t)},kM=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),RM(t)},U0=function(t,e,n){const i=n instanceof ht?new lO(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+jr(i));if(typeof e=="function")throw new Error(t+"contains a function "+jr(i)+" with contents = "+e.toString());if(qT(e))throw new Error(t+"contains "+e.toString()+" "+jr(i));if(typeof e=="string"&&e.length>gd/3&&Uc(e)>gd)throw new Error(t+"contains a string greater than "+gd+" utf8 bytes "+jr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Mn(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!B0(o)))throw new Error(t+" contains an invalid key ("+o+") "+jr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);uO(i,o),U0(t,a,i),cO(i)}),r&&s)throw new Error(t+' contains ".value" child '+jr(i)+" in addition to actual children.")}},PM=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!B0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!kM(n))throw new Error(uN(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function NM(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!u0(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function ms(t,e,n){NM(t,n),DM(t,i=>$n(i,e)||$n(e,i))}function DM(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(OM(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function OM(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Ta&&Xt("event: "+n.toString()),_l(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="repo_interrupt",LM=25;class VM{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tc(),this.transactionQueueTree_=new Gp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function FM(t,e,n){if(t.stats_=Mp(t.repoInfo_),t.forceRestClient_||DD())t.server_=new ec(t.repoInfo_,(i,r,s,o)=>{fy(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>py(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Bt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Ni(t.repoInfo_,e,(i,r,s,o)=>{fy(t,i,r,s,o)},i=>{py(t,i)},i=>{BM(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=FD(t.repoInfo_,()=>new VO(t.stats_,t.server_)),t.infoData_=new NO,t.infoSyncTree_=new hy({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=zc(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Yp(t,"connected",!1),t.serverSyncTree_=new hy({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);ms(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function qM(t){const n=t.infoData_.getNode(new ht(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $0(t){return vM({timestamp:qM(t)})}function fy(t,e,n,i,r){t.dataUpdateCount++;const s=new ht(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=Qu(n,c=>Zt(c));o=_M(t.serverSyncTree_,s,l,r)}else{const l=Zt(n);o=gM(t.serverSyncTree_,s,l,r)}else if(i){const l=Qu(n,c=>Zt(c));o=mM(t.serverSyncTree_,s,l)}else{const l=Zt(n);o=zc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Xp(t,s)),ms(t.eventQueue_,a,o)}function py(t,e){Yp(t,"connected",e),e===!1&&$M(t)}function BM(t,e){Mn(e,(n,i)=>{Yp(t,n,i)})}function Yp(t,e,n){const i=new ht("/.info/"+e),r=Zt(n);t.infoData_.updateSnapshot(i,r);const s=zc(t.infoSyncTree_,i,r);ms(t.eventQueue_,i,s)}function UM(t){return t.nextWriteId_++}function $M(t){j0(t,"onDisconnectEvents");const e=$0(t),n=tc();uf(t.onDisconnect_,Je(),(r,s)=>{const o=bM(r,s,t.serverSyncTree_,e);g0(n,r,o)});let i=[];uf(n,Je(),(r,s)=>{i=i.concat(zc(t.serverSyncTree_,r,s));const o=WM(t,r);Xp(t,o)}),t.onDisconnect_=tc(),ms(t.eventQueue_,Je(),i)}function jM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(MM)}function j0(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Xt(n,...e)}function H0(t,e,n){return x0(t.serverSyncTree_,e,n)||Qe.EMPTY_NODE}function Jp(t,e=t.transactionQueueTree_){if(e||Gc(t,e),Io(e)){const n=W0(t,e);he(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&HM(t,yl(e),n)}else F0(e)&&Kc(e,n=>{Jp(t,n)})}function HM(t,e,n){const i=n.map(c=>c.currentWriteId),r=H0(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const h=n[c];he(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=Pn(e,h.path);s=s.updateChild(d,h.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{j0(t,"transaction put response",{path:l.toString(),status:c});let h=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(qs(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Gc(t,Qp(t.transactionQueueTree_,e)),Jp(t,t.transactionQueueTree_),ms(t.eventQueue_,e,h);for(let f=0;f<d.length;f++)_l(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{En("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Xp(t,e)}},o)}function Xp(t,e){const n=z0(t,e),i=yl(n),r=W0(t,n);return zM(t,r,i),i}function zM(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Pn(n,l.path);let h=!1,d;if(he(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,d=l.abortReason,r=r.concat(qs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=LM)h=!0,d="maxretry",r=r.concat(qs(t.serverSyncTree_,l.currentWriteId,!0));else{const f=H0(t,l.path,o);l.currentInputSnapshot=f;const m=e[a].update(f.val());if(m!==void 0){U0("transaction failed: Data returned ",m,l.path);let _=Zt(m);typeof m=="object"&&m!=null&&Hi(m,".priority")||(_=_.updatePriority(f.getPriority()));const P=l.currentWriteId,L=$0(t),T=wM(_,f,L);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=T,l.currentWriteId=UM(t),o.splice(o.indexOf(P),1),r=r.concat(pM(t.serverSyncTree_,l.path,T,l.currentWriteId,l.applyLocally)),r=r.concat(qs(t.serverSyncTree_,P,!0))}else h=!0,d="nodata",r=r.concat(qs(t.serverSyncTree_,l.currentWriteId,!0))}ms(t.eventQueue_,n,r),r=[],h&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}Gc(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)_l(i[a]);Jp(t,t.transactionQueueTree_)}function z0(t,e){let n,i=t.transactionQueueTree_;for(n=je(e);n!==null&&Io(i)===void 0;)i=Qp(i,n),e=at(e),n=je(e);return i}function W0(t,e){const n=[];return K0(t,e,n),n.sort((i,r)=>i.order-r.order),n}function K0(t,e,n){const i=Io(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Kc(e,r=>{K0(t,r,n)})}function Gc(t,e){const n=Io(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,V0(e,n.length>0?n:void 0)}Kc(e,i=>{Gc(t,i)})}function WM(t,e){const n=yl(z0(t,e)),i=Qp(t.transactionQueueTree_,e);return IM(i,r=>{_d(t,r)}),_d(t,i),q0(i,r=>{_d(t,r)}),n}function _d(t,e){const n=Io(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(he(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(he(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(qs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?V0(e,void 0):n.length=s+1,ms(t.eventQueue_,yl(e),r);for(let o=0;o<i.length;o++)_l(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function GM(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):En(`Invalid query segment '${n}' in query '${t}'`)}return e}const my=function(t,e){const n=QM(t),i=n.namespace;n.domain==="firebase.com"&&Fi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||CD();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new JT(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new ht(n.pathString)}},QM=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(r=KM(t.substring(h,d)));const f=GM(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const _=e.indexOf(".");i=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=i}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Ue(this._path)?null:o0(this._path)}get ref(){return new Co(this._repo,this._path)}get _queryIdentifier(){const e=ey(this._queryParams),n=Dp(e);return n==="{}"?"default":n}get _queryObject(){return ey(this._queryParams)}isEqual(e){if(e=Ln(e),!(e instanceof Zp))return!1;const n=this._repo===e._repo,i=u0(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+aO(this._path)}}class Co extends Zp{constructor(e,n){super(e,n,new qp,!1)}get parent(){const e=l0(this._path);return e===null?null:new Co(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}dM(Co);fM(Co);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="FIREBASE_DATABASE_EMULATOR_HOST",_f={};let JM=!1;function XM(t,e,n,i){const r=e.lastIndexOf(":"),s=e.substring(0,r),o=fl(s);t.repoInfo_=new JT(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function ZM(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||Fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=my(s,r),a=o.repoInfo,l;typeof process<"u"&&Mv&&(l=Mv[YM]),l?(s=`http://${l}?ns=${a.namespace}`,o=my(s,r),a=o.repoInfo):o.repoInfo.secure;const c=new MD(t.name,t.options,e);PM("Invalid Firebase Database URL",o),Ue(o.path)||Fi("Database URL must point to the root of a Firebase Database (not including a child path).");const h=tL(a,t,c,new OD(t,n));return new nL(h,t)}function eL(t,e){const n=_f[e];(!n||n[t.key]!==t)&&Fi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),jM(t),delete n[t.key]}function tL(t,e,n,i){let r=_f[e.name];r||(r={},_f[e.name]=r);let s=r[t.toURLString()];return s&&Fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new VM(t,JM,n,i),r[t.toURLString()]=s,s}class nL{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(FM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,Bc("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Co(this._repo,Je())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Fi("Cannot call "+e+" on a deleted database.")}}function iL(t=Np(),e){const n=jc(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Hx("database");i&&rL(n,...i)}return n}function rL(t,e,n,i={}){t=Ln(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&ns(i,s.repoInfo_.emulatorOptions))return;Fi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Fi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new vu(vu.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:zx(i.mockUserToken,t.app.options.projectId);o=new vu(a)}fl(e)&&(AT(e),Bc("Database",!0)),XM(s,r,i,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){yD(fs),rs(new is("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return ZM(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),xi(Lv,Vv,t),xi(Lv,Vv,"esm2017")}Ni.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ni.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sL();function em(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oL=G0,Q0=new pl("auth","Firebase",G0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new $c("@firebase/auth");function aL(t,...e){sc.logLevel<=Ve.WARN&&sc.warn(`Auth (${fs}): ${t}`,...e)}function Eu(t,...e){sc.logLevel<=Ve.ERROR&&sc.error(`Auth (${fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw tm(t,...e)}function hi(t,...e){return tm(t,...e)}function Y0(t,e,n){const i=Object.assign(Object.assign({},oL()),{[e]:n});return new pl("auth","Firebase",i).create(e,{appName:t.name})}function gr(t){return Y0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tm(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Q0.create(t,...e)}function Ce(t,e,...n){if(!t)throw tm(e,...n)}function ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eu(e),new Error(e)}function qi(t,e){t||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lL(){return gy()==="http:"||gy()==="https:"}function gy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lL()||Qx()||"connection"in navigator)?navigator.onLine:!0}function cL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=Pp()||RT()}get(){return uL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fL=new El(3e4,6e4);function gs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zi(t,e,n,i,r={}){return X0(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=wo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return Gx()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&fl(t.emulatorConfig.host)&&(c.credentials="include"),J0.fetch()(await Z0(t,t.config.apiHost,n,a),c)})}async function X0(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},hL),e);try{const r=new mL(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ou(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ou(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ou(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ou(t,"user-disabled",o);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Y0(t,h,c);Qn(t,h)}}catch(r){if(r instanceof bo)throw r;Qn(t,"network-request-failed",{message:String(r)})}}async function Qc(t,e,n,i,r={}){const s=await zi(t,e,n,i,r);return"mfaPendingCredential"in s&&Qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Z0(t,e,n,i){const r=`${e}${n}?${i}`,s=t,o=s.config.emulator?nm(t.config,r):`${t.config.apiScheme}://${r}`;return dL.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function pL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(hi(this.auth,"network-request-failed")),fL.get())})}}function ou(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=hi(t,e,i);return r.customData._tokenResponse=n,r}function _y(t){return t!==void 0&&t.enterprise!==void 0}class gL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _L(t,e){return zi(t,"GET","/v2/recaptchaConfig",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e){return zi(t,"POST","/v1/accounts:delete",e)}async function oc(t,e){return zi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yL(t,e=!1){const n=Ln(t),i=await n.getIdToken(e),r=im(i);Ce(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Aa(vd(r.auth_time)),issuedAtTime:Aa(vd(r.iat)),expirationTime:Aa(vd(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vd(t){return Number(t)*1e3}function im(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Eu("JWT malformed, contained fewer than 3 sections"),null;try{const r=Gu(n);return r?JSON.parse(r):(Eu("Failed to decode base64 JWT payload"),null)}catch(r){return Eu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function vy(t){const e=im(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof bo&&EL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function EL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){var e;const n=t.auth,i=await t.getIdToken(),r=await ao(t,oc(n,{idToken:i}));Ce(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eI(s.providerUserInfo):[],a=TL(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yf(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function wL(t){const e=Ln(t);await ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TL(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function eI(t){return t.map(e=>{var{providerId:n}=e,i=em(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t,e){const n=await X0(t,{},async()=>{const i=wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=await Z0(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",J0.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CL(t,e){return zi(t,"POST","/v2/accounts:revokeToken",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=vy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await IL(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Ys;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Ce(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ys,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class jn{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=em(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ao(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yL(this,e)}reload(){return wL(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ac(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await ao(this,vL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,h;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,L=(c=n.createdAt)!==null&&c!==void 0?c:void 0,T=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:A,isAnonymous:O,providerData:B,stsTokenManager:S}=n;Ce(C&&S,e,"internal-error");const E=Ys.fromJSON(this.name,S);Ce(typeof C=="string",e,"internal-error"),Ji(d,e.name),Ji(f,e.name),Ce(typeof A=="boolean",e,"internal-error"),Ce(typeof O=="boolean",e,"internal-error"),Ji(m,e.name),Ji(_,e.name),Ji(k,e.name),Ji(P,e.name),Ji(L,e.name),Ji(T,e.name);const v=new jn({uid:C,auth:e,email:f,emailVerified:A,displayName:d,isAnonymous:O,photoURL:_,phoneNumber:m,tenantId:k,stsTokenManager:E,createdAt:L,lastLoginAt:T});return B&&Array.isArray(B)&&(v.providerData=B.map(b=>Object.assign({},b))),P&&(v._redirectEventId=P),v}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ys;r.updateFromServerResponse(n);const s=new jn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await ac(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Ce(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?eI(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Ys;a.updateFromIdToken(i);const l=new jn({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new yf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=new Map;function Pi(t){qi(t instanceof Function,"Expected a class definition");let e=yy.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tI.type="NONE";const Ey=tI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t,e,n){return`firebase:${t}:${e}:${n}`}class Js{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=bu(this.userKey,r.apiKey,s),this.fullPersistenceKey=bu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oc(this.auth,{idToken:e}).catch(()=>{});return n?jn._fromGetAccountInfoResponse(this.auth,n,e):null}return jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Js(Pi(Ey),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Pi(Ey);const o=bu(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const f=await oc(e,{idToken:h}).catch(()=>{});if(!f)break;d=await jn._fromGetAccountInfoResponse(e,f,h)}else d=jn._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Js(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Js(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aI(e))return"Blackberry";if(lI(e))return"Webos";if(iI(e))return"Safari";if((e.includes("chrome/")||rI(e))&&!e.includes("edge/"))return"Chrome";if(oI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function nI(t=un()){return/firefox\//i.test(t)}function iI(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rI(t=un()){return/crios\//i.test(t)}function sI(t=un()){return/iemobile/i.test(t)}function oI(t=un()){return/android/i.test(t)}function aI(t=un()){return/blackberry/i.test(t)}function lI(t=un()){return/webos/i.test(t)}function rm(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SL(t=un()){var e;return rm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AL(){return Yx()&&document.documentMode===10}function uI(t=un()){return rm(t)||oI(t)||lI(t)||aI(t)||/windows phone/i.test(t)||sI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t,e=[]){let n;switch(t){case"Browser":n=by(un());break;case"Worker":n=`${by(un())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e={}){return zi(t,"GET","/v2/passwordPolicy",gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=6;class xL{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:PL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wy(this),this.idTokenSubscription=new wy(this),this.beforeStateQueue=new RL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oc(this,{idToken:e}),i=await jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ac(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(gr(this));const n=e?Ln(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kL(this),n=new xL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await CL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function So(t){return Ln(t)}class wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=oN(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DL(t){Yc=t}function hI(t){return Yc.loadJS(t)}function OL(){return Yc.recaptchaEnterpriseScript}function ML(){return Yc.gapiScript}function LL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class VL{constructor(){this.enterprise=new FL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qL="recaptcha-enterprise",dI="NO_RECAPTCHA";class BL{constructor(e){this.type=qL,this.auth=So(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{_L(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new gL(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;_y(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(dI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VL().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&_y(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=OL();l.length!==0&&(l+=a),hI(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Ty(t,e,n,i=!1,r=!1){const s=new BL(t);let o;if(r)o=dI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Iy(t,e,n,i,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ty(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ty(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e){const n=jc(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ns(s,e??{}))return r;Qn(r,"already-initialized")}return n.initialize({options:e})}function $L(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function jL(t,e,n){const i=So(t);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=fI(e),{host:o,port:a}=HL(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(ns(c,i.config.emulator)&&ns(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,fl(o)?(Bc("Auth",!0),AT(`${s}//${o}${l}`)):zL()}function fI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HL(t){const e=fI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Cy(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:Cy(o)}}}function Cy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,n){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function WL(t,e){return zi(t,"POST","/v1/accounts:update",e)}async function KL(t,e){return zi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e){return Qc(t,"POST","/v1/accounts:signInWithPassword",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e){return Qc(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}async function YL(t,e){return Qc(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends sm{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Xa(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Xa(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iy(e,n,"signInWithPassword",GL);case"emailLink":return QL(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iy(e,i,"signUpPassword",KL);case"emailLink":return YL(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e){return Qc(t,"POST","/v1/accounts:signInWithIdp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="http://localhost";class ls extends sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=em(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new ls(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Xs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}buildRequest(){const e={requestUri:JL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZL(t){const e=ra(sa(t)).link,n=e?ra(sa(e)).deep_link_id:null,i=ra(sa(t)).deep_link_id;return(i?ra(sa(i)).link:null)||i||n||e||t}class om{constructor(e){var n,i,r,s,o,a;const l=ra(sa(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(i=l.oobCode)!==null&&i!==void 0?i:null,d=XL((r=l.mode)!==null&&r!==void 0?r:null);Ce(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=ZL(e);try{return new om(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return Xa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=om.parseLink(n);return Ce(i,"argument-error"),Xa._fromEmailAndCode(e,i.code,i.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends pI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends bl{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ls._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return or.credential(n,i)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends bl{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends bl{constructor(){super("twitter.com")}static credential(e,n){return ls._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return lr.credential(n,i)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await jn._fromIdTokenResponse(e,i,r),o=Sy(i);return new lo({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Sy(i);return new lo({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Sy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends bo{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,lc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new lc(e,n,i,r)}}function mI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lc._fromErrorAndOperation(t,s,e,i):s})}async function eV(t,e,n=!1){const i=await ao(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t,e,n=!1){const{auth:i}=t;if(Rn(i.app))return Promise.reject(gr(i));const r="reauthenticate";try{const s=await ao(t,mI(i,r,e,t),n);Ce(s.idToken,i,"internal-error");const o=im(s.idToken);Ce(o,i,"internal-error");const{sub:a}=o;return Ce(t.uid===a,i,"user-mismatch"),lo._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,e,n=!1){if(Rn(t.app))return Promise.reject(gr(t));const i="signIn",r=await mI(t,i,e),s=await lo._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function nV(t,e){return gI(So(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t){const e=So(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function rV(t,e,n){return Rn(t.app)?Promise.reject(gr(t)):nV(Ln(t),Ao.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&iV(t),i})}function sV(t,e){return oV(Ln(t),null,e)}async function oV(t,e,n){const{auth:i}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await ao(t,WL(i,s));await t._updateTokensIfNecessary(o,!0)}function aV(t,e,n,i){return Ln(t).onIdTokenChanged(e,n,i)}function lV(t,e,n){return Ln(t).beforeAuthStateChanged(e,n)}function uV(t,e,n,i){return Ln(t).onAuthStateChanged(e,n,i)}function cV(t){return Ln(t).signOut()}const uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=1e3,dV=10;class vI extends _I{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);AL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,dV):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},hV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vI.type="LOCAL";const fV=vI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends _I{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yI.type="SESSION";const EI=yI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Jc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await pV(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=am("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function gV(t){di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function _V(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yV(){return bI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firebaseLocalStorageDb",EV=1,cc="firebaseLocalStorage",TI="fbase_key";class wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xc(t,e){return t.transaction([cc],e?"readwrite":"readonly").objectStore(cc)}function bV(){const t=indexedDB.deleteDatabase(wI);return new wl(t).toPromise()}function Ef(){const t=indexedDB.open(wI,EV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(cc,{keyPath:TI})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(cc)?e(i):(i.close(),await bV(),e(await Ef()))})})}async function Ay(t,e,n){const i=Xc(t,!0).put({[TI]:e,value:n});return new wl(i).toPromise()}async function wV(t,e){const n=Xc(t,!1).get(e),i=await new wl(n).toPromise();return i===void 0?null:i.value}function Ry(t,e){const n=Xc(t,!0).delete(e);return new wl(n).toPromise()}const TV=800,IV=3;class II{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ef(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>IV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jc._getInstance(yV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _V(),!this.activeServiceWorker)return;this.sender=new mV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ef();return await Ay(e,uc,"1"),await Ry(e,uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ay(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>wV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ry(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Xc(r,!1).getAll();return new wl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}II.type="LOCAL";const CV=II;new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t,e){return e?Pi(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends sm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AV(t){return gI(t.auth,new lm(t),t.bypassAuthState)}function RV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),tV(n,new lm(t),t.bypassAuthState)}async function kV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),eV(n,new lm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AV;case"linkViaPopup":case"linkViaRedirect":return kV;case"reauthViaPopup":case"reauthViaRedirect":return RV;default:Qn(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new El(2e3,1e4);class Bs extends CI{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PV.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="pendingRedirect",wu=new Map;class NV extends CI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=wu.get(this.auth._key());if(!e){try{const i=await DV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}wu.set(this.auth._key(),e)}return this.bypassAuthState||wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DV(t,e){const n=LV(e),i=MV(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function OV(t,e){wu.set(t._key(),e)}function MV(t){return Pi(t._redirectPersistence)}function LV(t){return bu(xV,t.config.apiKey,t.name)}async function VV(t,e,n=!1){if(Rn(t.app))return Promise.reject(gr(t));const i=So(t),r=SV(i,e),o=await new NV(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=10*60*1e3;class qV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!SI(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FV&&this.cachedEventUids.clear(),this.cachedEventUids.has(ky(e))}saveEventToCache(e){this.cachedEventUids.add(ky(e)),this.lastProcessedEventTime=Date.now()}}function ky(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e={}){return zi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jV=/^https?/;async function HV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UV(t);for(const n of e)try{if(zV(n))return}catch{}Qn(t,"unauthorized-domain")}function zV(t){const e=vf(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!jV.test(n))return!1;if($V.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=new El(3e4,6e4);function Py(){const t=di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KV(t){return new Promise((e,n)=>{var i,r,s;function o(){Py(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Py(),n(hi(t,"network-request-failed"))},timeout:WV.get()})}if(!((r=(i=di().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=di().gapi)===null||s===void 0)&&s.load)o();else{const a=LL("iframefcb");return di()[a]=()=>{gapi.load?o():n(hi(t,"network-request-failed"))},hI(`${ML()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Tu=null,e})}let Tu=null;function GV(t){return Tu=Tu||KV(t),Tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=new El(5e3,15e3),YV="__/auth/iframe",JV="emulator/auth/iframe",XV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e2(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nm(e,JV):`https://${t.config.authDomain}/${YV}`,i={apiKey:e.apiKey,appName:t.name,v:fs},r=ZV.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${wo(i).slice(1)}`}async function t2(t){const e=await GV(t),n=di().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:e2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XV,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=hi(t,"network-request-failed"),a=di().setTimeout(()=>{s(o)},QV.get());function l(){di().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i2=500,r2=600,s2="_blank",o2="http://localhost";class xy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a2(t,e,n,i=i2,r=r2){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},n2),{width:i.toString(),height:r.toString(),top:s,left:o}),c=un().toLowerCase();n&&(a=rI(c)?s2:n),nI(c)&&(e=e||o2,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[m,_])=>`${f}${m}=${_},`,"");if(SL(c)&&a!=="_self")return l2(e||"",a),new xy(null);const d=window.open(e||"",a,h);Ce(d,t,"popup-blocked");try{d.focus()}catch{}return new xy(d)}function l2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="__/auth/handler",c2="emulator/auth/handler",h2=encodeURIComponent("fac");async function Ny(t,e,n,i,r,s){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:fs,eventId:r};if(e instanceof pI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Zd(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof bl){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${h2}=${encodeURIComponent(l)}`:"";return`${d2(t)}?${wo(a).slice(1)}${c}`}function d2({config:t}){return t.emulator?nm(t,c2):`https://${t.authDomain}/${u2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="webStorageSupport";class f2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EI,this._completeRedirectFn=VV,this._overrideRedirectResult=OV}async _openPopup(e,n,i,r){var s;qi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ny(e,n,i,vf(),r);return a2(e,o,am())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await Ny(e,n,i,vf(),r);return gV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(qi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await t2(e),i=new qV(e);return n.register("authEvent",r=>(Ce(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yd,{type:yd},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[yd];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uI()||iI()||rm()}}const p2=f2;var Dy="@firebase/auth",Oy="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _2(t){rs(new is("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cI(t)},c=new NL(i,r,s,l);return $L(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),rs(new is("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(i=>new m2(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(Dy,Oy,g2(t)),xi(Dy,Oy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=5*60,y2=ST("authIdTokenMaxAge")||v2;let My=null;const E2=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>y2)return;const r=n==null?void 0:n.token;My!==r&&(My=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function AI(t=Np()){const e=jc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UL(t,{popupRedirectResolver:p2,persistence:[CV,fV,EI]}),i=ST("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=E2(s.toString());lV(n,o,()=>o(n.currentUser)),aV(n,a=>o(a))}}const r=IT("auth");return r?jL(n,`http://${r}`):Bc("Auth",!1),n}function b2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=hi("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",b2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_2("Browser");const w2=()=>{};var Ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},T2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),i.push(n[h],n[d],n[f],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||d==null)throw new I2;const f=s<<2|a>>4;if(i.push(f),c!==64){const m=a<<4&240|c>>2;if(i.push(m),d!==64){const _=c<<6&192|d;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class I2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C2=function(t){const e=RI(t);return kI.encodeByteArray(e,!0)},Vy=function(t){return C2(t).replace(/\./g,"")},S2=function(t){try{return kI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=()=>A2().__FIREBASE_DEFAULTS__,k2=()=>{if(typeof process>"u"||typeof Ly>"u")return;const t=Ly.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&S2(t[1]);return e&&JSON.parse(e)},PI=()=>{try{return w2()||R2()||k2()||P2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x2=t=>{var e,n;return(n=(e=PI())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},N2=t=>{const e=x2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){return t.endsWith(".cloudworkstations.dev")}async function D2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vy(JSON.stringify(n)),Vy(JSON.stringify(o)),""].join(".")}const Ra={};function M2(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ra))Ra[e]?t.emulator.push(e):t.prod.push(e);return t}function L2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Fy=!1;function V2(t,e){if(typeof window>"u"||typeof document>"u"||!um(window.location.host)||Ra[t]===e||Ra[t]||Fy)return;Ra[t]=e;function n(f){return`__firebase__banner__${f}`}const i="__firebase__banner",s=M2().prod.length>0;function o(){const f=document.getElementById(i);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Fy=!0,o()},f}function h(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=L2(i),m=n("text"),_=document.getElementById(m)||document.createElement("span"),k=n("learnmore"),P=document.getElementById(k)||document.createElement("a"),L=n("preprendIcon"),T=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const C=f.element;a(C),h(P,k);const A=c();l(T,L),C.append(T,_,P,A),document.body.appendChild(C)}s?(_.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q2(){var t;const e=(t=PI())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B2(){return!q2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="FirebaseError";class Zc extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=U2,Object.setPrototypeOf(this,Zc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$2.prototype.create)}}class $2{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?j2(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Zc(r,a,i)}}function j2(t,e){return t.replace(H2,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const H2=/\{\$([^}]+)}/g;function xI(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(qy(s)&&qy(o)){if(!xI(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function qy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t){return t&&t._delegate?t._delegate:t}class z2{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}var By=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _r,NI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function v(){}v.prototype=E.prototype,S.D=E.prototype,S.prototype=new v,S.prototype.constructor=S,S.C=function(b,R,y){for(var I=Array(arguments.length-2),M=2;M<arguments.length;M++)I[M-2]=arguments[M];return E.prototype[R].apply(b,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,E,v){v||(v=0);var b=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)b[R]=E.charCodeAt(v++)|E.charCodeAt(v++)<<8|E.charCodeAt(v++)<<16|E.charCodeAt(v++)<<24;else for(R=0;16>R;++R)b[R]=E[v++]|E[v++]<<8|E[v++]<<16|E[v++]<<24;E=S.g[0],v=S.g[1],R=S.g[2];var y=S.g[3],I=E+(y^v&(R^y))+b[0]+3614090360&4294967295;E=v+(I<<7&4294967295|I>>>25),I=y+(R^E&(v^R))+b[1]+3905402710&4294967295,y=E+(I<<12&4294967295|I>>>20),I=R+(v^y&(E^v))+b[2]+606105819&4294967295,R=y+(I<<17&4294967295|I>>>15),I=v+(E^R&(y^E))+b[3]+3250441966&4294967295,v=R+(I<<22&4294967295|I>>>10),I=E+(y^v&(R^y))+b[4]+4118548399&4294967295,E=v+(I<<7&4294967295|I>>>25),I=y+(R^E&(v^R))+b[5]+1200080426&4294967295,y=E+(I<<12&4294967295|I>>>20),I=R+(v^y&(E^v))+b[6]+2821735955&4294967295,R=y+(I<<17&4294967295|I>>>15),I=v+(E^R&(y^E))+b[7]+4249261313&4294967295,v=R+(I<<22&4294967295|I>>>10),I=E+(y^v&(R^y))+b[8]+1770035416&4294967295,E=v+(I<<7&4294967295|I>>>25),I=y+(R^E&(v^R))+b[9]+2336552879&4294967295,y=E+(I<<12&4294967295|I>>>20),I=R+(v^y&(E^v))+b[10]+4294925233&4294967295,R=y+(I<<17&4294967295|I>>>15),I=v+(E^R&(y^E))+b[11]+2304563134&4294967295,v=R+(I<<22&4294967295|I>>>10),I=E+(y^v&(R^y))+b[12]+1804603682&4294967295,E=v+(I<<7&4294967295|I>>>25),I=y+(R^E&(v^R))+b[13]+4254626195&4294967295,y=E+(I<<12&4294967295|I>>>20),I=R+(v^y&(E^v))+b[14]+2792965006&4294967295,R=y+(I<<17&4294967295|I>>>15),I=v+(E^R&(y^E))+b[15]+1236535329&4294967295,v=R+(I<<22&4294967295|I>>>10),I=E+(R^y&(v^R))+b[1]+4129170786&4294967295,E=v+(I<<5&4294967295|I>>>27),I=y+(v^R&(E^v))+b[6]+3225465664&4294967295,y=E+(I<<9&4294967295|I>>>23),I=R+(E^v&(y^E))+b[11]+643717713&4294967295,R=y+(I<<14&4294967295|I>>>18),I=v+(y^E&(R^y))+b[0]+3921069994&4294967295,v=R+(I<<20&4294967295|I>>>12),I=E+(R^y&(v^R))+b[5]+3593408605&4294967295,E=v+(I<<5&4294967295|I>>>27),I=y+(v^R&(E^v))+b[10]+38016083&4294967295,y=E+(I<<9&4294967295|I>>>23),I=R+(E^v&(y^E))+b[15]+3634488961&4294967295,R=y+(I<<14&4294967295|I>>>18),I=v+(y^E&(R^y))+b[4]+3889429448&4294967295,v=R+(I<<20&4294967295|I>>>12),I=E+(R^y&(v^R))+b[9]+568446438&4294967295,E=v+(I<<5&4294967295|I>>>27),I=y+(v^R&(E^v))+b[14]+3275163606&4294967295,y=E+(I<<9&4294967295|I>>>23),I=R+(E^v&(y^E))+b[3]+4107603335&4294967295,R=y+(I<<14&4294967295|I>>>18),I=v+(y^E&(R^y))+b[8]+1163531501&4294967295,v=R+(I<<20&4294967295|I>>>12),I=E+(R^y&(v^R))+b[13]+2850285829&4294967295,E=v+(I<<5&4294967295|I>>>27),I=y+(v^R&(E^v))+b[2]+4243563512&4294967295,y=E+(I<<9&4294967295|I>>>23),I=R+(E^v&(y^E))+b[7]+1735328473&4294967295,R=y+(I<<14&4294967295|I>>>18),I=v+(y^E&(R^y))+b[12]+2368359562&4294967295,v=R+(I<<20&4294967295|I>>>12),I=E+(v^R^y)+b[5]+4294588738&4294967295,E=v+(I<<4&4294967295|I>>>28),I=y+(E^v^R)+b[8]+2272392833&4294967295,y=E+(I<<11&4294967295|I>>>21),I=R+(y^E^v)+b[11]+1839030562&4294967295,R=y+(I<<16&4294967295|I>>>16),I=v+(R^y^E)+b[14]+4259657740&4294967295,v=R+(I<<23&4294967295|I>>>9),I=E+(v^R^y)+b[1]+2763975236&4294967295,E=v+(I<<4&4294967295|I>>>28),I=y+(E^v^R)+b[4]+1272893353&4294967295,y=E+(I<<11&4294967295|I>>>21),I=R+(y^E^v)+b[7]+4139469664&4294967295,R=y+(I<<16&4294967295|I>>>16),I=v+(R^y^E)+b[10]+3200236656&4294967295,v=R+(I<<23&4294967295|I>>>9),I=E+(v^R^y)+b[13]+681279174&4294967295,E=v+(I<<4&4294967295|I>>>28),I=y+(E^v^R)+b[0]+3936430074&4294967295,y=E+(I<<11&4294967295|I>>>21),I=R+(y^E^v)+b[3]+3572445317&4294967295,R=y+(I<<16&4294967295|I>>>16),I=v+(R^y^E)+b[6]+76029189&4294967295,v=R+(I<<23&4294967295|I>>>9),I=E+(v^R^y)+b[9]+3654602809&4294967295,E=v+(I<<4&4294967295|I>>>28),I=y+(E^v^R)+b[12]+3873151461&4294967295,y=E+(I<<11&4294967295|I>>>21),I=R+(y^E^v)+b[15]+530742520&4294967295,R=y+(I<<16&4294967295|I>>>16),I=v+(R^y^E)+b[2]+3299628645&4294967295,v=R+(I<<23&4294967295|I>>>9),I=E+(R^(v|~y))+b[0]+4096336452&4294967295,E=v+(I<<6&4294967295|I>>>26),I=y+(v^(E|~R))+b[7]+1126891415&4294967295,y=E+(I<<10&4294967295|I>>>22),I=R+(E^(y|~v))+b[14]+2878612391&4294967295,R=y+(I<<15&4294967295|I>>>17),I=v+(y^(R|~E))+b[5]+4237533241&4294967295,v=R+(I<<21&4294967295|I>>>11),I=E+(R^(v|~y))+b[12]+1700485571&4294967295,E=v+(I<<6&4294967295|I>>>26),I=y+(v^(E|~R))+b[3]+2399980690&4294967295,y=E+(I<<10&4294967295|I>>>22),I=R+(E^(y|~v))+b[10]+4293915773&4294967295,R=y+(I<<15&4294967295|I>>>17),I=v+(y^(R|~E))+b[1]+2240044497&4294967295,v=R+(I<<21&4294967295|I>>>11),I=E+(R^(v|~y))+b[8]+1873313359&4294967295,E=v+(I<<6&4294967295|I>>>26),I=y+(v^(E|~R))+b[15]+4264355552&4294967295,y=E+(I<<10&4294967295|I>>>22),I=R+(E^(y|~v))+b[6]+2734768916&4294967295,R=y+(I<<15&4294967295|I>>>17),I=v+(y^(R|~E))+b[13]+1309151649&4294967295,v=R+(I<<21&4294967295|I>>>11),I=E+(R^(v|~y))+b[4]+4149444226&4294967295,E=v+(I<<6&4294967295|I>>>26),I=y+(v^(E|~R))+b[11]+3174756917&4294967295,y=E+(I<<10&4294967295|I>>>22),I=R+(E^(y|~v))+b[2]+718787259&4294967295,R=y+(I<<15&4294967295|I>>>17),I=v+(y^(R|~E))+b[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+y&4294967295}i.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var v=E-this.blockSize,b=this.B,R=this.h,y=0;y<E;){if(R==0)for(;y<=v;)r(this,S,y),y+=this.blockSize;if(typeof S=="string"){for(;y<E;)if(b[R++]=S.charCodeAt(y++),R==this.blockSize){r(this,b),R=0;break}}else for(;y<E;)if(b[R++]=S[y++],R==this.blockSize){r(this,b),R=0;break}}this.h=R,this.o+=E},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var v=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=v&255,v/=256;for(this.u(S),S=Array(16),E=v=0;4>E;++E)for(var b=0;32>b;b+=8)S[v++]=this.g[E]>>>b&255;return S};function s(S,E){var v=a;return Object.prototype.hasOwnProperty.call(v,S)?v[S]:v[S]=E(S)}function o(S,E){this.h=E;for(var v=[],b=!0,R=S.length-1;0<=R;R--){var y=S[R]|0;b&&y==E||(v[R]=y,b=!1)}this.g=v}var a={};function l(S){return-128<=S&&128>S?s(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return P(c(-S));for(var E=[],v=1,b=0;S>=v;b++)E[b]=S/v|0,v*=4294967296;return new o(E,0)}function h(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return P(h(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=c(Math.pow(E,8)),b=d,R=0;R<S.length;R+=8){var y=Math.min(8,S.length-R),I=parseInt(S.substring(R,R+y),E);8>y?(y=c(Math.pow(E,y)),b=b.j(y).add(c(I))):(b=b.j(v),b=b.add(c(I)))}return b}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(k(this))return-P(this).m();for(var S=0,E=1,v=0;v<this.g.length;v++){var b=this.i(v);S+=(0<=b?b:4294967296+b)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(k(this))return"-"+P(this).toString(S);for(var E=c(Math.pow(S,6)),v=this,b="";;){var R=A(v,E).g;v=L(v,R.j(E));var y=((0<v.g.length?v.g[0]:v.h)>>>0).toString(S);if(v=R,_(v))return y+b;for(;6>y.length;)y="0"+y;b=y+b}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function k(S){return S.h==-1}t.l=function(S){return S=L(this,S),k(S)?-1:_(S)?0:1};function P(S){for(var E=S.g.length,v=[],b=0;b<E;b++)v[b]=~S.g[b];return new o(v,~S.h).add(f)}t.abs=function(){return k(this)?P(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),v=[],b=0,R=0;R<=E;R++){var y=b+(this.i(R)&65535)+(S.i(R)&65535),I=(y>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);b=I>>>16,y&=65535,I&=65535,v[R]=I<<16|y}return new o(v,v[v.length-1]&-2147483648?-1:0)};function L(S,E){return S.add(P(E))}t.j=function(S){if(_(this)||_(S))return d;if(k(this))return k(S)?P(this).j(P(S)):P(P(this).j(S));if(k(S))return P(this.j(P(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var E=this.g.length+S.g.length,v=[],b=0;b<2*E;b++)v[b]=0;for(b=0;b<this.g.length;b++)for(var R=0;R<S.g.length;R++){var y=this.i(b)>>>16,I=this.i(b)&65535,M=S.i(R)>>>16,ee=S.i(R)&65535;v[2*b+2*R]+=I*ee,T(v,2*b+2*R),v[2*b+2*R+1]+=y*ee,T(v,2*b+2*R+1),v[2*b+2*R+1]+=I*M,T(v,2*b+2*R+1),v[2*b+2*R+2]+=y*M,T(v,2*b+2*R+2)}for(b=0;b<E;b++)v[b]=v[2*b+1]<<16|v[2*b];for(b=E;b<2*E;b++)v[b]=0;return new o(v,0)};function T(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function C(S,E){this.g=S,this.h=E}function A(S,E){if(_(E))throw Error("division by zero");if(_(S))return new C(d,d);if(k(S))return E=A(P(S),E),new C(P(E.g),P(E.h));if(k(E))return E=A(S,P(E)),new C(P(E.g),E.h);if(30<S.g.length){if(k(S)||k(E))throw Error("slowDivide_ only works with positive integers.");for(var v=f,b=E;0>=b.l(S);)v=O(v),b=O(b);var R=B(v,1),y=B(b,1);for(b=B(b,2),v=B(v,2);!_(b);){var I=y.add(b);0>=I.l(S)&&(R=R.add(v),y=I),b=B(b,1),v=B(v,1)}return E=L(S,R.j(E)),new C(R,E)}for(R=d;0<=S.l(E);){for(v=Math.max(1,Math.floor(S.m()/E.m())),b=Math.ceil(Math.log(v)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),y=c(v),I=y.j(E);k(I)||0<I.l(S);)v-=b,y=c(v),I=y.j(E);_(y)&&(y=f),R=R.add(y),S=L(S,I)}return new C(R,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),v=[],b=0;b<E;b++)v[b]=this.i(b)&S.i(b);return new o(v,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),v=[],b=0;b<E;b++)v[b]=this.i(b)|S.i(b);return new o(v,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),v=[],b=0;b<E;b++)v[b]=this.i(b)^S.i(b);return new o(v,this.h^S.h)};function O(S){for(var E=S.g.length+1,v=[],b=0;b<E;b++)v[b]=S.i(b)<<1|S.i(b-1)>>>31;return new o(v,S.h)}function B(S,E){var v=E>>5;E%=32;for(var b=S.g.length-v,R=[],y=0;y<b;y++)R[y]=0<E?S.i(y+v)>>>E|S.i(y+v+1)<<32-E:S.i(y+v);return new o(R,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,NI=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,_r=o}).apply(typeof By<"u"?By:typeof self<"u"?self:typeof window<"u"?window:{});var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DI,aa,OI,Iu,bf,MI,LI,VI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof au=="object"&&au];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var i=n(this);function r(u,p){if(p)e:{var g=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var q=u[w];if(!(q in g))break e;g=g[q]}u=u[u.length-1],w=g[u],p=p(w),p!=w&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var g=0,w=!1,q={next:function(){if(!w&&g<u.length){var $=g++;return{value:p($,u[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}r("Array.prototype.values",function(u){return u||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,g){return u.call.apply(u.bind,arguments)}function d(u,p,g){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),u.apply(p,q)}}return function(){return u.apply(p,arguments)}}function f(u,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function m(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function _(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(w,q,$){for(var ae=Array(arguments.length-2),et=2;et<arguments.length;et++)ae[et-2]=arguments[et];return p.prototype[q].apply(w,ae)}}function k(u){const p=u.length;if(0<p){const g=Array(p);for(let w=0;w<p;w++)g[w]=u[w];return g}return[]}function P(u,p){for(let g=1;g<arguments.length;g++){const w=arguments[g];if(l(w)){const q=u.length||0,$=w.length||0;u.length=q+$;for(let ae=0;ae<$;ae++)u[q+ae]=w[ae]}else u.push(w)}}class L{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function T(u){return/^[\s\xa0]*$/.test(u)}function C(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var O=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function B(u,p,g){for(const w in u)p.call(g,u[w],w,u)}function S(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function E(u){const p={};for(const g in u)p[g]=u[g];return p}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,p){let g,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(g in w)u[g]=w[g];for(let $=0;$<v.length;$++)g=v[$],Object.prototype.hasOwnProperty.call(w,g)&&(u[g]=w[g])}}function R(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function y(u){a.setTimeout(()=>{throw u},0)}function I(){var u=Ee;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class M{constructor(){this.h=this.g=null}add(p,g){const w=ee.get();w.set(p,g),this.h?this.h.next=w:this.g=w,this.h=w}}var ee=new L(()=>new se,u=>u.reset());class se{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Y=!1,Ee=new M,Ie=()=>{const u=a.Promise.resolve(void 0);ie=()=>{u.then(Re)}};var Re=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(g){y(g)}var p=ee;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}Y=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function We(u,p){if(we.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(O){e:{try{A(p.nodeName);var q=!0;break e}catch{}q=!1}q||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ce[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&We.aa.h.call(this)}}_(We,we);var ce={2:"touch",3:"pen",4:"mouse"};We.prototype.h=function(){We.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),ue=0;function K(u,p,g,w,q){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!w,this.ha=q,this.key=++ue,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u){this.src=u,this.g={},this.h=0}Oe.prototype.add=function(u,p,g,w,q){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ae=N(u,p,w,q);return-1<ae?(p=u[ae],g||(p.fa=!1)):(p=new K(p,this.src,$,!!w,q),p.fa=g,u.push(p)),p};function x(u,p){var g=p.type;if(g in u.g){var w=u.g[g],q=Array.prototype.indexOf.call(w,p,void 0),$;($=0<=q)&&Array.prototype.splice.call(w,q,1),$&&(fe(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function N(u,p,g,w){for(var q=0;q<u.length;++q){var $=u[q];if(!$.da&&$.listener==p&&$.capture==!!g&&$.ha==w)return q}return-1}var V="closure_lm_"+(1e6*Math.random()|0),W={};function J(u,p,g,w,q){if(Array.isArray(p)){for(var $=0;$<p.length;$++)J(u,p[$],g,w,q);return null}return g=pe(g),u&&u[U]?u.K(p,g,c(w)?!!w.capture:!1,q):G(u,p,g,!1,w,q)}function G(u,p,g,w,q,$){if(!p)throw Error("Invalid event type");var ae=c(q)?!!q.capture:!!q,et=j(u);if(et||(u[V]=et=new Oe(u)),g=et.add(p,g,w,ae,$),g.proxy)return g;if(w=le(),g.proxy=w,w.src=u,w.listener=g,u.addEventListener)Xe||(q=ae),q===void 0&&(q=!1),u.addEventListener(p.toString(),w,q);else if(u.attachEvent)u.attachEvent(Z(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function le(){function u(g){return p.call(u.src,u.listener,g)}const p=H;return u}function oe(u,p,g,w,q){if(Array.isArray(p))for(var $=0;$<p.length;$++)oe(u,p[$],g,w,q);else w=c(w)?!!w.capture:!!w,g=pe(g),u&&u[U]?(u=u.i,p=String(p).toString(),p in u.g&&($=u.g[p],g=N($,g,w,q),-1<g&&(fe($[g]),Array.prototype.splice.call($,g,1),$.length==0&&(delete u.g[p],u.h--)))):u&&(u=j(u))&&(p=u.g[p.toString()],u=-1,p&&(u=N(p,g,w,q)),(g=-1<u?p[u]:null)&&re(g))}function re(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[U])x(p.i,u);else{var g=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(g,w,u.capture):p.detachEvent?p.detachEvent(Z(g),w):p.addListener&&p.removeListener&&p.removeListener(w),(g=j(p))?(x(g,u),g.h==0&&(g.src=null,p[V]=null)):fe(u)}}}function Z(u){return u in W?W[u]:W[u]="on"+u}function H(u,p){if(u.da)u=!0;else{p=new We(p,this);var g=u.listener,w=u.ha||u.src;u.fa&&re(u),u=g.call(w,p)}return u}function j(u){return u=u[V],u instanceof Oe?u:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(u){return typeof u=="function"?u:(u[te]||(u[te]=function(p){return u.handleEvent(p)}),u[te])}function de(){z.call(this),this.i=new Oe(this),this.M=this,this.F=null}_(de,z),de.prototype[U]=!0,de.prototype.removeEventListener=function(u,p,g,w){oe(this,u,p,g,w)};function me(u,p){var g,w=u.F;if(w)for(g=[];w;w=w.F)g.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new we(p,u);else if(p instanceof we)p.target=p.target||u;else{var q=p;p=new we(w,u),b(p,q)}if(q=!0,g)for(var $=g.length-1;0<=$;$--){var ae=p.g=g[$];q=ye(ae,w,!0,p)&&q}if(ae=p.g=u,q=ye(ae,w,!0,p)&&q,q=ye(ae,w,!1,p)&&q,g)for($=0;$<g.length;$++)ae=p.g=g[$],q=ye(ae,w,!1,p)&&q}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],w=0;w<g.length;w++)fe(g[w]);delete u.g[p],u.h--}}this.F=null},de.prototype.K=function(u,p,g,w){return this.i.add(String(u),p,!1,g,w)},de.prototype.L=function(u,p,g,w){return this.i.add(String(u),p,!0,g,w)};function ye(u,p,g,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var q=!0,$=0;$<p.length;++$){var ae=p[$];if(ae&&!ae.da&&ae.capture==g){var et=ae.listener,Dt=ae.ha||ae.src;ae.fa&&x(u.i,ae),q=et.call(Dt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Be(u,p,g){if(typeof u=="function")g&&(u=f(u,g));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Ze(u){u.g=Be(()=>{u.g=null,u.i&&(u.i=!1,Ze(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ht extends z{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ze(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function St(u){z.call(this),this.h=u,this.g={}}_(St,z);var Zn=[];function _i(u){B(u.g,function(p,g){this.g.hasOwnProperty(g)&&re(p)},u),u.g={}}St.prototype.N=function(){St.aa.N.call(this),_i(this)},St.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nt=a.JSON.stringify,wn=a.JSON.parse,kl=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function _h(){}_h.prototype.h=null;function Km(u){return u.h||(u.h=u.i())}function Gm(){}var Do={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vh(){we.call(this,"d")}_(vh,we);function yh(){we.call(this,"c")}_(yh,we);var xr={},Qm=null;function Pl(){return Qm=Qm||new de}xr.La="serverreachability";function Ym(u){we.call(this,xr.La,u)}_(Ym,we);function Oo(u){const p=Pl();me(p,new Ym(p))}xr.STAT_EVENT="statevent";function Jm(u,p){we.call(this,xr.STAT_EVENT,u),this.stat=p}_(Jm,we);function rn(u){const p=Pl();me(p,new Jm(p,u))}xr.Ma="timingevent";function Xm(u,p){we.call(this,xr.Ma,u),this.size=p}_(Xm,we);function Mo(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Lo(){this.g=!0}Lo.prototype.xa=function(){this.g=!1};function hS(u,p,g,w,q,$){u.info(function(){if(u.g)if($)for(var ae="",et=$.split("&"),Dt=0;Dt<et.length;Dt++){var ze=et[Dt].split("=");if(1<ze.length){var zt=ze[0];ze=ze[1];var Wt=zt.split("_");ae=2<=Wt.length&&Wt[1]=="type"?ae+(zt+"="+ze+"&"):ae+(zt+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+p+`
`+g+`
`+ae})}function dS(u,p,g,w,q,$,ae){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+p+`
`+g+`
`+$+" "+ae})}function Es(u,p,g,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+pS(u,g)+(w?" "+w:"")})}function fS(u,p){u.info(function(){return"TIMEOUT: "+p})}Lo.prototype.info=function(){};function pS(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var w=g[u];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<q.length;ae++)q[ae]=""}}}}return nt(g)}catch{return p}}var xl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Eh;function Nl(){}_(Nl,_h),Nl.prototype.g=function(){return new XMLHttpRequest},Nl.prototype.i=function(){return{}},Eh=new Nl;function Wi(u,p,g,w){this.j=u,this.i=p,this.l=g,this.R=w||1,this.U=new St(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eg}function eg(){this.i=null,this.g="",this.h=!1}var tg={},bh={};function wh(u,p,g){u.L=1,u.v=Ll(vi(p)),u.m=g,u.P=!0,ng(u,null)}function ng(u,p){u.F=Date.now(),Dl(u),u.A=vi(u.v);var g=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),gg(g.i,"t",w),u.C=0,g=u.j.J,u.h=new eg,u.g=Og(u.j,g?p:null,!u.m),0<u.O&&(u.M=new Ht(f(u.Y,u,u.g),u.O)),p=u.U,g=u.g,w=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Zn[0]=q.toString()),q=Zn);for(var $=0;$<q.length;$++){var ae=J(g,q[$],w||p.handleEvent,!1,p.h||p);if(!ae)break;p.g[ae.key]=ae}p=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Oo(),hS(u.i,u.u,u.A,u.l,u.R,u.m)}Wi.prototype.ca=function(u){u=u.target;const p=this.M;p&&yi(u)==3?p.j():this.Y(u)},Wi.prototype.Y=function(u){try{if(u==this.g)e:{const Wt=yi(this.g);var p=this.g.Ba();const Ts=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||Tg(this.g)))){this.J||Wt!=4||p==7||(p==8||0>=Ts?Oo(3):Oo(2)),Th(this);var g=this.g.Z();this.X=g;t:if(ig(this)){var w=Tg(this.g);u="";var q=w.length,$=yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),Vo(this);var ae="";break t}this.h.i=new a.TextDecoder}for(p=0;p<q;p++)this.h.h=!0,u+=this.h.i.decode(w[p],{stream:!($&&p==q-1)});w.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=g==200,dS(this.i,this.u,this.A,this.l,this.R,Wt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Dt=this.g;if((et=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(et)){var ze=et;break t}}ze=null}if(g=ze)Es(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ih(this,g);else{this.o=!1,this.s=3,rn(12),Nr(this),Vo(this);break e}}if(this.P){g=!0;let Vn;for(;!this.J&&this.C<ae.length;)if(Vn=mS(this,ae),Vn==bh){Wt==4&&(this.s=4,rn(14),g=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==tg){this.s=4,rn(15),Es(this.i,this.l,ae,"[Invalid Chunk]"),g=!1;break}else Es(this.i,this.l,Vn,null),Ih(this,Vn);if(ig(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||ae.length!=0||this.h.h||(this.s=1,rn(16),g=!1),this.o=this.o&&g,!g)Es(this.i,this.l,ae,"[Invalid Chunked Response]"),Nr(this),Vo(this);else if(0<ae.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ph(zt),zt.M=!0,rn(11))}}else Es(this.i,this.l,ae,null),Ih(this,ae);Wt==4&&Nr(this),this.o&&!this.J&&(Wt==4?Pg(this.j,this):(this.o=!1,Dl(this)))}else NS(this.g),g==400&&0<ae.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),Nr(this),Vo(this)}}}catch{}finally{}};function ig(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function mS(u,p){var g=u.C,w=p.indexOf(`
`,g);return w==-1?bh:(g=Number(p.substring(g,w)),isNaN(g)?tg:(w+=1,w+g>p.length?bh:(p=p.slice(w,w+g),u.C=w+g,p)))}Wi.prototype.cancel=function(){this.J=!0,Nr(this)};function Dl(u){u.S=Date.now()+u.I,rg(u,u.I)}function rg(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mo(f(u.ba,u),p)}function Th(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Wi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(fS(this.i,this.A),this.L!=2&&(Oo(),rn(17)),Nr(this),this.s=2,Vo(this)):rg(this,this.S-u)};function Vo(u){u.j.G==0||u.J||Pg(u.j,u)}function Nr(u){Th(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,_i(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Ih(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||Ch(g.h,u))){if(!u.K&&Ch(g.h,u)&&g.G==3){try{var w=g.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)$l(g),Bl(g);else break e;kh(g),rn(18)}}else g.za=q[1],0<g.za-g.T&&37500>q[2]&&g.F&&g.v==0&&!g.C&&(g.C=Mo(f(g.Za,g),6e3));if(1>=ag(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Or(g,11)}else if((u.K||g.g==u)&&$l(g),!T(p))for(q=g.Da.g.parse(p),p=0;p<q.length;p++){let ze=q[p];if(g.T=ze[0],ze=ze[1],g.G==2)if(ze[0]=="c"){g.K=ze[1],g.ia=ze[2];const zt=ze[3];zt!=null&&(g.la=zt,g.j.info("VER="+g.la));const Wt=ze[4];Wt!=null&&(g.Aa=Wt,g.j.info("SVER="+g.Aa));const Ts=ze[5];Ts!=null&&typeof Ts=="number"&&0<Ts&&(w=1.5*Ts,g.L=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const Vn=u.g;if(Vn){const Hl=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hl){var $=w.h;$.g||Hl.indexOf("spdy")==-1&&Hl.indexOf("quic")==-1&&Hl.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Sh($,$.h),$.h=null))}if(w.D){const xh=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;xh&&(w.ya=xh,st(w.I,w.D,xh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),w=g;var ae=u;if(w.qa=Dg(w,w.J?w.ia:null,w.W),ae.K){lg(w.h,ae);var et=ae,Dt=w.L;Dt&&(et.I=Dt),et.B&&(Th(et),Dl(et)),w.g=ae}else Rg(w);0<g.i.length&&Ul(g)}else ze[0]!="stop"&&ze[0]!="close"||Or(g,7);else g.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Or(g,7):Rh(g):ze[0]!="noop"&&g.l&&g.l.ta(ze),g.v=0)}}Oo(4)}catch{}}var gS=class{constructor(u,p){this.g=u,this.map=p}};function sg(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function og(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ag(u){return u.h?1:u.g?u.g.size:0}function Ch(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Sh(u,p){u.g?u.g.add(p):u.h=p}function lg(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}sg.prototype.cancel=function(){if(this.i=ug(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ug(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return k(u.i)}function _S(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,w=0;w<g;w++)p.push(u[w]);return p}p=[],g=0;for(w in u)p[g++]=u[w];return p}function vS(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const w in u)p[g++]=w;return p}}}function cg(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=vS(u),w=_S(u),q=w.length,$=0;$<q;$++)p.call(void 0,w[$],g&&g[$],u)}var hg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yS(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var w=u[g].indexOf("="),q=null;if(0<=w){var $=u[g].substring(0,w);q=u[g].substring(w+1)}else $=u[g];p($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Dr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Dr){this.h=u.h,Ol(this,u.j),this.o=u.o,this.g=u.g,Ml(this,u.s),this.l=u.l;var p=u.i,g=new Bo;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),dg(this,g),this.m=u.m}else u&&(p=String(u).match(hg))?(this.h=!1,Ol(this,p[1]||"",!0),this.o=Fo(p[2]||""),this.g=Fo(p[3]||"",!0),Ml(this,p[4]),this.l=Fo(p[5]||"",!0),dg(this,p[6]||"",!0),this.m=Fo(p[7]||"")):(this.h=!1,this.i=new Bo(null,this.h))}Dr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(qo(p,fg,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(qo(p,fg,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(qo(g,g.charAt(0)=="/"?wS:bS,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",qo(g,IS)),u.join("")};function vi(u){return new Dr(u)}function Ol(u,p,g){u.j=g?Fo(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ml(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function dg(u,p,g){p instanceof Bo?(u.i=p,CS(u.i,u.h)):(g||(p=qo(p,TS)),u.i=new Bo(p,u.h))}function st(u,p,g){u.i.set(p,g)}function Ll(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Fo(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qo(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,ES),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ES(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fg=/[#\/\?@]/g,bS=/[#\?:]/g,wS=/[#\?]/g,TS=/[#\?@]/g,IS=/#/g;function Bo(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ki(u){u.g||(u.g=new Map,u.h=0,u.i&&yS(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Bo.prototype,t.add=function(u,p){Ki(this),this.i=null,u=bs(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function pg(u,p){Ki(u),p=bs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function mg(u,p){return Ki(u),p=bs(u,p),u.g.has(p)}t.forEach=function(u,p){Ki(this),this.g.forEach(function(g,w){g.forEach(function(q){u.call(p,q,w,this)},this)},this)},t.na=function(){Ki(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let w=0;w<p.length;w++){const q=u[w];for(let $=0;$<q.length;$++)g.push(p[w])}return g},t.V=function(u){Ki(this);let p=[];if(typeof u=="string")mg(this,u)&&(p=p.concat(this.g.get(bs(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return Ki(this),this.i=null,u=bs(this,u),mg(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function gg(u,p,g){pg(u,p),0<g.length&&(u.i=null,u.g.set(bs(u,p),k(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var w=p[g];const $=encodeURIComponent(String(w)),ae=this.V(w);for(w=0;w<ae.length;w++){var q=$;ae[w]!==""&&(q+="="+encodeURIComponent(String(ae[w]))),u.push(q)}}return this.i=u.join("&")};function bs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function CS(u,p){p&&!u.j&&(Ki(u),u.i=null,u.g.forEach(function(g,w){var q=w.toLowerCase();w!=q&&(pg(this,w),gg(this,q,g))},u)),u.j=p}function SS(u,p){const g=new Lo;if(a.Image){const w=new Image;w.onload=m(Gi,g,"TestLoadImage: loaded",!0,p,w),w.onerror=m(Gi,g,"TestLoadImage: error",!1,p,w),w.onabort=m(Gi,g,"TestLoadImage: abort",!1,p,w),w.ontimeout=m(Gi,g,"TestLoadImage: timeout",!1,p,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function AS(u,p){const g=new Lo,w=new AbortController,q=setTimeout(()=>{w.abort(),Gi(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then($=>{clearTimeout(q),$.ok?Gi(g,"TestPingServer: ok",!0,p):Gi(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(q),Gi(g,"TestPingServer: error",!1,p)})}function Gi(u,p,g,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(g)}catch{}}function RS(){this.g=new kl}function kS(u,p,g){const w=g||"";try{cg(u,function(q,$){let ae=q;c(q)&&(ae=nt(q)),p.push(w+$+"="+encodeURIComponent(ae))})}catch(q){throw p.push(w+"type="+encodeURIComponent("_badmap")),q}}function Vl(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Vl,_h),Vl.prototype.g=function(){return new Fl(this.l,this.j)},Vl.prototype.i=function(u){return function(){return u}}({});function Fl(u,p){de.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Fl,de),t=Fl.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,$o(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Uo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_g(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _g(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Uo(this):$o(this),this.readyState==3&&_g(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Uo(this))},t.Qa=function(u){this.g&&(this.response=u,Uo(this))},t.ga=function(){this.g&&Uo(this)};function Uo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$o(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function $o(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vg(u){let p="";return B(u,function(g,w){p+=w,p+=":",p+=g,p+=`\r
`}),p}function Ah(u,p,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=vg(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):st(u,p,g))}function pt(u){de.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(pt,de);var PS=/^https?$/i,xS=["POST","PUT"];t=pt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Eh.g(),this.v=this.o?Km(this.o):Km(Eh),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){yg(this,$);return}if(u=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)g.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())g.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find($=>$.toLowerCase()=="content-type"),q=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xS,p,void 0))||w||q||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of g)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wg(this),this.u=!0,this.g.send(u),this.u=!1}catch($){yg(this,$)}};function yg(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Eg(u),ql(u)}function Eg(u){u.A||(u.A=!0,me(u,"complete"),me(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,me(this,"complete"),me(this,"abort"),ql(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ql(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bg(this):this.bb())},t.bb=function(){bg(this)};function bg(u){if(u.h&&typeof o<"u"&&(!u.v[1]||yi(u)!=4||u.Z()!=2)){if(u.u&&yi(u)==4)Be(u.Ea,0,u);else if(me(u,"readystatechange"),yi(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var w;if(w=ae===0){var q=String(u.D).match(hg)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),w=!PS.test(q?q.toLowerCase():"")}g=w}if(g)me(u,"complete"),me(u,"success");else{u.m=6;try{var $=2<yi(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Eg(u)}}finally{ql(u)}}}}function ql(u,p){if(u.g){wg(u);const g=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||me(u,"ready");try{g.onreadystatechange=w}catch{}}}function wg(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function yi(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),wn(p)}};function Tg(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function NS(u){const p={};u=(u.g&&2<=yi(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(T(u[w]))continue;var g=R(u[w]);const q=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const $=p[q]||[];p[q]=$,$.push(g)}S(p,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jo(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function Ig(u){this.Aa=0,this.i=[],this.j=new Lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jo("baseRetryDelayMs",5e3,u),this.cb=jo("retryDelaySeedMs",1e4,u),this.Wa=jo("forwardChannelMaxRetries",2,u),this.wa=jo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new sg(u&&u.concurrentRequestLimit),this.Da=new RS,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ig.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,w){rn(0),this.W=u,this.H=p||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.I=Dg(this,null,this.W),Ul(this)};function Rh(u){if(Cg(u),u.G==3){var p=u.U++,g=vi(u.I);if(st(g,"SID",u.K),st(g,"RID",p),st(g,"TYPE","terminate"),Ho(u,g),p=new Wi(u,u.j,p),p.L=2,p.v=Ll(vi(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=Og(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Dl(p)}Ng(u)}function Bl(u){u.g&&(Ph(u),u.g.cancel(),u.g=null)}function Cg(u){Bl(u),u.u&&(a.clearTimeout(u.u),u.u=null),$l(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ul(u){if(!og(u.h)&&!u.s){u.s=!0;var p=u.Ga;ie||Ie(),Y||(ie(),Y=!0),Ee.add(p,u),u.B=0}}function DS(u,p){return ag(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mo(f(u.Ga,u,p),xg(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new Wi(this,this.j,u);let $=this.o;if(this.S&&($?($=E($),b($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Ag(this,q,p),g=vi(this.I),st(g,"RID",u),st(g,"CVER",22),this.D&&st(g,"X-HTTP-Session-Id",this.D),Ho(this,g),$&&(this.O?p="headers="+encodeURIComponent(String(vg($)))+"&"+p:this.m&&Ah(g,this.m,$)),Sh(this.h,q),this.Ua&&st(g,"TYPE","init"),this.P?(st(g,"$req",p),st(g,"SID","null"),q.T=!0,wh(q,g,null)):wh(q,g,p),this.G=2}}else this.G==3&&(u?Sg(this,u):this.i.length==0||og(this.h)||Sg(this))};function Sg(u,p){var g;p?g=p.l:g=u.U++;const w=vi(u.I);st(w,"SID",u.K),st(w,"RID",g),st(w,"AID",u.T),Ho(u,w),u.m&&u.o&&Ah(w,u.m,u.o),g=new Wi(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Ag(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Sh(u.h,g),wh(g,w,p)}function Ho(u,p){u.H&&B(u.H,function(g,w){st(p,w,g)}),u.l&&cg({},function(g,w){st(p,w,g)})}function Ag(u,p,g){g=Math.min(u.i.length,g);var w=u.l?f(u.l.Na,u.l,u):null;e:{var q=u.i;let $=-1;for(;;){const ae=["count="+g];$==-1?0<g?($=q[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let et=!0;for(let Dt=0;Dt<g;Dt++){let ze=q[Dt].g;const zt=q[Dt].map;if(ze-=$,0>ze)$=Math.max(0,q[Dt].g-100),et=!1;else try{kS(zt,ae,"req"+ze+"_")}catch{w&&w(zt)}}if(et){w=ae.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,w}function Rg(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ie||Ie(),Y||(ie(),Y=!0),Ee.add(p,u),u.v=0}}function kh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mo(f(u.Fa,u),xg(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,kg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mo(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),Bl(this),kg(this))};function Ph(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function kg(u){u.g=new Wi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=vi(u.qa);st(p,"RID","rpc"),st(p,"SID",u.K),st(p,"AID",u.T),st(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(p,"TO",u.ja),st(p,"TYPE","xmlhttp"),Ho(u,p),u.m&&u.o&&Ah(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Ll(vi(p)),g.m=null,g.P=!0,ng(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Bl(this),kh(this),rn(19))};function $l(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Pg(u,p){var g=null;if(u.g==p){$l(u),Ph(u),u.g=null;var w=2}else if(Ch(u.h,p))g=p.D,lg(u.h,p),w=1;else return;if(u.G!=0){if(p.o)if(w==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var q=u.B;w=Pl(),me(w,new Xm(w,g)),Ul(u)}else Rg(u);else if(q=p.s,q==3||q==0&&0<p.X||!(w==1&&DS(u,p)||w==2&&kh(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),q){case 1:Or(u,5);break;case 4:Or(u,10);break;case 3:Or(u,6);break;default:Or(u,2)}}}function xg(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function Or(u,p){if(u.j.info("Error code "+p),p==2){var g=f(u.fb,u),w=u.Xa;const q=!w;w=new Dr(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ol(w,"https"),Ll(w),q?SS(w.toString(),g):AS(w.toString(),g)}else rn(2);u.G=0,u.l&&u.l.sa(p),Ng(u),Cg(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Ng(u){if(u.G=0,u.ka=[],u.l){const p=ug(u.h);(p.length!=0||u.i.length!=0)&&(P(u.ka,p),P(u.ka,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.ra()}}function Dg(u,p,g){var w=g instanceof Dr?vi(g):new Dr(g);if(w.g!="")p&&(w.g=p+"."+w.g),Ml(w,w.s);else{var q=a.location;w=q.protocol,p=p?p+"."+q.hostname:q.hostname,q=+q.port;var $=new Dr(null);w&&Ol($,w),p&&($.g=p),q&&Ml($,q),g&&($.l=g),w=$}return g=u.D,p=u.ya,g&&p&&st(w,g,p),st(w,"VER",u.la),Ho(u,w),w}function Og(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new pt(new Vl({eb:g})):new pt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mg(){}t=Mg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jl(){}jl.prototype.g=function(u,p){return new mn(u,p)};function mn(u,p){de.call(this),this.g=new Ig(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!T(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!T(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ws(this)}_(mn,de),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Rh(this.g)},mn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=nt(u),u=g);p.i.push(new gS(p.Ya++,u)),p.G==3&&Ul(p)},mn.prototype.N=function(){this.g.l=null,delete this.j,Rh(this.g),delete this.g,mn.aa.N.call(this)};function Lg(u){vh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_(Lg,vh);function Vg(){yh.call(this),this.status=1}_(Vg,yh);function ws(u){this.g=u}_(ws,Mg),ws.prototype.ua=function(){me(this.g,"a")},ws.prototype.ta=function(u){me(this.g,new Lg(u))},ws.prototype.sa=function(u){me(this.g,new Vg)},ws.prototype.ra=function(){me(this.g,"b")},jl.prototype.createWebChannel=jl.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,VI=function(){return new jl},LI=function(){return Pl()},MI=xr,bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xl.NO_ERROR=0,xl.TIMEOUT=8,xl.HTTP_ERROR=6,Iu=xl,Zm.COMPLETE="complete",OI=Zm,Gm.EventType=Do,Do.OPEN="a",Do.CLOSE="b",Do.ERROR="c",Do.MESSAGE="d",de.prototype.listen=de.prototype.K,aa=Gm,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,DI=pt}).apply(typeof au<"u"?au:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore",$y="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new $c("@firebase/firestore");function Ns(){return us.logLevel}function ge(t,...e){if(us.logLevel<=Ve.DEBUG){const n=e.map(cm);us.debug(`Firestore (${Ro}): ${t}`,...n)}}function Ui(t,...e){if(us.logLevel<=Ve.ERROR){const n=e.map(cm);us.error(`Firestore (${Ro}): ${t}`,...n)}}function uo(t,...e){if(us.logLevel<=Ve.WARN){const n=e.map(cm);us.warn(`Firestore (${Ro}): ${t}`,...n)}}function cm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,FI(t,i,n)}function FI(t,e,n){let i=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ui(i),new Error(i)}function Ye(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||FI(e,r,i)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Zc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class K2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class G2{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vr,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string",31837,{l:i}),new qI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class Q2{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Y2{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Q2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const i=s=>{s.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=X2(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function wf(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return Me(i,r);{const s=BI(),o=Z2(s.encode(Hy(t,n)),s.encode(Hy(e,n)));return o!==0?o:Me(i,r)}}n+=i>65535?2:1}return Me(t.length,e.length)}function Hy(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Z2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Me(t[n],e[n]);return Me(t.length,e.length)}function co(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-62135596800,Wy=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Wy);return new It(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zy)throw new ve(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wy}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new It(0,0))}static max(){return new Pe(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="__name__";class ni{constructor(e,n,i){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Se(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=ni.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return Me(e.length,n.length)}static compareSegments(e,n){const i=ni.isNumericId(e),r=ni.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?ni.extractNumericId(e).compare(ni.extractNumericId(n)):wf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class lt extends ni{construct(e,n,i){return new lt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const eF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends ni{construct(e,n,i){return new Ut(e,n,i)}static isValidIdentifier(e){return eF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new Ut([Ky])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ve(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new ve(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ve(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ve(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(lt.fromString(e))}static fromName(e){return new Te(lt.fromString(e).popFirst(5))}static empty(){return new Te(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=-1;function tF(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Pe.fromTimestamp(i===1e9?new It(n+1,0):new It(n,i));return new wr(r,Te.empty(),e)}function nF(t){return new wr(t.readTime,t.key,Za)}class wr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new wr(Pe.min(),Te.empty(),Za)}static max(){return new wr(Pe.max(),Te.empty(),Za)}}function iF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==rF)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,i)=>{n(e)})}static reject(e){return new Q((n,i)=>{i(e)})}static waitFor(e){return new Q((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=Q.resolve(!1);for(const i of e)n=n.next(r=>r?Q.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new Q((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,n){return new Q((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function oF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}eh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function th(t){return t==null}function hc(t){return t===0&&1/t==-1/0}function aF(t){return typeof t=="number"&&Number.isInteger(t)&&!hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="";function lF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Gy(e)),e=uF(t.get(n),e);return Gy(e)}function uF(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case $I:n+="";break;default:n+=s}}return n}function Gy(t){return t+$I+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lu(this.root,e,this.comparator,!0)}}class lu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Lt.RED,this.left=r??Lt.EMPTY,this.right=s??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new Lt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Lt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new yn([])}unionWith(e){let n=new Ct(Ut.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HI("Invalid base64 string: "+s):s}}(e);return new jt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const cF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=cF.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ir(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="server_timestamp",WI="__type__",KI="__previous_value__",GI="__local_write_time__";function dm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[WI])===null||n===void 0?void 0:n.stringValue)===zI}function nh(t){const e=t.mapValue.fields[KI];return dm(e)?nh(e):e}function el(t){const e=Tr(t.mapValue.fields[GI].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n,i,r,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const dc="(default)";class tl{constructor(e,n){this.projectId=e,this.database=n||dc}static empty(){return new tl("","")}get isDefaultDatabase(){return this.database===dc}isEqual(e){return e instanceof tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="__type__",dF="__max__",uu={mapValue:{}},YI="__vector__",fc="value";function Cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dm(t)?4:pF(t)?9007199254740991:fF(t)?10:11:Se(28295,{value:t})}function gi(t,e){if(t===e)return!0;const n=Cr(t);if(n!==Cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return el(t).isEqual(el(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Tr(r.timestampValue),a=Tr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ir(r.bytesValue).isEqual(Ir(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return gt(r.geoPointValue.latitude)===gt(s.geoPointValue.latitude)&&gt(r.geoPointValue.longitude)===gt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return gt(r.integerValue)===gt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=gt(r.doubleValue),a=gt(s.doubleValue);return o===a?hc(o)===hc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return co(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Qy(o)!==Qy(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gi(o[l],a[l])))return!1;return!0}(t,e);default:return Se(52216,{left:t})}}function nl(t,e){return(t.values||[]).find(n=>gi(n,e))!==void 0}function ho(t,e){if(t===e)return 0;const n=Cr(t),i=Cr(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=gt(s.integerValue||s.doubleValue),l=gt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Jy(t.timestampValue,e.timestampValue);case 4:return Jy(el(t),el(e));case 5:return wf(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ir(s),l=Ir(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Me(a[c],l[c]);if(h!==0)return h}return Me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Me(gt(s.latitude),gt(o.latitude));return a!==0?a:Me(gt(s.longitude),gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Xy(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},f=o.fields||{},m=(a=d[fc])===null||a===void 0?void 0:a.arrayValue,_=(l=f[fc])===null||l===void 0?void 0:l.arrayValue,k=Me(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:Xy(m,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===uu.mapValue&&o===uu.mapValue)return 0;if(s===uu.mapValue)return 1;if(o===uu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=wf(l[d],h[d]);if(f!==0)return f;const m=ho(a[l[d]],c[h[d]]);if(m!==0)return m}return Me(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Se(23264,{Pe:n})}}function Jy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Tr(t),i=Tr(e),r=Me(n.seconds,i.seconds);return r!==0?r:Me(n.nanos,i.nanos)}function Xy(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=ho(n[r],i[r]);if(s)return s}return Me(n.length,i.length)}function fo(t){return Tf(t)}function Tf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Tr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Tf(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Tf(n.fields[o])}`;return r+"}"}(t.mapValue):Se(61005,{value:t})}function Cu(t){switch(Cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nh(t);return e?16+Cu(e):16;case 5:return 2*t.stringValue.length;case 6:return Ir(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Cu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return kr(i.fields,(s,o)=>{r+=s.length+Cu(o)}),r}(t.mapValue);default:throw Se(13486,{value:t})}}function Zy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function If(t){return!!t&&"integerValue"in t}function fm(t){return!!t&&"arrayValue"in t}function eE(t){return!!t&&"nullValue"in t}function tE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Su(t){return!!t&&"mapValue"in t}function fF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[QI])===null||n===void 0?void 0:n.stringValue)===YI}function ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return kr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ka(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(n)}setAll(e){let n=Ut.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=ka(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Su(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){kr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new fn(ka(this.value))}}function JI(t){const e=[];return kr(t.fields,(n,i)=>{const r=new Ut([n]);if(Su(i)){const s=JI(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new en(e,0,Pe.min(),Pe.min(),Pe.min(),fn.empty(),0)}static newFoundDocument(e,n,i,r){return new en(e,1,n,Pe.min(),i,r,0)}static newNoDocument(e,n){return new en(e,2,n,Pe.min(),Pe.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Pe.min(),Pe.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.position=e,this.inclusive=n}}function nE(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=Te.comparator(Te.fromName(o.referenceValue),n.key):i=ho(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function iE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n="asc"){this.field=e,this.dir=n}}function mF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{}class bt extends XI{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new _F(e,n,i):n==="array-contains"?new EF(e,i):n==="in"?new bF(e,i):n==="not-in"?new wF(e,i):n==="array-contains-any"?new TF(e,i):new bt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new vF(e,i):new yF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&Cr(this.value)===Cr(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends XI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Yn(e,n)}matches(e){return ZI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ZI(t){return t.op==="and"}function eC(t){return gF(t)&&ZI(t)}function gF(t){for(const e of t.filters)if(e instanceof Yn)return!1;return!0}function Cf(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+fo(t.value);if(eC(t))return t.filters.map(e=>Cf(e)).join(",");{const e=t.filters.map(n=>Cf(n)).join(",");return`${t.op}(${e})`}}function tC(t,e){return t instanceof bt?function(i,r){return r instanceof bt&&i.op===r.op&&i.field.isEqual(r.field)&&gi(i.value,r.value)}(t,e):t instanceof Yn?function(i,r){return r instanceof Yn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&tC(o,r.filters[a]),!0):!1}(t,e):void Se(19439)}function nC(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(t):t instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(nC).join(" ,")+"}"}(t):"Filter"}class _F extends bt{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class vF extends bt{constructor(e,n){super(e,"in",n),this.keys=iC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yF extends bt{constructor(e,n){super(e,"not-in",n),this.keys=iC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Te.fromName(i.referenceValue))}class EF extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fm(n)&&nl(n.arrayValue,this.value)}}class bF extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nl(this.value.arrayValue,n)}}class wF extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nl(this.value.arrayValue,n)}}class TF extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>nl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function rE(t,e=null,n=[],i=[],r=null,s=null,o=null){return new IF(t,e,n,i,r,s,o)}function pm(t){const e=Ne(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Cf(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>fo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>fo(i)).join(",")),e.Ie=n}return e.Ie}function mm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iE(t.startAt,e.startAt)&&iE(t.endAt,e.endAt)}function Sf(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function CF(t,e,n,i,r,s,o,a){return new xo(t,e,n,i,r,s,o,a)}function rC(t){return new xo(t)}function sE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sC(t){return t.collectionGroup!==null}function Pa(t){const e=Ne(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ct(Ut.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new il(s,i))}),n.has(Ut.keyField().canonicalString())||e.Ee.push(new il(Ut.keyField(),i))}return e.Ee}function fi(t){const e=Ne(t);return e.de||(e.de=SF(e,Pa(t))),e.de}function SF(t,e){if(t.limitType==="F")return rE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new il(r.field,s)});const n=t.endAt?new pc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new pc(t.startAt.position,t.startAt.inclusive):null;return rE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Af(t,e){const n=t.filters.concat([e]);return new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rf(t,e,n){return new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ih(t,e){return mm(fi(t),fi(e))&&t.limitType===e.limitType}function oC(t){return`${pm(fi(t))}|lt:${t.limitType}`}function Ds(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>nC(r)).join(", ")}]`),th(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>fo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>fo(r)).join(",")),`Target(${i})`}(fi(t))}; limitType=${t.limitType})`}function rh(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Te.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Pa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=nE(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Pa(i),r)||i.endAt&&!function(o,a,l){const c=nE(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Pa(i),r))}(t,e)}function AF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aC(t){return(e,n)=>{let i=!1;for(const r of Pa(t)){const s=RF(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function RF(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ho(l,c):Se(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){kr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return jI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=new ft(Te.comparator);function $i(){return kF}const lC=new ft(Te.comparator);function la(...t){let e=lC;for(const n of t)e=e.insert(n.key,n);return e}function uC(t){let e=lC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Yr(){return xa()}function cC(){return xa()}function xa(){return new _s(t=>t.toString(),(t,e)=>t.isEqual(e))}const PF=new ft(Te.comparator),xF=new Ct(Te.comparator);function qe(...t){let e=xF;for(const n of t)e=e.add(n);return e}const NF=new Ct(Me);function DF(){return NF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function hC(t){return{integerValue:""+t}}function OF(t,e){return aF(e)?hC(e):gm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(){this._=void 0}}function MF(t,e,n){return t instanceof mc?function(r,s){const o={fields:{[WI]:{stringValue:zI},[GI]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&dm(s)&&(s=nh(s)),s&&(o.fields[KI]=s),{mapValue:o}}(n,e):t instanceof rl?fC(t,e):t instanceof sl?pC(t,e):function(r,s){const o=dC(r,s),a=oE(o)+oE(r.Re);return If(o)&&If(r.Re)?hC(a):gm(r.serializer,a)}(t,e)}function LF(t,e,n){return t instanceof rl?fC(t,e):t instanceof sl?pC(t,e):n}function dC(t,e){return t instanceof gc?function(i){return If(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class mc extends sh{}class rl extends sh{constructor(e){super(),this.elements=e}}function fC(t,e){const n=mC(e);for(const i of t.elements)n.some(r=>gi(r,i))||n.push(i);return{arrayValue:{values:n}}}class sl extends sh{constructor(e){super(),this.elements=e}}function pC(t,e){let n=mC(e);for(const i of t.elements)n=n.filter(r=>!gi(r,i));return{arrayValue:{values:n}}}class gc extends sh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function oE(t){return gt(t.integerValue||t.doubleValue)}function mC(t){return fm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VF(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof rl&&r instanceof rl||i instanceof sl&&r instanceof sl?co(i.elements,r.elements,gi):i instanceof gc&&r instanceof gc?gi(i.Re,r.Re):i instanceof mc&&r instanceof mc}(t.transform,e.transform)}class FF{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class oh{}function gC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _m(t.key,Wn.none()):new Tl(t.key,t.data,Wn.none());{const n=t.data,i=fn.empty();let r=new Ct(Ut.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Pr(t.key,i,new yn(r.toArray()),Wn.none())}}function qF(t,e,n){t instanceof Tl?function(r,s,o){const a=r.value.clone(),l=lE(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pr?function(r,s,o){if(!Au(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=lE(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(_C(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Na(t,e,n,i){return t instanceof Tl?function(s,o,a,l){if(!Au(s.precondition,o))return a;const c=s.value.clone(),h=uE(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Pr?function(s,o,a,l){if(!Au(s.precondition,o))return a;const c=uE(s.fieldTransforms,l,o),h=o.data;return h.setAll(_C(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return Au(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function BF(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=dC(i.transform,r||null);s!=null&&(n===null&&(n=fn.empty()),n.set(i.field,s))}return n||null}function aE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&co(i,r,(s,o)=>VF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tl extends oh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Pr extends oh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _C(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function lE(t,e,n){const i=new Map;Ye(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,LF(o,a,n[r]))}return i}function uE(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,MF(s,o,e))}return i}class _m extends oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UF extends oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&qF(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Na(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Na(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=cC();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=gC(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,i)=>aE(n,i))&&co(this.baseMutations,e.baseMutations,(n,i)=>aE(n,i))}}class vm{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ye(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return PF}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new vm(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,$e;function zF(t){switch(t){case X.OK:return Se(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function vC(t){if(t===void 0)return Ui("GRPC error has no .code"),X.UNKNOWN;switch(t){case vt.OK:return X.OK;case vt.CANCELLED:return X.CANCELLED;case vt.UNKNOWN:return X.UNKNOWN;case vt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case vt.INTERNAL:return X.INTERNAL;case vt.UNAVAILABLE:return X.UNAVAILABLE;case vt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case vt.NOT_FOUND:return X.NOT_FOUND;case vt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case vt.ABORTED:return X.ABORTED;case vt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case vt.DATA_LOSS:return X.DATA_LOSS;default:return Se(39323,{code:t})}}($e=vt||(vt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=new _r([4294967295,4294967295],0);function cE(t){const e=BI().encode(t),n=new NI;return n.update(e),new Uint8Array(n.digest())}function hE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _r([n,i],0),new _r([r,s],0)]}class ym{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ua(`Invalid padding: ${n}`);if(i<0)throw new ua(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ua(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ua(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=_r.fromNumber(this.pe)}we(e,n,i){let r=e.add(n.multiply(_r.fromNumber(i)));return r.compare(WF)===1&&(r=new _r([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=cE(e),[i,r]=hE(n);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);if(!this.Se(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ym(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=cE(e),[i,r]=hE(n);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);this.be(o)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new ah(Pe.min(),r,new ft(Me),$i(),qe())}}class Il{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Il(i,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,i,r){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=r}}class yC{constructor(e,n){this.targetId=e,this.Ce=n}}class EC{constructor(e,n,i=jt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class dE{constructor(){this.Fe=0,this.Me=fE(),this.xe=jt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qe(),n=qe(),i=qe();return this.Me.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Se(38017,{changeType:s})}}),new Il(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=fE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class KF{constructor(e){this.ze=e,this.je=new Map,this.He=$i(),this.Je=cu(),this.Ye=cu(),this.Ze=new ft(Me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(e){const n=e.targetId,i=e.Ce.count,r=this._t(n);if(r){const s=r.target;if(Sf(s))if(i===0){const o=new Te(s.path);this.tt(n,o,en.newNoDocument(o,Pe.min()))}else Ye(i===1,20013,{expectedCount:i});else{const o=this.ut(n);if(o!==i){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Ir(i).toUint8Array()}catch(l){if(l instanceof HI)return uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ym(o,r,s)}catch(l){return uo(l instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),r++)}),r}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Sf(a.target)){const l=new Te(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,en.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let i=qe();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const r=new ah(e,n,this.Ze,this.He,i);return this.He=$i(),this.Je=cu(),this.Ye=cu(),this.Ze=new ft(Me),r}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new dE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ct(Me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ct(Me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new dE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function cu(){return new ft(Te.comparator)}function fE(){return new ft(Te.comparator)}const GF={asc:"ASCENDING",desc:"DESCENDING"},QF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YF={and:"AND",or:"OR"};class JF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kf(t,e){return t.useProto3Json||th(e)?e:{value:e}}function _c(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XF(t,e){return _c(t,e.toTimestamp())}function pi(t){return Ye(!!t,49232),Pe.fromTimestamp(function(n){const i=Tr(n);return new It(i.seconds,i.nanos)}(t))}function Em(t,e){return Pf(t,e).canonicalString()}function Pf(t,e){const n=function(r){return new lt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wC(t){const e=lt.fromString(t);return Ye(AC(e),10190,{key:e.toString()}),e}function xf(t,e){return Em(t.databaseId,e.path)}function Ed(t,e){const n=wC(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(IC(n))}function TC(t,e){return Em(t.databaseId,e)}function ZF(t){const e=wC(t);return e.length===4?lt.emptyPath():IC(e)}function Nf(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IC(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pE(t,e,n){return{name:xf(t,e),fields:n.value.mapValue.fields}}function e4(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Ye(h===void 0||typeof h=="string",58123),jt.fromBase64String(h||"")):(Ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),jt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?X.UNKNOWN:vC(c.code);return new ve(h,c.message||"")}(o);n=new EC(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ed(t,i.document.name),s=pi(i.document.updateTime),o=i.document.createTime?pi(i.document.createTime):Pe.min(),a=new fn({mapValue:{fields:i.document.fields}}),l=en.newFoundDocument(r,s,o,a),c=i.targetIds||[],h=i.removedTargetIds||[];n=new Ru(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Ed(t,i.document),s=i.readTime?pi(i.readTime):Pe.min(),o=en.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Ru([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Ed(t,i.document),s=i.removedTargetIds||[];n=new Ru([],s,r,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new HF(r,s),a=i.targetId;n=new yC(a,o)}}return n}function t4(t,e){let n;if(e instanceof Tl)n={update:pE(t,e.key,e.value)};else if(e instanceof _m)n={delete:xf(t,e.key)};else if(e instanceof Pr)n={update:pE(t,e.key,e.data),updateMask:c4(e.fieldMask)};else{if(!(e instanceof UF))return Se(16599,{ft:e.type});n={verify:xf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof mc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof rl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof sl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Se(20930,{transform:o.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:XF(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se(27497)}(t,e.precondition)),n}function n4(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map(n=>function(r,s){let o=r.updateTime?pi(r.updateTime):pi(s);return o.isEqual(Pe.min())&&(o=pi(s)),new FF(o,r.transformResults||[])}(n,e))):[]}function i4(t,e){return{documents:[TC(t,e.path)]}}function r4(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=TC(t,r);const s=function(c){if(c.length!==0)return SC(Yn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:Os(f.field),direction:a4(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=kf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:r}}function s4(t){let e=ZF(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ye(i===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=CC(d);return f instanceof Yn&&eC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(_){return new il(Ms(_.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,th(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new pc(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,m=d.values||[];return new pc(m,f)}(n.endAt)),CF(e,r,o,s,a,"F",l,c)}function o4(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ms(n.unaryFilter.field);return bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ms(n.unaryFilter.field);return bt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ms(n.unaryFilter.field);return bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ms(n.unaryFilter.field);return bt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(t):t.fieldFilter!==void 0?function(n){return bt.create(Ms(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(i=>CC(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(t):Se(30097,{filter:t})}function a4(t){return GF[t]}function l4(t){return QF[t]}function u4(t){return YF[t]}function Os(t){return{fieldPath:t.canonicalString()}}function Ms(t){return Ut.fromServerFormat(t.fieldPath)}function SC(t){return t instanceof bt?function(n){if(n.op==="=="){if(tE(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(eE(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tE(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(eE(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:l4(n.op),value:n.value}}}(t):t instanceof Yn?function(n){const i=n.getFilters().map(r=>SC(r));return i.length===1?i[0]:{compositeFilter:{op:u4(n.op),filters:i}}}(t):Se(54877,{filter:t})}function c4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,i,r,s=Pe.min(),o=Pe.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.wt=e}}function d4(t){const e=s4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.Cn=new p4}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(wr.min())}updateCollectionGroup(e,n,i){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class p4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ct(lt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ct(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RC=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(RC,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new po(0)}static lr(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="LruGarbageCollector",m4=1048576;function _E([t,e],[n,i]){const r=Me(t,n);return r===0?Me(e,i):r}class g4{constructor(e){this.Er=e,this.buffer=new Ct(_E),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();_E(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ge(gE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?ge(gE,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.mr(3e5)})}}class v4{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(eh.le);const i=new g4(n);return this.gr.forEachTarget(e,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(mE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,r,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,o=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),Ns()<=Ve.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:d})))}}function y4(t,e){return new v4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.changes=new _s(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Q.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Na(i.mutation,r,yn.empty(),It.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,qe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=qe()){const r=Yr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=la();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Yr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,qe()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=$i();const o=xa(),a=function(){return xa()}();return n.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(h===void 0||h.mutation instanceof Pr)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Na(h.mutation,c,h.mutation.getFieldMask(),It.now())):o.set(c.key,yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new b4(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=xa();let r=new ft((o,a)=>o-a),s=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||yn.empty();h=a.applyToLocalView(c,h),i.set(l,h);const d=(r.get(a.batchId)||qe()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=cC();h.forEach(f=>{if(!s.has(f)){const m=gC(n.get(f),i.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Q.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return Te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):Q.resolve(Yr());let a=Za,l=s;return o.next(c=>Q.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?Q.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,qe())).next(h=>({batchId:a,changes:uC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(i=>{let r=la();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=la();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,l=>{const c=function(d,f){return new xo(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,en.newInvalidDocument(h)))});let a=la();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Na(h.mutation,c,yn.empty(),It.now()),rh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Q.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:pi(r.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(r){return{name:r.name,query:d4(r.bundledQuery),readTime:pi(r.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.overlays=new ft(Te.comparator),this.Qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Yr();return Q.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.bt(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),Q.resolve()}getOverlaysForCollection(e,n,i){const r=Yr(),s=n.length+1,o=new Te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Q.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new ft((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=s.get(c.largestBatchId);h===null&&(h=Yr(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Yr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return Q.resolve(a)}bt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new jF(n,i));let s=this.Qr.get(n);s===void 0&&(s=qe(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.$r=new Ct(kt.Ur),this.Kr=new Ct(kt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new kt(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new kt(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new Te(new lt([])),i=new kt(n,e),r=new kt(n,e+1),s=[];return this.Kr.forEachInRange([i,r],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Te(new lt([])),i=new kt(n,e),r=new kt(n,e+1);let s=qe();return this.Kr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new kt(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class kt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Te.comparator(e.key,n.key)||Me(e.Zr,n.Zr)}static Wr(e,n){return Me(e.Zr,n.Zr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ct(kt.Ur)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $F(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Xr=this.Xr.add(new kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?hm:this.nr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new kt(n,0),r=new kt(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],o=>{const a=this.ei(o.Zr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ct(Me);return n.forEach(r=>{const s=new kt(r,0),o=new kt(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{i=i.add(a.Zr)})}),Q.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;Te.isDocumentKey(s)||(s=s.child(""));const o=new kt(new Te(s),0);let a=new Ct(Me);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Zr)),!0)},o),Q.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ye(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Q.forEach(n.mutations,r=>{const s=new kt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new kt(n,0),r=this.Xr.firstAfterOrEqual(i);return Q.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.ii=e,this.docs=function(){return new ft(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Q.resolve(i?i.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let i=$i();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():en.newInvalidDocument(r))}),Q.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=$i();const o=n.path,a=new Te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||iF(nF(h),i)<=0||(r.has(h.key)||rh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Se(9500)}si(e,n){return Q.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new R4(this)}getSize(e){return Q.resolve(this.size)}}class R4 extends E4{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(e,r)):this.Br.removeEntry(i)}),Q.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.persistence=e,this.oi=new _s(n=>pm(n),mm),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this._i=0,this.ai=new bm,this.targetCount=0,this.ui=po.cr()}forEachTarget(e,n){return this.oi.forEach((i,r)=>n(r)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),Q.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new po(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Tr(n),Q.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Q.waitFor(s).next(()=>r)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return Q.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),Q.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return Q.resolve(i)}containsKey(e,n){return Q.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this.ci={},this.overlays={},this.li=new eh(0),this.hi=!1,this.hi=!0,this.Pi=new C4,this.referenceDelegate=e(this),this.Ti=new k4(this),this.indexManager=new f4,this.remoteDocumentCache=function(r){return new A4(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new h4(n),this.Ei=new T4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new S4(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){ge("MemoryPersistence","Starting transaction:",e);const r=new P4(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(e,n){return Q.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class P4 extends sF{constructor(e){super(),this.currentSequenceNumber=e}}class wm{constructor(e){this.persistence=e,this.Vi=new bm,this.mi=null}static fi(e){return new wm(e)}get gi(){if(this.mi)return this.mi;throw Se(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),Q.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.gi,i=>{const r=Te.fromPath(i);return this.pi(e,r).next(s=>{s||n.removeEntry(r,Pe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Q.or([()=>Q.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class vc{constructor(e,n){this.persistence=e,this.yi=new _s(i=>lF(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=y4(this,n)}static fi(e,n){return new vc(e,n)}di(){}Ai(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Sr(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return Q.forEach(this.yi,(i,r)=>this.Dr(e,i,r).next(s=>s?Q.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(e,o=>this.Dr(e,o,n).next(a=>{a||(i++,s.removeEntry(o,Pe.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Q.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cu(e.data.value)),n}Dr(e,n,i){return Q.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.yi.get(n);return Q.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ds=i,this.As=r}static Rs(e,n){let i=qe(),r=qe();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Tm(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return B2()?8:oF(F2())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new x4;return this.bs(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,i,r){return i.documentReadCount<this.gs?(Ns()<=Ve.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Q.resolve()):(Ns()<=Ve.DEBUG&&ge("QueryEngine","Query:",Ds(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Ns()<=Ve.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(n))):Q.resolve())}ws(e,n){if(sE(n))return Q.resolve(null);let i=fi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Rf(n,null,"F"),i=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=qe(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,Rf(n,null,"F")):this.Fs(e,c,n,l)}))})))}Ss(e,n,i,r){return sE(n)||r.isEqual(Pe.min())?Q.resolve(null):this.ys.getDocuments(e,i).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,i,r)?Q.resolve(null):(Ns()<=Ve.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ds(n)),this.Fs(e,o,n,tF(r,Za)).next(a=>a))})}vs(e,n){let i=new Ct(aC(e));return n.forEach((r,s)=>{rh(e,s)&&(i=i.add(s))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}bs(e,n,i){return Ns()<=Ve.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ds(n)),this.ys.getDocumentsMatchingQuery(e,n,wr.min(),i)}Fs(e,n,i,r){return this.ys.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="LocalStore",D4=3e8;class O4{constructor(e,n,i,r){this.persistence=e,this.Ms=n,this.serializer=r,this.xs=new ft(Me),this.Os=new _s(s=>pm(s),mm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function M4(t,e,n,i){return new O4(t,e,n,i)}async function PC(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=qe();for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function L4(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let m=Q.resolve();return f.forEach(_=>{m=m.next(()=>h.getEntry(l,_)).next(k=>{const P=c.docVersions.get(_);Ye(P!==null,48541),k.version.compareTo(P)<0&&(d.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),h.addEntry(k)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=qe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function xC(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function V4(t,e){const n=Ne(t),i=e.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const a=[];e.targetChanges.forEach((h,d)=>{const f=r.get(d);if(!f)return;a.push(n.Ti.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(s,h.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(jt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,i)),r=r.insert(d,m),function(k,P,L){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=D4?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(f,m,h)&&a.push(n.Ti.updateTargetData(s,m))});let l=$i(),c=qe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(F4(s,o,e.documentUpdates).next(h=>{l=h.qs,c=h.Qs})),!i.isEqual(Pe.min())){const h=n.Ti.getLastRemoteSnapshotVersion(s).next(d=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.xs=r,s))}function F4(t,e,n){let i=qe(),r=qe();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=$i();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ge(Im,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:r}})}function q4(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=hm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function B4(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ti.getTargetData(i,e).next(s=>s?(r=s,Q.resolve(r)):n.Ti.allocateTargetId(i).next(o=>(r=new ur(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function Df(t,e,n){const i=Ne(t),r=i.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Po(o))throw o;ge(Im,`Failed to update sequence numbers for target ${e}: ${o}`)}i.xs=i.xs.remove(e),i.Os.delete(r.target)}function vE(t,e,n){const i=Ne(t);let r=Pe.min(),s=qe();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=Ne(l),f=d.Os.get(h);return f!==void 0?Q.resolve(d.xs.get(f)):d.Ti.getTargetData(c,h)}(i,o,fi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Ms.getDocumentsMatchingQuery(o,e,n?r:Pe.min(),n?s:qe())).next(a=>(U4(i,AF(e),a),{documents:a,$s:s})))}function U4(t,e,n){let i=t.Ns.get(e)||Pe.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ns.set(e,i)}class yE{constructor(){this.activeTargetIds=DF()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $4{constructor(){this.xo=new yE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new yE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class bE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ge(EE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ge(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu=null;function Of(){return hu===null?hu=function(){return 268435456+Math.round(2147483648*Math.random())}():hu++,"0x"+hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="RestConnection",H4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===dc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(e,n,i,r,s){const o=Of(),a=this.jo(e,n.toUriEncodedString());ge(bd,`Sending RPC '${e}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,r,s);const{host:c}=new URL(a),h=um(c);return this.Jo(e,a,l,i,h).then(d=>(ge(bd,`Received RPC '${e}' ${o}: `,d),d),d=>{throw uo(bd,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",i),d})}Yo(e,n,i,r,s,o){return this.zo(e,n,i,r,s)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}jo(e,n){const i=H4[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class K4 extends z4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,s){const o=Of();return new Promise((a,l)=>{const c=new DI;c.setWithCredentials(!0),c.listenOnce(OI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Iu.NO_ERROR:const d=c.getResponseJson();ge(Kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Iu.TIMEOUT:ge(Kt,`RPC '${e}' ${o} timed out`),l(new ve(X.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:const f=c.getStatus();if(ge(Kt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const k=function(L){const T=L.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(T)>=0?T:X.UNKNOWN}(_.status);l(new ve(k,_.message))}else l(new ve(X.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ve(X.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ge(Kt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);ge(Kt,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",h,i,15)})}T_(e,n,i){const r=Of(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VI(),a=LI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");ge(Kt,`Creating RPC '${e}' stream ${r}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,m=!1;const _=new W4({Zo:P=>{m?ge(Kt,`Not sending because RPC '${e}' stream ${r} is closed:`,P):(f||(ge(Kt,`Opening RPC '${e}' stream ${r} transport.`),d.open(),f=!0),ge(Kt,`RPC '${e}' stream ${r} sending:`,P),d.send(P))},Xo:()=>d.close()}),k=(P,L,T)=>{P.listen(L,C=>{try{T(C)}catch(A){setTimeout(()=>{throw A},0)}})};return k(d,aa.EventType.OPEN,()=>{m||(ge(Kt,`RPC '${e}' stream ${r} transport opened.`),_.__())}),k(d,aa.EventType.CLOSE,()=>{m||(m=!0,ge(Kt,`RPC '${e}' stream ${r} transport closed`),_.u_())}),k(d,aa.EventType.ERROR,P=>{m||(m=!0,uo(Kt,`RPC '${e}' stream ${r} transport errored. Name:`,P.name,"Message:",P.message),_.u_(new ve(X.UNAVAILABLE,"The operation could not be completed")))}),k(d,aa.EventType.MESSAGE,P=>{var L;if(!m){const T=P.data[0];Ye(!!T,16349);const C=T,A=(C==null?void 0:C.error)||((L=C[0])===null||L===void 0?void 0:L.error);if(A){ge(Kt,`RPC '${e}' stream ${r} received error:`,A);const O=A.status;let B=function(v){const b=vt[v];if(b!==void 0)return vC(b)}(O),S=A.message;B===void 0&&(B=X.INTERNAL,S="Unknown error status: "+O+" with message "+A.message),m=!0,_.u_(new ve(B,S)),d.close()}else ge(Kt,`RPC '${e}' stream ${r} received:`,T),_.c_(T)}}),k(a,MI.STAT_EVENT,P=>{P.stat===bf.PROXY?ge(Kt,`RPC '${e}' stream ${r} detected buffering proxy`):P.stat===bf.NOPROXY&&ge(Kt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}}function wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){return new JF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,i=1e3,r=1.5,s=6e4){this.xi=e,this.timerId=n,this.I_=i,this.E_=r,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),i=Math.max(0,Date.now()-this.V_),r=Math.max(0,n-i);r>0&&ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="PersistentStream";class DC{constructor(e,n,i,r,s,o,a,l){this.xi=e,this.y_=i,this.w_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new NC(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.S_===n&&this.K_(i,r)},i=>{e(()=>{const r=new ve(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.W_(r)})})}K_(e,n){const i=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.W_(r))}),this.stream.onMessage(r=>{i(()=>++this.v_==1?this.z_(r):this.onNext(r))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ge(wE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(ge(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G4 extends DC{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=e4(this.serializer,e),i=function(s){if(!("targetChange"in s))return Pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?pi(o.readTime):Pe.min()}(e);return this.listener.j_(n,i)}H_(e){const n={};n.database=Nf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Sf(l)?{documents:i4(s,l)}:{query:r4(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=bC(s,o.resumeToken);const c=kf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Pe.min())>0){a.readTime=_c(s,o.snapshotVersion.toTimestamp());const c=kf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=o4(this.serializer,e);i&&(n.labels=i),this.L_(n)}J_(e){const n={};n.database=Nf(this.serializer),n.removeTarget=e,this.L_(n)}}class Q4 extends DC{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=n4(e.writeResults,e.commitTime),i=pi(e.commitTime);return this.listener.ea(i,n)}ta(){const e={};e.database=Nf(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>t4(this.serializer,i))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{}class J4 extends Y4{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.na=!1}ra(){if(this.na)throw new ve(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,r){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,Pf(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(X.UNKNOWN,s.toString())})}Yo(e,n,i,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Pf(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(X.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class X4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ui(n),this.oa=!1):ge("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="RemoteStore";class Z4{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{i.enqueueAndForget(async()=>{vs(this)&&(ge(cs,"Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.Ta.add(4),await Cl(c),c.da.set("Unknown"),c.Ta.delete(4),await uh(c)}(this))})}),this.da=new X4(i,r)}}async function uh(t){if(vs(t))for(const e of t.Ia)await e(!0)}async function Cl(t){for(const e of t.Ia)await e(!1)}function OC(t,e){const n=Ne(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Rm(n)?Am(n):No(n).M_()&&Sm(n,e))}function Cm(t,e){const n=Ne(t),i=No(n);n.Pa.delete(e),i.M_()&&MC(n,e),n.Pa.size===0&&(i.M_()?i.N_():vs(n)&&n.da.set("Unknown"))}function Sm(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(t).H_(e)}function MC(t,e){t.Aa.Ke(e),No(t).J_(e)}function Am(t){t.Aa=new KF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),No(t).start(),t.da._a()}function Rm(t){return vs(t)&&!No(t).F_()&&t.Pa.size>0}function vs(t){return Ne(t).Ta.size===0}function LC(t){t.Aa=void 0}async function e6(t){t.da.set("Online")}async function t6(t){t.Pa.forEach((e,n)=>{Sm(t,e)})}async function n6(t,e){LC(t),Rm(t)?(t.da.ca(e),Am(t)):t.da.set("Unknown")}async function i6(t,e,n){if(t.da.set("Online"),e instanceof EC&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.Pa.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.Pa.delete(a),r.Aa.removeTarget(a))}(t,e)}catch(i){ge(cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await yc(t,i)}else if(e instanceof Ru?t.Aa.Xe(e):e instanceof yC?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Pe.min()))try{const i=await xC(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Aa.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Pa.get(c);h&&s.Pa.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Pa.get(l);if(!h)return;s.Pa.set(l,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),MC(s,l);const d=new ur(h.target,l,c,h.sequenceNumber);Sm(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){ge(cs,"Failed to raise snapshot:",i),await yc(t,i)}}async function yc(t,e,n){if(!Po(e))throw e;t.Ta.add(1),await Cl(t),t.da.set("Offline"),n||(n=()=>xC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge(cs,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await uh(t)})}function VC(t,e){return e().catch(n=>yc(t,n,e))}async function ch(t){const e=Ne(t),n=Sr(e);let i=e.ha.length>0?e.ha[e.ha.length-1].batchId:hm;for(;r6(e);)try{const r=await q4(e.localStore,i);if(r===null){e.ha.length===0&&n.N_();break}i=r.batchId,s6(e,r)}catch(r){await yc(e,r)}FC(e)&&qC(e)}function r6(t){return vs(t)&&t.ha.length<10}function s6(t,e){t.ha.push(e);const n=Sr(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function FC(t){return vs(t)&&!Sr(t).F_()&&t.ha.length>0}function qC(t){Sr(t).start()}async function o6(t){Sr(t).ta()}async function a6(t){const e=Sr(t);for(const n of t.ha)e.Z_(n.mutations)}async function l6(t,e,n){const i=t.ha.shift(),r=vm.from(i,e,n);await VC(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ch(t)}async function u6(t,e){e&&Sr(t).Y_&&await async function(i,r){if(function(o){return zF(o)&&o!==X.ABORTED}(r.code)){const s=i.ha.shift();Sr(i).O_(),await VC(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ch(i)}}(t,e),FC(t)&&qC(t)}async function TE(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),ge(cs,"RemoteStore received new credentials");const i=vs(n);n.Ta.add(3),await Cl(n),i&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await uh(n)}async function c6(t,e){const n=Ne(t);e?(n.Ta.delete(2),await uh(n)):e||(n.Ta.add(2),await Cl(n),n.da.set("Unknown"))}function No(t){return t.Ra||(t.Ra=function(n,i,r){const s=Ne(n);return s.ra(),new G4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{e_:e6.bind(null,t),n_:t6.bind(null,t),i_:n6.bind(null,t),j_:i6.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),Rm(t)?Am(t):t.da.set("Unknown")):(await t.Ra.stop(),LC(t))})),t.Ra}function Sr(t){return t.Va||(t.Va=function(n,i,r){const s=Ne(n);return s.ra(),new Q4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:o6.bind(null,t),i_:u6.bind(null,t),X_:a6.bind(null,t),ea:l6.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await ch(t)):(await t.Va.stop(),t.ha.length>0&&(ge(cs,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new km(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pm(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),Po(t))return new ve(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(e){return new Zs(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=la(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Zs;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.ma=new ft(Te.comparator)}track(e){const n=e.doc.key,i=this.ma.get(n);i?e.type!==0&&i.type===3?this.ma=this.ma.insert(n,e):e.type===3&&i.type!==1?this.ma=this.ma.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ma=this.ma.remove(n):e.type===1&&i.type===2?this.ma=this.ma.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,fa:i}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,i)=>{e.push(i)}),e}}class mo{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mo(e,n,Zs.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class d6{constructor(){this.queries=CE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,i){const r=Ne(n),s=r.queries;r.queries=CE(),s.forEach((o,a)=>{for(const l of a.ya)l.onError(i)})})(this,new ve(X.ABORTED,"Firestore shutting down"))}}function CE(){return new _s(t=>oC(t),ih)}async function f6(t,e){const n=Ne(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.wa()&&e.Sa()&&(i=2):(s=new h6,i=e.Sa()?0:1);try{switch(i){case 0:s.pa=await n.onListen(r,!0);break;case 1:s.pa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=Pm(o,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.ya.push(e),e.Da(n.onlineState),s.pa&&e.va(s.pa)&&xm(n)}async function p6(t,e){const n=Ne(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?r=e.Sa()?0:1:!s.wa()&&e.Sa()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function m6(t,e){const n=Ne(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.ya)a.va(r)&&(i=!0);o.pa=r}}i&&xm(n)}function g6(t,e,n){const i=Ne(t),r=i.queries.get(e);if(r)for(const s of r.ya)s.onError(n);i.queries.delete(e)}function xm(t){t.ba.forEach(e=>{e.next()})}var Mf,SE;(SE=Mf||(Mf={})).Ca="default",SE.Cache="cache";class _6{constructor(e,n,i){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=i||{}}va(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new mo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const i=n!=="Offline";return(!this.options.La||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Mf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.key=e}}class UC{constructor(e){this.key=e}}class v6{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=qe(),this.mutatedKeys=qe(),this.Ha=aC(e),this.Ja=new Zs(this.Ha)}get Ya(){return this.Ga}Za(e,n){const i=n?n.Xa:new IE,r=n?n.Ja:this.Ja;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,d)=>{const f=r.get(h),m=rh(this.query,d)?d:null,_=!!f&&this.mutatedKeys.has(f.key),k=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let P=!1;f&&m?f.data.isEqual(m.data)?_!==k&&(i.track({type:3,doc:m}),P=!0):this.eu(f,m)||(i.track({type:2,doc:m}),P=!0,(l&&this.Ha(m,l)>0||c&&this.Ha(m,c)<0)&&(a=!0)):!f&&m?(i.track({type:0,doc:m}),P=!0):f&&!m&&(i.track({type:1,doc:f}),P=!0,(l||c)&&(a=!0)),P&&(m?(o=o.add(m),s=k?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{Ja:o,Xa:i,Cs:a,mutatedKeys:s}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((h,d)=>function(m,_){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:P})}};return k(m)-k(_)}(h.type,d.type)||this.Ha(h.doc,d.doc)),this.tu(i),r=r!=null&&r;const a=n&&!r?this.nu():[],l=this.ja.size===0&&this.current&&!r?1:0,c=l!==this.za;return this.za=l,o.length!==0||c?{snapshot:new mo(this.query,e.Ja,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new IE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=qe(),this.Ja.forEach(i=>{this.iu(i.key)&&(this.ja=this.ja.add(i.key))});const n=[];return e.forEach(i=>{this.ja.has(i)||n.push(new UC(i))}),this.ja.forEach(i=>{e.has(i)||n.push(new BC(i))}),n}su(e){this.Ga=e.$s,this.ja=qe();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return mo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Nm="SyncEngine";class y6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class E6{constructor(e){this.key=e,this._u=!1}}class b6{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new _s(a=>oC(a),ih),this.cu=new Map,this.lu=new Set,this.hu=new ft(Te.comparator),this.Pu=new Map,this.Tu=new bm,this.Iu={},this.Eu=new Map,this.du=po.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function w6(t,e,n=!0){const i=KC(t);let r;const s=i.uu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ou()):r=await $C(i,e,n,!0),r}async function T6(t,e){const n=KC(t);await $C(n,e,!0,!1)}async function $C(t,e,n,i){const r=await B4(t.localStore,fi(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await I6(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&OC(t.remoteStore,r),a}async function I6(t,e,n,i,r){t.Ru=(d,f,m)=>async function(k,P,L,T){let C=P.view.Za(L);C.Cs&&(C=await vE(k.localStore,P.query,!1).then(({documents:S})=>P.view.Za(S,C)));const A=T&&T.targetChanges.get(P.targetId),O=T&&T.targetMismatches.get(P.targetId)!=null,B=P.view.applyChanges(C,k.isPrimaryClient,A,O);return RE(k,P.targetId,B.ru),B.snapshot}(t,d,f,m);const s=await vE(t.localStore,e,!0),o=new v6(e,s.$s),a=o.Za(s.documents),l=Il.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);RE(t,n,c.ru);const h=new y6(e,n,o);return t.uu.set(e,h),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),c.snapshot}async function C6(t,e,n){const i=Ne(t),r=i.uu.get(e),s=i.cu.get(r.targetId);if(s.length>1)return i.cu.set(r.targetId,s.filter(o=>!ih(o,e))),void i.uu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Df(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Cm(i.remoteStore,r.targetId),Lf(i,r.targetId)}).catch(ko)):(Lf(i,r.targetId),await Df(i.localStore,r.targetId,!0))}async function S6(t,e){const n=Ne(t),i=n.uu.get(e),r=n.cu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Cm(n.remoteStore,i.targetId))}async function A6(t,e,n){const i=O6(t);try{const r=await function(o,a){const l=Ne(o),c=It.now(),h=a.reduce((m,_)=>m.add(_.key),qe());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=$i(),k=qe();return l.Bs.getEntries(m,h).next(P=>{_=P,_.forEach((L,T)=>{T.isValidDocument()||(k=k.add(L))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(P=>{d=P;const L=[];for(const T of a){const C=BF(T,d.get(T.key).overlayedDocument);C!=null&&L.push(new Pr(T.key,C,JI(C.value.mapValue),Wn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,L,a)}).next(P=>{f=P;const L=P.applyToLocalDocumentSet(d,k);return l.documentOverlayCache.saveOverlays(m,P.batchId,L)})}).then(()=>({batchId:f.batchId,changes:uC(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Iu[o.currentUser.toKey()];c||(c=new ft(Me)),c=c.insert(a,l),o.Iu[o.currentUser.toKey()]=c}(i,r.batchId,n),await Sl(i,r.changes),await ch(i.remoteStore)}catch(r){const s=Pm(r,"Failed to persist write");n.reject(s)}}async function jC(t,e){const n=Ne(t);try{const i=await V4(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Pu.get(s);o&&(Ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o._u=!0:r.modifiedDocuments.size>0?Ye(o._u,14607):r.removedDocuments.size>0&&(Ye(o._u,42227),o._u=!1))}),await Sl(n,i,e)}catch(i){await ko(i)}}function AE(t,e,n){const i=Ne(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.uu.forEach((s,o)=>{const a=o.view.Da(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=Ne(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.ya)f.Da(a)&&(c=!0)}),c&&xm(l)}(i.eventManager,e),r.length&&i.au.j_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function R6(t,e,n){const i=Ne(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Pu.get(e),s=r&&r.key;if(s){let o=new ft(Te.comparator);o=o.insert(s,en.newNoDocument(s,Pe.min()));const a=qe().add(s),l=new ah(Pe.min(),new Map,new ft(Me),o,a);await jC(i,l),i.hu=i.hu.remove(s),i.Pu.delete(e),Dm(i)}else await Df(i.localStore,e,!1).then(()=>Lf(i,e,n)).catch(ko)}async function k6(t,e){const n=Ne(t),i=e.batch.batchId;try{const r=await L4(n.localStore,e);zC(n,i,null),HC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Sl(n,r)}catch(r){await ko(r)}}async function P6(t,e,n){const i=Ne(t);try{const r=await function(o,a){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Ye(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);zC(i,e,n),HC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Sl(i,r)}catch(r){await ko(r)}}function HC(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function zC(t,e,n){const i=Ne(t);let r=i.Iu[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Iu[i.currentUser.toKey()]=r}}function Lf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.cu.get(e))t.uu.delete(i),n&&t.au.Vu(i,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(i=>{t.Tu.containsKey(i)||WC(t,i)})}function WC(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Cm(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),Dm(t))}function RE(t,e,n){for(const i of n)i instanceof BC?(t.Tu.addReference(i.key,e),x6(t,i)):i instanceof UC?(ge(Nm,"Document no longer in limbo: "+i.key),t.Tu.removeReference(i.key,e),t.Tu.containsKey(i.key)||WC(t,i.key)):Se(19791,{mu:i})}function x6(t,e){const n=e.key,i=n.path.canonicalString();t.hu.get(n)||t.lu.has(i)||(ge(Nm,"New document in limbo: "+n),t.lu.add(i),Dm(t))}function Dm(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Te(lt.fromString(e)),i=t.du.next();t.Pu.set(i,new E6(n)),t.hu=t.hu.insert(n,i),OC(t.remoteStore,new ur(fi(rC(n.path)),i,"TargetPurposeLimboResolution",eh.le))}}async function Sl(t,e,n){const i=Ne(t),r=[],s=[],o=[];i.uu.isEmpty()||(i.uu.forEach((a,l)=>{o.push(i.Ru(l,e,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){r.push(c);const d=Tm.Rs(l.targetId,c);s.push(d)}}))}),await Promise.all(o),i.au.j_(r),await async function(l,c){const h=Ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Q.forEach(c,f=>Q.forEach(f.ds,m=>h.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>Q.forEach(f.As,m=>h.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!Po(d))throw d;ge(Im,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const m=h.xs.get(f),_=m.snapshotVersion,k=m.withLastLimboFreeSnapshotVersion(_);h.xs=h.xs.insert(f,k)}}}(i.localStore,s))}async function N6(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){ge(Nm,"User change. New user:",e.toKey());const i=await PC(n.localStore,e);n.currentUser=e,function(s,o){s.Eu.forEach(a=>{a.forEach(l=>{l.reject(new ve(X.CANCELLED,o))})}),s.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Sl(n,i.ks)}}function D6(t,e){const n=Ne(t),i=n.Pu.get(e);if(i&&i._u)return qe().add(i.key);{let r=qe();const s=n.cu.get(e);if(!s)return r;for(const o of s){const a=n.uu.get(o);r=r.unionWith(a.view.Ya)}return r}}function KC(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R6.bind(null,e),e.au.j_=m6.bind(null,e.eventManager),e.au.Vu=g6.bind(null,e.eventManager),e}function O6(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P6.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return M4(this.persistence,new N4,e.initialUser,this.serializer)}yu(e){return new kC(wm.fi,this.serializer)}pu(e){return new $4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class M6 extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Ye(this.persistence.referenceDelegate instanceof vc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new _4(i,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new kC(i=>vc.fi(i,n),this.serializer)}}class Vf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>AE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=N6.bind(null,this.syncEngine),await c6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d6}()}createDatastore(e){const n=lh(e.databaseInfo.databaseId),i=function(s){return new K4(s)}(e.databaseInfo);return function(s,o,a,l){return new J4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new Z4(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>AE(this.syncEngine,n,0),function(){return bE.C()?new bE:new j4}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,h){const d=new b6(r,s,o,a,l,c);return h&&(d.Au=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=Ne(r);ge(cs,"RemoteStore shutting down."),s.Ta.add(5),await Cl(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vf.provider={build:()=>new Vf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class V6{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Yt.UNAUTHENTICATED,this.clientId=UI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{ge(Ar,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(ge(Ar,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Pm(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Td(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Ar,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await PC(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F6(t);ge(Ar,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>TE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>TE(e.remoteStore,r)),t._onlineComponents=e}async function F6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Ar,"Using user provided OfflineComponentProvider");try{await Td(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===X.FAILED_PRECONDITION||r.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await Td(t,new Ec)}}else ge(Ar,"Using default OfflineComponentProvider"),await Td(t,new M6(void 0));return t._offlineComponents}async function GC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Ar,"Using user provided OnlineComponentProvider"),await kE(t,t._uninitializedComponentsProvider._online)):(ge(Ar,"Using default OnlineComponentProvider"),await kE(t,new Vf))),t._onlineComponents}function q6(t){return GC(t).then(e=>e.syncEngine)}async function B6(t){const e=await GC(t),n=e.eventManager;return n.onListen=w6.bind(null,e.syncEngine),n.onUnlisten=C6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=S6.bind(null,e.syncEngine),n}function U6(t,e,n={}){const i=new vr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new L6({next:f=>{h.Cu(),o.enqueueAndForget(()=>p6(s,d)),f.fromCache&&l.source==="server"?c.reject(new ve(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new _6(a,h,{includeMetadataChanges:!0,La:!0});return f6(s,d)}(await B6(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e,n){if(!n)throw new ve(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $6(t,e,n,i){if(e===!0&&i===!0)throw new ve(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xE(t){if(!Te.isDocumentKey(t))throw new ve(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NE(t){if(Te.isDocumentKey(t))throw new ve(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hh(t);throw new ve(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="firestore.googleapis.com",DE=!0;class OE{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JC,this.ssl=DE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:DE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m4)throw new ve(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new W2;switch(i.type){case"firstParty":return new Y2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=PE.get(n);i&&(ge("ComponentProvider","Removing Datastore"),PE.delete(n),i.terminate())}(this),Promise.resolve()}}function j6(t,e,n,i={}){var r;t=hs(t,dh);const s=um(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(D2(`https://${l}`),V2("Firestore",!0)),o.host!==JC&&o.host!==l&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:i});if(!xI(c,a)&&(t._setSettings(c),i.mockUserToken)){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=Yt.MOCK_USER;else{h=O2(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new ve(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Yt(f)}t._authCredentials=new K2(new qI(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class bn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class yr extends ys{constructor(e,n,i){super(e,n,rC(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new Te(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function H6(t,e,...n){if(t=Bi(t),YC("collection","path",e),t instanceof dh){const i=lt.fromString(e,...n);return NE(i),new yr(t,null,i)}{if(!(t instanceof bn||t instanceof yr))throw new ve(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(lt.fromString(e,...n));return NE(i),new yr(t.firestore,null,i)}}function Ff(t,e,...n){if(t=Bi(t),arguments.length===1&&(e=UI.newId()),YC("doc","path",e),t instanceof dh){const i=lt.fromString(e,...n);return xE(i),new bn(t,null,new Te(i))}{if(!(t instanceof bn||t instanceof yr))throw new ve(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(lt.fromString(e,...n));return xE(i),new bn(t.firestore,t instanceof yr?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="AsyncQueue";class LE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new NC(this,"async_queue_retry"),this.ec=()=>{const i=wd();i&&ge(ME,"Visibility state changed to "+i.visibilityState),this.C_.p_()},this.tc=e;const n=wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new vr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Po(e))throw e;ge(ME,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(i=>{throw this.Ju=i,this.Yu=!1,Ui("INTERNAL UNHANDLED ERROR: ",VE(i)),i}).then(i=>(this.Yu=!1,i))));return this.tc=n,n}enqueueAfterDelay(e,n,i){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const r=km.createAndSchedule(this,e,n,i,s=>this.oc(s));return this.Hu.push(r),r}nc(){this.Ju&&Se(47125,{_c:VE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function VE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Al extends dh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new LE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LE(e),this._firestoreClient=void 0,await e}}}function z6(t,e){const n=typeof t=="object"?t:Np(),i=typeof t=="string"?t:dc,r=jc(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=N2("firestore");s&&j6(r,...s)}return r}function XC(t){if(t._terminated)throw new ve(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||W6(t),t._firestoreClient}function W6(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,h){return new hF(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new V6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(jt.fromBase64String(e))}catch(n){throw new ve(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new go(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=/^__.*__$/;class G6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tl(e,this.data,n,this.fieldTransforms)}}class ZC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{hc:t})}}class Vm{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tc({path:i,Ec:!1});return r.dc(e),r}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tc({path:i,Ec:!1});return r.Pc(),r}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return bc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(eS(this.hc)&&K6.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Q6{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||lh(e)}gc(e,n,i,r=!1){return new Vm({hc:e,methodName:n,fc:i,path:Ut.emptyPath(),Ec:!1,mc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fm(t){const e=t._freezeSettings(),n=lh(t._databaseId);return new Q6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Y6(t,e,n,i,r,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,n,r);qm("Data must be an object, but it was:",o,i);const a=tS(i,o);let l,c;if(s.merge)l=new yn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=qf(e,d,n);if(!o.contains(f))throw new ve(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);iS(h,f)||h.push(f)}l=new yn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new G6(new fn(a),l,c)}class ph extends Om{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ph}}function J6(t,e,n,i){const r=t.gc(1,e,n);qm("Data must be an object, but it was:",r,i);const s=[],o=fn.empty();kr(i,(l,c)=>{const h=Bm(e,l,n);c=Bi(c);const d=r.Ac(h);if(c instanceof ph)s.push(h);else{const f=Rl(c,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new yn(s);return new ZC(o,a,r.fieldTransforms)}function X6(t,e,n,i,r,s){const o=t.gc(1,e,n),a=[qf(e,i,n)],l=[r];if(s.length%2!=0)throw new ve(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(qf(e,s[f])),l.push(s[f+1]);const c=[],h=fn.empty();for(let f=a.length-1;f>=0;--f)if(!iS(c,a[f])){const m=a[f];let _=l[f];_=Bi(_);const k=o.Ac(m);if(_ instanceof ph)c.push(m);else{const P=Rl(_,k);P!=null&&(c.push(m),h.set(m,P))}}const d=new yn(c);return new ZC(h,d,o.fieldTransforms)}function Z6(t,e,n,i=!1){return Rl(n,t.gc(i?4:3,e))}function Rl(t,e){if(nS(t=Bi(t)))return qm("Unsupported field value:",e,t),tS(t,e);if(t instanceof Om)return function(i,r){if(!eS(r.hc))throw r.Vc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Vc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Rl(a,r.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Bi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return OF(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=It.fromDate(i);return{timestampValue:_c(r.serializer,s)}}if(i instanceof It){const s=new It(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_c(r.serializer,s)}}if(i instanceof Mm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof go)return{bytesValue:bC(r.serializer,i._byteString)};if(i instanceof bn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Em(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Lm)return function(o,a){return{mapValue:{fields:{[QI]:{stringValue:YI},[fc]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return gm(a.serializer,c)})}}}}}}(i,r);throw r.Vc(`Unsupported field value: ${hh(i)}`)}(t,e)}function tS(t,e){const n={};return jI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kr(t,(i,r)=>{const s=Rl(r,e.Ic(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function nS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof Mm||t instanceof go||t instanceof bn||t instanceof Om||t instanceof Lm)}function qm(t,e,n){if(!nS(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=hh(n);throw i==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+i)}}function qf(t,e,n){if((e=Bi(e))instanceof fh)return e._internalPath;if(typeof e=="string")return Bm(t,e);throw bc("Field path arguments must be of type string or ",t,!1,void 0,n)}const eq=new RegExp("[~\\*/\\[\\]]");function Bm(t,e,n){if(e.search(eq)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fh(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bc(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ve(X.INVALID_ARGUMENT,a+t+l)}function iS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tq extends rS{data(){return super.data()}}function mh(t,e){return typeof e=="string"?Bm(t,e):e instanceof fh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class sS extends Um{}function iq(t,e,...n){let i=[];e instanceof Um&&i.push(e),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof $m).length,a=s.filter(l=>l instanceof gh).length;if(o>1||o>0&&a>0)throw new ve(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class gh extends sS{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new gh(e,n,i)}_apply(e){const n=this._parse(e);return oS(e._query,n),new ys(e.firestore,e.converter,Af(e._query,n))}_parse(e){const n=Fm(e.firestore);return function(s,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ve(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){qE(d,h);const _=[];for(const k of d)_.push(FE(l,s,k));f={arrayValue:{values:_}}}else f=FE(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||qE(d,h),f=Z6(a,o,d,h==="in"||h==="not-in");return bt.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rq(t,e,n){const i=e,r=mh("where",t);return gh._create(r,i,n)}class $m extends Um{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $m(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)oS(o,l),o=Af(o,l)}(e._query,n),new ys(e.firestore,e.converter,Af(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jm extends sS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jm(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new ve(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ve(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new il(s,o)}(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new xo(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function sq(t,e="asc"){const n=e,i=mh("orderBy",t);return jm._create(i,n)}function FE(t,e,n){if(typeof(n=Bi(n))=="string"){if(n==="")throw new ve(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sC(e)&&n.indexOf("/")!==-1)throw new ve(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(lt.fromString(n));if(!Te.isDocumentKey(i))throw new ve(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Zy(t,new Te(i))}if(n instanceof bn)return Zy(t,n._key);throw new ve(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(n)}.`)}function qE(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oS(t,e){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oq{convertValue(e,n="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return kr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[fc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>gt(o.doubleValue));return new Lm(s)}convertGeoPoint(e){return new Mm(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=nh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(el(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=lt.fromString(e);Ye(AC(i),9688,{name:e});const r=new tl(i.get(1),i.get(3)),s=new Te(i.popFirst(5));return r.isEqual(n)||Ui(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lq extends rS{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(mh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class ku extends lq{data(e={}){return super.data(e)}}class uq{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new du(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ku(this._firestore,this._userDataWriter,i.key,i,new du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new ku(r._firestore,r._userDataWriter,a.doc.key,a.doc,new du(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ku(r._firestore,r._userDataWriter,a.doc.key,a.doc,new du(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:cq(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}class hq extends oq{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function dq(t){t=hs(t,ys);const e=hs(t.firestore,Al),n=XC(e),i=new hq(e);return nq(t._query),U6(n,t._query).then(r=>new uq(e,i,t,r))}function fq(t,e,n,...i){t=hs(t,bn);const r=hs(t.firestore,Al),s=Fm(r);let o;return o=typeof(e=Bi(e))=="string"||e instanceof fh?X6(s,"updateDoc",t._key,e,n,i):J6(s,"updateDoc",t._key,e),Hm(r,[o.toMutation(t._key,Wn.exists(!0))])}function pq(t){return Hm(hs(t.firestore,Al),[new _m(t._key,Wn.none())])}function mq(t,e){const n=hs(t.firestore,Al),i=Ff(t),r=aq(t.converter,e);return Hm(n,[Y6(Fm(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Wn.exists(!1))]).then(()=>i)}function Hm(t,e){return function(i,r){const s=new vr;return i.asyncQueue.enqueueAndForget(async()=>A6(await q6(i),r,s)),s.promise}(XC(t),e)}(function(e,n=!0){(function(r){Ro=r})(fs),rs(new z2("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Al(new G2(i.getProvider("auth-internal")),new J2(o,i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ve(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tl(c.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),xi(Uy,$y,e),xi(Uy,$y,"esm2017")})();const Qt=class Qt{static init(){Qt.appfb==null&&(Qt.appfb=DT(Qt.fbconf),Qt.database=iL(Qt.appfb),Qt.auth=AI(Qt.appfb),Qt.databaseStore=z6(Qt.appfb))}};Ei(Qt,"fbconf",Ox.firebaseConfig),Ei(Qt,"appfb",null),Ei(Qt,"database",null),Ei(Qt,"auth",null),Ei(Qt,"databaseStore",null);let xn=Qt;const Da=class Da{static verificaLogado(e,n){uV(xn.auth,i=>{i?(xn.auth&&(Da.user=i),Da.user.uid,e()):n()})}static async logar(e,n,i,r){try{(await rV(xn.auth,e,n)).user?i():r()}catch(s){r(s)}}static deslogar(e){cV(xn.auth).then(e)}static atualizaSenha(e,n,i){const s=AI().currentUser;sV(s,e).then(()=>{n()}).catch(a=>{i(a)})}};Ei(Da,"user",null);let Nn=Da;const gq={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},_q={...gq,contextMenu:Boolean};function vq({showing:t,avoidEmit:e,configureAnchorEl:n}){const{props:i,proxy:r,emit:s}=Le(),o=_e(null);let a=null;function l(m){return o.value===null?!1:m===void 0||m.touches===void 0||m.touches.length<=1}const c={};n===void 0&&(Object.assign(c,{hide(m){r.hide(m)},toggle(m){r.toggle(m),m.qAnchorHandled=!0},toggleKey(m){Li(m,13)===!0&&c.toggle(m)},contextClick(m){r.hide(m),ri(m),Ft(()=>{r.show(m),m.qAnchorHandled=!0})},prevent:ri,mobileTouch(m){if(c.mobileCleanup(m),l(m)!==!0)return;r.hide(m),o.value.classList.add("non-selectable");const _=m.target;Wr(c,"anchor",[[_,"touchmove","mobileCleanup","passive"],[_,"touchend","mobileCleanup","passive"],[_,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),a=setTimeout(()=>{a=null,r.show(m),m.qAnchorHandled=!0},300)},mobileCleanup(m){o.value.classList.remove("non-selectable"),a!==null&&(clearTimeout(a),a=null),t.value===!0&&m!==void 0&&yT()}}),n=function(m=i.contextMenu){if(i.noParentEvent===!0||o.value===null)return;let _;m===!0?r.$q.platform.is.mobile===!0?_=[[o.value,"touchstart","mobileTouch","passive"]]:_=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:_=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],Wr(c,"anchor",_)});function h(){_a(c,"anchor")}function d(m){for(o.value=m;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;n()}function f(){if(i.target===!1||i.target===""||r.$el.parentNode===null)o.value=null;else if(i.target===!0)d(r.$el.parentNode);else{let m=i.target;if(typeof i.target=="string")try{m=document.querySelector(i.target)}catch{m=void 0}m!=null?(o.value=m.$el||m,n()):(o.value=null,console.error(`Anchor: target "${i.target}" not found`))}}return ke(()=>i.contextMenu,m=>{o.value!==null&&(h(),n(m))}),ke(()=>i.target,()=>{o.value!==null&&h(),f()}),ke(()=>i.noParentEvent,m=>{o.value!==null&&(m===!0?h():n())}),Nt(()=>{f(),e!==!0&&i.modelValue===!0&&o.value===null&&s("update:modelValue",!1)}),mt(()=>{a!==null&&clearTimeout(a),h()}),{anchorEl:o,canShow:l,anchorEvents:c}}function yq(t,e){const n=_e(null);let i;function r(a,l){const c=`${l!==void 0?"add":"remove"}EventListener`,h=l!==void 0?l:i;a!==window&&a[c]("scroll",h,yt.passive),window[c]("scroll",h,yt.passive),i=l}function s(){n.value!==null&&(r(n.value),n.value=null)}const o=ke(()=>t.noParentEvent,()=>{n.value!==null&&(s(),e())});return mt(o),{localScrollTarget:n,unconfigureScrollTarget:s,changeScrollEvent:r}}const{notPassiveCapture:wc}=yt,es=[];function Tc(t){const e=t.target;if(e===void 0||e.nodeType===8||e.classList.contains("no-pointer-events")===!0)return;let n=Ks.length-1;for(;n>=0;){const i=Ks[n].$;if(i.type.name==="QTooltip"){n--;continue}if(i.type.name!=="QDialog")break;if(i.props.seamless!==!0)return;n--}for(let i=es.length-1;i>=0;i--){const r=es[i];if((r.anchorEl.value===null||r.anchorEl.value.contains(e)===!1)&&(e===document.body||r.innerRef.value!==null&&r.innerRef.value.contains(e)===!1))t.qClickOutside=!0,r.onClickOutside(t);else return}}function Eq(t){es.push(t),es.length===1&&(document.addEventListener("mousedown",Tc,wc),document.addEventListener("touchstart",Tc,wc))}function BE(t){const e=es.findIndex(n=>n===t);e!==-1&&(es.splice(e,1),es.length===0&&(document.removeEventListener("mousedown",Tc,wc),document.removeEventListener("touchstart",Tc,wc)))}let UE,$E;function jE(t){const e=t.split(" ");return e.length!==2?!1:["top","center","bottom"].includes(e[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(e[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function bq(t){return t?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):!0}const Bf={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(t=>{Bf[`${t}#ltr`]=t,Bf[`${t}#rtl`]=t});function HE(t,e){const n=t.split(" ");return{vertical:n[0],horizontal:Bf[`${n[1]}#${e===!0?"rtl":"ltr"}`]}}function wq(t,e){let{top:n,left:i,right:r,bottom:s,width:o,height:a}=t.getBoundingClientRect();return e!==void 0&&(n-=e[1],i-=e[0],s+=e[1],r+=e[0],o+=e[0],a+=e[1]),{top:n,bottom:s,height:a,left:i,right:r,width:o,middle:i+(r-i)/2,center:n+(s-n)/2}}function Tq(t,e,n){let{top:i,left:r}=t.getBoundingClientRect();return i+=e.top,r+=e.left,n!==void 0&&(i+=n[1],r+=n[0]),{top:i,bottom:i+1,height:1,left:r,right:r+1,width:1,middle:r,center:i}}function Iq(t,e){return{top:0,center:e/2,bottom:e,left:0,middle:t/2,right:t}}function zE(t,e,n,i){return{top:t[n.vertical]-e[i.vertical],left:t[n.horizontal]-e[i.horizontal]}}function aS(t,e=0){if(t.targetEl===null||t.anchorEl===null||e>5)return;if(t.targetEl.offsetHeight===0||t.targetEl.offsetWidth===0){setTimeout(()=>{aS(t,e+1)},10);return}const{targetEl:n,offset:i,anchorEl:r,anchorOrigin:s,selfOrigin:o,absoluteOffset:a,fit:l,cover:c,maxHeight:h,maxWidth:d}=t;if(ut.is.ios===!0&&window.visualViewport!==void 0){const B=document.body.style,{offsetLeft:S,offsetTop:E}=window.visualViewport;S!==UE&&(B.setProperty("--q-pe-left",S+"px"),UE=S),E!==$E&&(B.setProperty("--q-pe-top",E+"px"),$E=E)}const{scrollLeft:f,scrollTop:m}=n,_=a===void 0?wq(r,c===!0?[0,0]:i):Tq(r,a,i);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:d,maxHeight:h,visibility:"visible"});const{offsetWidth:k,offsetHeight:P}=n,{elWidth:L,elHeight:T}=l===!0||c===!0?{elWidth:Math.max(_.width,k),elHeight:c===!0?Math.max(_.height,P):P}:{elWidth:k,elHeight:P};let C={maxWidth:d,maxHeight:h};(l===!0||c===!0)&&(C.minWidth=_.width+"px",c===!0&&(C.minHeight=_.height+"px")),Object.assign(n.style,C);const A=Iq(L,T);let O=zE(_,A,s,o);if(a===void 0||i===void 0)Id(O,_,A,s,o);else{const{top:B,left:S}=O;Id(O,_,A,s,o);let E=!1;if(O.top!==B){E=!0;const v=2*i[1];_.center=_.top-=v,_.bottom-=v+2}if(O.left!==S){E=!0;const v=2*i[0];_.middle=_.left-=v,_.right-=v+2}E===!0&&(O=zE(_,A,s,o),Id(O,_,A,s,o))}C={top:O.top+"px",left:O.left+"px"},O.maxHeight!==void 0&&(C.maxHeight=O.maxHeight+"px",_.height>O.maxHeight&&(C.minHeight=C.maxHeight)),O.maxWidth!==void 0&&(C.maxWidth=O.maxWidth+"px",_.width>O.maxWidth&&(C.minWidth=C.maxWidth)),Object.assign(n.style,C),n.scrollTop!==m&&(n.scrollTop=m),n.scrollLeft!==f&&(n.scrollLeft=f)}function Id(t,e,n,i,r){const s=n.bottom,o=n.right,a=_u(),l=window.innerHeight-a,c=document.body.clientWidth;if(t.top<0||t.top+s>l)if(r.vertical==="center")t.top=e[i.vertical]>l/2?Math.max(0,l-s):0,t.maxHeight=Math.min(s,l);else if(e[i.vertical]>l/2){const h=Math.min(l,i.vertical==="center"?e.center:i.vertical===r.vertical?e.bottom:e.top);t.maxHeight=Math.min(s,h),t.top=Math.max(0,h-s)}else t.top=Math.max(0,i.vertical==="center"?e.center:i.vertical===r.vertical?e.top:e.bottom),t.maxHeight=Math.min(s,l-t.top);if(t.left<0||t.left+o>c)if(t.maxWidth=Math.min(o,c),r.horizontal==="middle")t.left=e[i.horizontal]>c/2?Math.max(0,c-o):0;else if(e[i.horizontal]>c/2){const h=Math.min(c,i.horizontal==="middle"?e.middle:i.horizontal===r.horizontal?e.right:e.left);t.maxWidth=Math.min(o,h),t.left=Math.max(0,h-t.maxWidth)}else t.left=Math.max(0,i.horizontal==="middle"?e.middle:i.horizontal===r.horizontal?e.left:e.right),t.maxWidth=Math.min(o,c-t.left)}const Cq=Fe({name:"QMenu",inheritAttrs:!1,props:{..._q,...gw,...Jn,...fp,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:jE},self:{type:String,validator:jE},offset:{type:Array,validator:bq},scrollTarget:Iw,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[..._w,"click","escapeKey"],setup(t,{slots:e,emit:n,attrs:i}){let r=null,s,o,a;const l=Le(),{proxy:c}=l,{$q:h}=c,d=_e(null),f=_e(!1),m=D(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),_=Xn(t,h),{registerTick:k,removeTick:P}=va(),{registerTimeout:L}=$a(),{transitionProps:T,transitionStyle:C}=yw(t),{localScrollTarget:A,changeScrollEvent:O,unconfigureScrollTarget:B}=yq(t,we),{anchorEl:S,canShow:E}=vq({showing:f}),{hide:v}=vw({showing:f,canShow:E,handleShow:Ie,handleHide:Re,hideOnRouteChange:m,processOnMount:!0}),{showPortal:b,hidePortal:R,renderPortal:y}=ww(l,d,ue,"menu"),I={anchorEl:S,innerRef:d,onClickOutside(K){if(t.persistent!==!0&&f.value===!0)return v(K),(K.type==="touchstart"||K.target.classList.contains("q-dialog__backdrop"))&&Et(K),!0}},M=D(()=>HE(t.anchor||(t.cover===!0?"center middle":"bottom start"),h.lang.rtl)),ee=D(()=>t.cover===!0?M.value:HE(t.self||"top start",h.lang.rtl)),se=D(()=>(t.square===!0?" q-menu--square":"")+(_.value===!0?" q-menu--dark q-dark":"")),ie=D(()=>t.autoClose===!0?{onClick:Xe}:{}),Y=D(()=>f.value===!0&&t.persistent!==!0);ke(Y,K=>{K===!0?(Pw(ce),Eq(I)):(ju(ce),BE(I))});function Ee(){ul(()=>{let K=d.value;K&&K.contains(document.activeElement)!==!0&&(K=K.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||K.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||K.querySelector("[autofocus], [data-autofocus]")||K,K.focus({preventScroll:!0}))})}function Ie(K){if(r=t.noRefocus===!1?document.activeElement:null,Nw(We),b(),we(),s=void 0,K!==void 0&&(t.touchPosition||t.contextMenu)){const fe=Bu(K);if(fe.left!==void 0){const{top:Oe,left:x}=S.value.getBoundingClientRect();s={left:fe.left-x,top:fe.top-Oe}}}o===void 0&&(o=ke(()=>h.screen.width+"|"+h.screen.height+"|"+t.self+"|"+t.anchor+"|"+h.lang.rtl,U)),t.noFocus!==!0&&document.activeElement.blur(),k(()=>{U(),t.noFocus!==!0&&Ee()}),L(()=>{h.platform.is.ios===!0&&(a=t.autoClose,d.value.click()),U(),b(!0),n("show",K)},t.transitionDuration)}function Re(K){P(),R(),z(!0),r!==null&&(K===void 0||K.qClickOutside!==!0)&&((((K==null?void 0:K.type.indexOf("key"))===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),L(()=>{R(!0),n("hide",K)},t.transitionDuration)}function z(K){s=void 0,o!==void 0&&(o(),o=void 0),(K===!0||f.value===!0)&&($d(We),B(),BE(I),ju(ce)),K!==!0&&(r=null)}function we(){(S.value!==null||t.scrollTarget!==void 0)&&(A.value=Cw(S.value,t.scrollTarget),O(A.value,U))}function Xe(K){a!==!0?(bw(c,K),n("click",K)):a=!1}function We(K){Y.value===!0&&t.noFocus!==!0&&Tw(d.value,K.target)!==!0&&Ee()}function ce(K){t.noEscDismiss!==!0&&(n("escapeKey"),v(K))}function U(){aS({targetEl:d.value,offset:t.offset,anchorEl:S.value,anchorOrigin:M.value,selfOrigin:ee.value,absoluteOffset:s,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function ue(){return F(ts,T.value,()=>f.value===!0?F("div",{role:"menu",...i,ref:d,tabindex:-1,class:["q-menu q-position-engine scroll"+se.value,i.class],style:[i.style,C.value],...ie.value},rt(e.default)):null)}return mt(z),Object.assign(c,{focus:Ee,updatePosition:U}),y}}),Sq=Object.keys(gp);function Aq(t){return Sq.reduce((e,n)=>{const i=t[n];return i!==void 0&&(e[n]=i),e},{})}const WE=Fe({name:"QBtnDropdown",props:{...gp,...fp,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(t,{slots:e,emit:n}){const{proxy:i}=Le(),r=_e(t.modelValue),s=_e(null),o=Hw(),a=D(()=>{const A={"aria-expanded":r.value===!0?"true":"false","aria-haspopup":"true","aria-controls":o.value,"aria-label":t.toggleAriaLabel||i.$q.lang.label[r.value===!0?"collapse":"expand"](t.label)};return(t.disable===!0||t.split===!1&&t.disableMainBtn===!0||t.disableDropdown===!0)&&(A["aria-disabled"]="true"),A}),l=D(()=>"q-btn-dropdown__arrow"+(r.value===!0&&t.noIconAnimation===!1?" rotate-180":"")+(t.split===!1?" q-btn-dropdown__arrow-container":"")),c=D(()=>pk(t)),h=D(()=>Aq(t));ke(()=>t.modelValue,A=>{var O;(O=s.value)==null||O[A?"show":"hide"]()}),ke(()=>t.split,C);function d(A){r.value=!0,n("beforeShow",A)}function f(A){n("show",A),n("update:modelValue",!0)}function m(A){r.value=!1,n("beforeHide",A)}function _(A){n("hide",A),n("update:modelValue",!1)}function k(A){n("click",A)}function P(A){Ua(A),C(),n("click",A)}function L(A){var O;(O=s.value)==null||O.toggle(A)}function T(A){var O;(O=s.value)==null||O.show(A)}function C(A){var O;(O=s.value)==null||O.hide(A)}return Object.assign(i,{show:T,hide:C,toggle:L}),Nt(()=>{t.modelValue===!0&&T()}),()=>{const A=[F($t,{class:l.value,name:t.dropdownIcon||i.$q.iconSet.arrow.dropdown})];return t.disableDropdown!==!0&&A.push(F(Cq,{ref:s,id:o.value,class:t.contentClass,style:t.contentStyle,cover:t.cover,fit:!0,persistent:t.persistent,noEscDismiss:t.noEscDismiss,noRouteDismiss:t.noRouteDismiss,autoClose:t.autoClose,noFocus:t.noFocus,noRefocus:t.noRefocus,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,separateClosePopup:!0,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:d,onShow:f,onBeforeHide:m,onHide:_},e.default)),t.split===!1?F(Mt,{class:"q-btn-dropdown q-btn-dropdown--simple",...h.value,...a.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:k},{default:()=>rt(e.label,[]).concat(A),loading:e.loading}):F(Yd,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:t.rounded,square:t.square,...c.value,glossy:t.glossy,stretch:t.stretch},()=>[F(Mt,{class:"q-btn-dropdown--current",...h.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:P},{default:e.label,loading:e.loading}),F(Mt,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...a.value,...c.value,disable:t.disable===!0||t.disableDropdown===!0,rounded:t.rounded,color:t.color,textColor:t.textColor,dense:t.dense,size:t.size,padding:t.padding,ripple:t.ripple},()=>A)])}}}),Rq={props:{user:null,funAltera:null,funSair:null}};function kq(t,e,n,i,r,s){return _n(),ap("div",null,[ne(WE,{label:n.user!=null?n.user.email:"",color:"white",push:"",flat:"","no-caps":"",icon:"account_circle",class:"gt-xs"},{default:be(()=>[ne(Jd,null,{default:be(()=>[An((_n(),oi(ia,{clickable:"",onClick:n.funAltera,class:"text-primary"},{default:be(()=>[ne(ti,null,{default:be(()=>[ne(Ls,null,{default:be(()=>e[0]||(e[0]=[ai("Alterar Senha")])),_:1,__:[0]})]),_:1}),ne(ti,{side:""},{default:be(()=>[ne($t,{name:"lock_reset",color:"primary"})]),_:1})]),_:1},8,["onClick"])),[[Vs]]),An((_n(),oi(ia,{clickable:"",onClick:n.funSair,class:"bg-primary text-white"},{default:be(()=>[ne(ti,null,{default:be(()=>[ne(Ls,null,{default:be(()=>e[1]||(e[1]=[ai("Sair")])),_:1,__:[1]})]),_:1}),ne(ti,{side:""},{default:be(()=>[ne($t,{name:"logout",color:"white"})]),_:1})]),_:1},8,["onClick"])),[[Vs]])]),_:1})]),_:1},8,["label"]),ne(WE,{color:"white",push:"",flat:"","no-caps":"",fab:"",icon:"account_circle",class:"lt-sm"},{default:be(()=>[ne(Jd,null,{default:be(()=>[An((_n(),oi(ia,{clickable:"",onClick:n.funAltera,class:"text-primary"},{default:be(()=>[ne(ti,null,{default:be(()=>[ne(Ls,null,{default:be(()=>e[2]||(e[2]=[ai("Alterar Senha")])),_:1,__:[2]})]),_:1}),ne(ti,{side:""},{default:be(()=>[ne($t,{name:"lock_reset",color:"primary"})]),_:1})]),_:1},8,["onClick"])),[[Vs]]),An((_n(),oi(ia,{clickable:"",onClick:n.funSair,class:"bg-primary text-white"},{default:be(()=>[ne(ti,null,{default:be(()=>[ne(Ls,null,{default:be(()=>e[3]||(e[3]=[ai("Sair")])),_:1,__:[3]})]),_:1}),ne(ti,{side:""},{default:be(()=>[ne($t,{name:"logout",color:"white"})]),_:1})]),_:1},8,["onClick"])),[[Vs]])]),_:1})]),_:1})])}const Pq=dl(Rq,[["render",kq]]),zr=class zr{static init(e){zr.tarefasCollection=H6(xn.databaseStore,"tarefas"),e&&e()}static recupera(e,n,i){let r=[rq("concluida","==",!1)],s=sq(n||"dataLimite",i||"asc"),o=iq(zr.tarefasCollection,r,s);dq(o).then(a=>{if(a){const l=a.docs.map(c=>({key:c.id,...c.data()}));console.log(l),e&&e(l)}})}static cadastra(e,n,i){mq(zr.tarefasCollection,e).then(()=>{n&&n()}).catch(r=>{i&&i(r)})}static exclui(e,n,i){pq(Ff(xn.databaseStore,"tarefas",e.key)).then(()=>n()).catch(r=>i(r))}static atualiza(e,n,i){let r=e.key;delete e.key,e.dataLimite=e.dataLimite,e.dataAtualiza=new Date().toISOString(),fq(Ff(xn.databaseStore,"tarefas",r),e).then(()=>n()).catch(s=>i(s))}};Ei(zr,"tarefasCollection",null),Ei(zr,"user",null);let ir=zr;const zm=""+new URL("mytasks-BBbnfIzf.png",import.meta.url).href,xq={components:{DropDownUser:Pq},data(){return{user:null,tab:"lista",tarefa:{titulo:"",descricao:""},tarefas:[],diagaltera:!1}},beforeCreate(){},mounted(){this.$q.loading.show(),xn.init(),Nn.verificaLogado(()=>{this.user=Nn.user,ir.user=Nn.user,this.todas(),this.$q.loading.hide()},()=>{this.$router.push({path:"/login"})}),ir.init(t=>{this.tarefas=[]})},methods:{handleSwipe({evt:t,...e}){console.log(t),console.log(e)},limpa(){this.tarefa={titulo:"",descricao:""}},abreAltera(){this.$router.push("alterasenha")},todas(){this.limpa(),this.$q.loading.show(),ir.recupera(t=>{this.tarefas=[],t&&(this.tarefas=t),this.$q.loading.hide()})},sair(){Nn.deslogar(()=>{this.$router.push({path:"/login"})})},cadTarefa(){this.tarefa.concluida=!1,ir.cadastra(De(this.tarefa),()=>{this.$q.dialog({title:"SUCESSO",message:"Dados cadastrados com sucesso!"}).onOk(()=>{this.todas(),this.tab="lista"})},t=>{this.limpa(),this.$q.dialog({title:"ERRO",message:`${t}`})})},exclui(t){t=JSON.parse(JSON.stringify(t)),console.log("Excluindo tarefa:",t),this.$q.dialog({title:"ATENO",message:"Deseja realmente excluir essa tarefa?",cancel:"No",ok:"Sim",persistent:!0,color:"white",class:"bg-red text-white"}).onOk(()=>{ir.exclui(t,()=>{this.$q.dialog({title:"SUCESSO",message:"Dados excludos com sucesso!"}).onOk(()=>{this.todas(),this.tab="lista"})},e=>{this.limpa(),console.error("Erro ao remover:",e)})})},atualiza(){this.tarefa.key&&(this.tarefa=JSON.stringify(this.tarefa),this.tarefa=JSON.parse(this.tarefa),ir.atualiza(this.tarefa,()=>{this.$q.dialog({title:"SUCESSO",message:"Dados alterados com sucesso!"}).onOk(()=>{this.todas(),this.tab="lista"})},t=>{this.limpa(),console.error("Erro ao atualizar:",t)}))}}},Nq={class:"q-gutter-md"},Dq={class:"text-primary"},Oq={side:"",class:"lt-sm"},Mq={class:"q-gutter-md"},Lq={class:"q-gutter-md"};function Vq(t,e,n,i,r,s){const o=ip("DropDownUser");return _n(),oi(Sp,{view:"hHh lpR fFf",class:"fullscreen"},{default:be(()=>[ne(Tp,{class:"bg-primary text-white","height-hint":"98"},{default:be(()=>[ne(wp,null,{default:be(()=>[ne(fx,null,{default:be(()=>[ne(bp,null,{default:be(()=>e[10]||(e[10]=[Tt("img",{src:zm},null,-1)])),_:1,__:[10]}),e[11]||(e[11]=ai(" Minhas Tarefas "))]),_:1,__:[11]}),ne(o,{user:r.user,funAltera:s.abreAltera,funSair:s.sair},null,8,["user","funAltera","funSair"])]),_:1}),ne(bx,{modelValue:r.tab,"onUpdate:modelValue":e[0]||(e[0]=a=>r.tab=a),dense:"",class:"text-white","active-color":"white","indicator-color":"white",align:"left"},{default:be(()=>[ne(gv,{to:"lista",name:"lista",label:"Lista"}),ne(gv,{to:"cadastro",name:"cadastro",label:"Cadastro"})]),_:1},8,["modelValue"])]),_:1}),ne(Cp,null,{default:be(()=>[ne(xx,{modelValue:r.tab,"onUpdate:modelValue":e[4]||(e[4]=a=>r.tab=a),animated:"",class:"row q-pa-md",swipeable:"",draggable:""},{default:be(()=>[An((_n(),oi(bv,{name:"lista",draggable:""},{default:be(()=>[e[13]||(e[13]=Tt("div",{class:"text-h6"},"Tarefas",-1)),Tt("div",Nq,[ne(Jd,{bordered:"",separator:""},{default:be(()=>[(_n(!0),ap(qn,null,$A(r.tarefas,a=>An((_n(),oi(ia,{clickable:!1,key:a.key,class:"bg-blue-1 q-pa-lg"},{default:be(()=>[ne(ti,null,{default:be(()=>[ne(Ls,null,{default:be(()=>[ai(Zo(a.titulo),1)]),_:2},1024),ne(Ls,{caption:""},{default:be(()=>[ai(Zo(a.descricao),1),e[12]||(e[12]=Tt("br",null,null,-1)),Tt("span",Dq,Zo(a.dataLimite?"Vencimento: ":"Sem data limite")+" "+Zo(new Date(`${a.dataLimite} 00:00:00 GMT-0300`).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1)]),_:2,__:[12]},1024),Tt("p",Oq,[ne(Yd,{push:""},{default:be(()=>[ne(Mt,{icon:"update",color:"green",onClick:l=>{r.tarefa=a,r.diagaltera=!0}},null,8,["onClick"]),ne(Mt,{icon:"delete",color:"red",onClick:l=>s.exclui(a)},null,8,["onClick"])]),_:2},1024)])]),_:2},1024),ne(ti,{side:"",class:"gt-xs"},{default:be(()=>[ne(Yd,{push:""},{default:be(()=>[ne(Mt,{label:"Alterar",icon:"update",color:"green",onClick:l=>{r.tarefa=a,r.diagaltera=!0}},null,8,["onClick"]),ne(Mt,{label:"Excluir",icon:"delete",color:"red",onClick:l=>s.exclui(a)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[mp,!1]])),128))]),_:1})])]),_:1,__:[13]})),[[Xd,s.handleSwipe,void 0,{mouse:!0,right:!0,left:!0}]]),An((_n(),oi(bv,{name:"cadastro",draggable:""},{default:be(()=>[ne(za,{class:"bg-blue-1 q-pa-md"},{default:be(()=>[e[14]||(e[14]=Tt("div",{class:"text-h6"},"Nova Tarefa",-1)),Tt("div",Mq,[ne(Sn,{filled:"",class:"q-mb-lg",type:"text",modelValue:r.tarefa.titulo,"onUpdate:modelValue":e[1]||(e[1]=a=>r.tarefa.titulo=a),label:"Ttulo *",hint:"Ttulo da tarefa","lazy-rules":"",rules:[a=>a&&a.length>0||"Digite um ttulo"]},null,8,["modelValue","rules"]),ne(Sn,{filled:"",class:"q-mb-lg",type:"text",modelValue:r.tarefa.descricao,"onUpdate:modelValue":e[2]||(e[2]=a=>r.tarefa.descricao=a),label:"Descrio *",hint:"Descrio da tarefa","lazy-rules":"",rules:[a=>a&&a.length>0||"Digite uma descrio"]},null,8,["modelValue","rules"]),ne(Sn,{filled:"",class:"q-mb-lg",type:"date",modelValue:r.tarefa.dataLimite,"onUpdate:modelValue":e[3]||(e[3]=a=>r.tarefa.dataLimite=a),label:"Data limite *",hint:"Data limite"},null,8,["modelValue"]),Tt("div",null,[ne(Mt,{label:"Salvar",color:"primary",onClick:s.cadTarefa},null,8,["onClick"]),ne(Mt,{label:"Cancelar",color:"primary",flat:"",class:"q-ml-sm"})])])]),_:1,__:[14]})]),_:1})),[[Xd,s.handleSwipe,void 0,{mouse:!0,right:!0,left:!0}]])]),_:1},8,["modelValue"]),ne(Dw,{modelValue:r.diagaltera,"onUpdate:modelValue":e[9]||(e[9]=a=>r.diagaltera=a),persistent:""},{default:be(()=>[ne(za,{style:{width:"700px","max-width":"80vw"},class:"bg-green-3"},{default:be(()=>[ne(Hr,null,{default:be(()=>e[15]||(e[15]=[Tt("div",{class:"text-h6"},"Tarefa",-1)])),_:1,__:[15]}),ne(Hr,{class:"q-pt-none"},{default:be(()=>[Tt("div",Lq,[ne(Sn,{filled:"",type:"text",modelValue:r.tarefa.titulo,"onUpdate:modelValue":e[5]||(e[5]=a=>r.tarefa.titulo=a),label:"Ttulo *",hint:"Ttulo da tarefa","lazy-rules":"",rules:[a=>a&&a.length>0||"Digite um ttulo"]},null,8,["modelValue","rules"]),ne(Sn,{color:"white",filled:"",type:"text",modelValue:r.tarefa.descricao,"onUpdate:modelValue":e[6]||(e[6]=a=>r.tarefa.descricao=a),label:"Descrio *",hint:"Descrio da tarefa","lazy-rules":"",rules:[a=>a&&a.length>0||"Digite uma descrio"]},null,8,["modelValue","rules"]),ne(Sn,{filled:"",type:"date",modelValue:r.tarefa.dataLimite,"onUpdate:modelValue":e[7]||(e[7]=a=>r.tarefa.dataLimite=a),label:"Data limite *",hint:"Data limite"},null,8,["modelValue"])])]),_:1}),ne(jw,{align:"right",class:"bg-green-2"},{default:be(()=>[An(ne(Mt,{label:"Alterar",onClick:s.atualiza},null,8,["onClick"]),[[Vs]]),An(ne(Mt,{flat:"",label:"Fechar",onClick:e[8]||(e[8]=()=>{s.limpa(),s.todas()})},null,512),[[Vs]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const Fq=dl(xq,[["render",Vq]]),lS=Fe({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(t,{slots:e,emit:n}){const i=Le(),r=_e(null);let s=0;const o=[];function a(m){const _=typeof m=="boolean"?m:t.noErrorFocus!==!0,k=++s,P=(C,A)=>{n(`validation${C===!0?"Success":"Error"}`,A)},L=C=>{const A=C.validate();return typeof A.then=="function"?A.then(O=>({valid:O,comp:C}),O=>({valid:!1,comp:C,err:O})):Promise.resolve({valid:A,comp:C})};return(t.greedy===!0?Promise.all(o.map(L)).then(C=>C.filter(A=>A.valid!==!0)):o.reduce((C,A)=>C.then(()=>L(A).then(O=>{if(O.valid===!1)return Promise.reject(O)})),Promise.resolve()).catch(C=>[C])).then(C=>{if(C===void 0||C.length===0)return k===s&&P(!0),!0;if(k===s){const{comp:A,err:O}=C[0];if(O!==void 0&&console.error(O),P(!1,A),_===!0){const B=C.find(({comp:S})=>typeof S.focus=="function"&&dp(S.$)===!1);B!==void 0&&B.comp.focus()}}return!1})}function l(){s++,o.forEach(m=>{typeof m.resetValidation=="function"&&m.resetValidation()})}function c(m){m!==void 0&&Et(m);const _=s+1;a().then(k=>{_===s&&k===!0&&(t.onSubmit!==void 0?n("submit",m):(m==null?void 0:m.target)!==void 0&&typeof m.target.submit=="function"&&m.target.submit())})}function h(m){m!==void 0&&Et(m),n("reset"),Ft(()=>{l(),t.autofocus===!0&&t.noResetFocus!==!0&&d()})}function d(){ul(()=>{if(r.value===null)return;const m=r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),_=>_.tabIndex!==-1);m==null||m.focus({preventScroll:!0})})}dr(hw,{bindComponent(m){o.push(m)},unbindComponent(m){const _=o.indexOf(m);_!==-1&&o.splice(_,1)}});let f=!1;return _o(()=>{f=!0}),xc(()=>{f===!0&&t.autofocus===!0&&d()}),Nt(()=>{t.autofocus===!0&&d()}),Object.assign(i.proxy,{validate:a,resetValidation:l,submit:c,reset:h,focus:d,getValidationComponents:()=>o}),()=>F("form",{class:"q-form",ref:r,onSubmit:c,onReset:h},rt(e.default))}}),uS=Fe({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:e}){const{proxy:{$q:n}}=Le(),i=ln(Vc,an);if(i===an)return console.error("QPage needs to be a deep child of QLayout"),an;if(ln(cw,an)===an)return console.error("QPage needs to be child of QPageContainer"),an;const s=D(()=>{const a=(i.header.space===!0?i.header.size:0)+(i.footer.space===!0?i.footer.size:0);if(typeof t.styleFn=="function"){const l=i.isContainer.value===!0?i.containerHeight.value:n.screen.height;return t.styleFn(a,l)}return{minHeight:i.isContainer.value===!0?i.containerHeight.value-a+"px":n.screen.height===0?a!==0?`calc(100vh - ${a}px)`:"100vh":n.screen.height-a+"px"}}),o=D(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>F("main",{class:o.value,style:s.value},rt(e.default))}}),qq={data(){return{email:"",senha:""}},mounted(){this.$q.loading.show(),xn.init(),Nn.verificaLogado(()=>{this.$router.push({path:"/index"}),this.$q.loading.hide()},()=>{this.$q.loading.hide()})},methods:{async onSubmit(){const t=this.email,e=this.senha;this.$q.loading.show(),await Nn.logar(t,e,()=>{this.$q.loading.hide(),this.$router.push({path:"/index"})},n=>{this.$q.loading.hide(),this.$q.dialog({title:"ERRO",message:`Erro ao logar ${n}`}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})})},onReset(){this.email="",this.password=""}}},Bq={class:"offset-0 col-12 offset-md-3 col-md-6"};function Uq(t,e,n,i,r,s){const o=ip("q-tsolbar-title");return _n(),oi(Sp,{view:"hHh lpr fFf",class:"fullscreen"},{default:be(()=>[ne(Tp,{elevated:"",class:"bg-primary text-white","height-hint":"98"},{default:be(()=>[ne(wp,null,{default:be(()=>[ne(o,null,{default:be(()=>[ne(bp,null,{default:be(()=>e[2]||(e[2]=[Tt("img",{src:zm},null,-1)])),_:1,__:[2]}),e[3]||(e[3]=ai(" Acesso "))]),_:1,__:[3]})]),_:1})]),_:1}),ne(Cp,null,{default:be(()=>[ne(uS,{class:"row q-pa-md"},{default:be(()=>[Tt("div",Bq,[ne(za,{class:"q-pa-md"},{default:be(()=>[ne(lS,{onSubmit:s.onSubmit,onReset:s.onReset,class:"q-gutter-md"},{default:be(()=>[ne(Sn,{filled:"",type:"email",modelValue:r.email,"onUpdate:modelValue":e[0]||(e[0]=a=>r.email=a),label:"E-mail *","lazy-rules":"",rules:[a=>a&&a.length>0||"Digite um e-mail"]},null,8,["modelValue","rules"]),ne(Sn,{filled:"",type:"password",modelValue:r.senha,"onUpdate:modelValue":e[1]||(e[1]=a=>r.senha=a),label:"Senha *","lazy-rules":"",rules:[a=>a!==null&&a!==""||"Por favor digite a senha",a=>a.length>=6||"Mnimo de 6 caracteres"]},null,8,["modelValue","rules"]),Tt("div",null,[ne(Mt,{label:"Acessar",type:"submit",color:"primary"}),ne(Mt,{label:"Resetar",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]),_:1},8,["onSubmit","onReset"])]),_:1})])]),_:1})]),_:1})]),_:1})}const $q=dl(qq,[["render",Uq]]),jq={data(){return{email:"",senha:"",novasenha:"",user:null}},mounted(){this.$q.loading.show(),xn.init(),Nn.verificaLogado(()=>{this.user=Nn.user,console.log(this.user.email),this.email=this.user.email,this.$q.loading.hide()},()=>{this.$q.loading.hide(),this.$router.push({path:"/login"})})},methods:{async onSubmit(){const t=this.email,e=this.senha;this.$q.loading.show(),await Nn.logar(t,e,()=>{Nn.atualizaSenha(this.novasenha,()=>{this.$q.dialog({title:"Alterado",message:"Senha alterada com sucesso"}).onOk(()=>{this.$router.push({path:"/index"})}),this.$q.loading.hide()},n=>{this.$q.dialog({title:"ERRO",message:`Erro nos dados de alterao ${n}`}),this.$q.loading.hide()})},n=>{this.$q.loading.hide(),this.$q.dialog({title:"ERRO",message:`Erro nos dados atuais ${n}`}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})})},onReset(){this.email="",this.password="",this.$router.push("index")}}},Hq={class:"offset-0 col-12 offset-md-3 col-md-6"};function zq(t,e,n,i,r,s){const o=ip("q-tsolbar-title");return _n(),oi(Sp,{view:"hHh lpr fFf",class:"fullscreen"},{default:be(()=>[ne(Tp,{elevated:"",class:"bg-primary text-white","height-hint":"98"},{default:be(()=>[ne(wp,null,{default:be(()=>[ne(o,null,{default:be(()=>[ne(bp,null,{default:be(()=>e[3]||(e[3]=[Tt("img",{src:zm},null,-1)])),_:1,__:[3]}),e[4]||(e[4]=ai(" Alterar Senha "))]),_:1,__:[4]})]),_:1})]),_:1}),ne(Cp,null,{default:be(()=>[ne(uS,{class:"row q-pa-md"},{default:be(()=>[Tt("div",Hq,[ne(za,{class:"q-pa-md"},{default:be(()=>[ne(lS,{onSubmit:s.onSubmit,onReset:s.onReset,class:"q-gutter-md"},{default:be(()=>[ne(Sn,{filled:"",type:"email",modelValue:r.email,"onUpdate:modelValue":e[0]||(e[0]=a=>r.email=a),label:"E-mail *","lazy-rules":"",rules:[a=>a&&a.length>0||"Digite um e-mail"]},null,8,["modelValue","rules"]),ne(Sn,{filled:"",type:"password",modelValue:r.senha,"onUpdate:modelValue":e[1]||(e[1]=a=>r.senha=a),label:"Senha Atual *","lazy-rules":"",rules:[a=>a!==null&&a!==""||"Por favor digite a senha",a=>a.length>=6||"Mnimo de 6 caracteres"]},null,8,["modelValue","rules"]),ne(Sn,{filled:"",type:"password",modelValue:r.novasenha,"onUpdate:modelValue":e[2]||(e[2]=a=>r.novasenha=a),label:"Nova Senha *","lazy-rules":"",rules:[a=>a!==null&&a!==""||"Por favor digite a senha",a=>a.length>=6||"Mnimo de 6 caracteres"]},null,8,["modelValue","rules"]),Tt("div",null,[ne(Mt,{label:"Alterar",type:"submit",color:"primary"}),ne(Mt,{label:"Cancelar",type:"reset",color:"orange",flat:"",class:"q-ml-sm"})])]),_:1},8,["onSubmit","onReset"])]),_:1})])]),_:1})]),_:1})]),_:1})}const Wq=dl(jq,[["render",zq]]),cS=ox({history:LP(),routes:[{path:"/",redirect:{path:"/index"}},{path:"/index",name:"index",component:Fq},{path:"/login",name:"login",component:$q},{path:"/alterasenha",name:"alterasenha",component:Wq},{path:"/about",name:"about",component:()=>dx(()=>import("./AboutView-CgJdN3vI.js"),__vite__mapDeps([0,1]),import.meta.url)}]});cS.beforeEach((t,e)=>{t.name=="alterasenha"&&console.log(t.name)});const Wm=rw(ux);Wm.use(cS);Wm.use(S1,{plugins:{Dialog:Qk,Loading:Fn,LoadingBar:Wd},lang:rP,config:{loading:{spinnerColor:"primary"},loadingBar:{color:"primary",skipHijack:!0,size:"20px"}}});Wm.mount("#app");export{dl as _,Tt as a,ap as c,_n as o};
